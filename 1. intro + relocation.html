<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<title>Berlin Passages</title>
<style title="Twine CSS">@keyframes appear{0%{opacity:0}to{opacity:1}}@keyframes fade-in-out{0%,to{opacity:0}50%{opacity:1}}@keyframes rumble{25%{top:-0.1em}75%{top:0.1em}0%,to{top:0px}}@keyframes shudder{25%{left:0.1em}75%{left:-0.1em}0%,to{left:0px}}@keyframes buoy{25%{top:0.25em}75%{top:-0.25em}0%,to{top:0px}}@keyframes sway{25%{left:0.25em}75%{left:-0.25em}0%,to{left:0px}}@keyframes pulse{0%{transform:scale(0, 0)}20%{transform:scale(1.2, 1.2)}40%{transform:scale(0.9, 0.9)}60%{transform:scale(1.05, 1.05)}80%{transform:scale(0.925, 0.925)}to{transform:scale(1, 1)}}@keyframes zoom-in{0%{transform:scale(0, 0)}to{transform:scale(1, 1)}}@keyframes shudder-in{0%, to{transform:translateX(0em)}5%, 25%, 45%{transform:translateX(-1em)}15%, 35%, 55%{transform:translateX(1em)}65%{transform:translateX(-0.6em)}75%{transform:translateX(0.6em)}85%{transform:translateX(-0.2em)}95%{transform:translateX(0.2em)}}@keyframes rumble-in{0%, to{transform:translateY(0em)}5%, 25%, 45%{transform:translateY(-1em)}15%, 35%, 55%{transform:translateY(1em)}65%{transform:translateY(-0.6em)}75%{transform:translateY(0.6em)}85%{transform:translateY(-0.2em)}95%{transform:translateY(0.2em)}}@keyframes fidget{0%, 8.1%, 82.1%, 31.1%, 38.1%, 44.1%, 40.1%, 47.1%, 74.1%, 16.1%, 27.1%, 72.1%, 24.1%, 95.1%, 6.1%, 36.1%, 20.1%, 4.1%, 91.1%, 14.1%, 87.1%, to{left:0px;top:0px}8%, 82%, 31%, 38%, 44%{left:-1px}40%, 47%, 74%, 16%, 27%{left:1px}72%, 24%, 95%, 6%, 36%{top:-1px}20%, 4%, 91%, 14%, 87%{top:1px}}@keyframes slide-right{0%{transform:translateX(-100vw)}}@keyframes slide-left{0%{transform:translateX(100vw)}}@keyframes slide-up{0%{transform:translateY(100vh)}}@keyframes slide-down{0%{transform:translateY(-100vh)}}@keyframes fade-right{0%{opacity:0;transform:translateX(-1em)}to{opacity:1}}@keyframes fade-left{0%{opacity:0;transform:translateX(1em)}to{opacity:1}}@keyframes fade-up{0%{opacity:0;transform:translateY(1em)}to{opacity:1}}@keyframes fade-down{0%{opacity:0;transform:translateY(-1em)}to{opacity:1}}@keyframes flicker{0%,29%,31%,63%,65%,77%,79%,86%,88%,91%,93%{opacity:0}30%{opacity:0.2}64%{opacity:0.4}78%{opacity:0.6}87%{opacity:0.8}92%, to{opacity:1}}@keyframes blur{0%{filter:blur(2rem);opacity:0}25%{opacity:1}to{filter:blur(0rem);opacity:1}}.dom-debug-mode tw-story,.dom-debug-mode tw-passage,.dom-debug-mode tw-sidebar,.dom-debug-mode tw-include,.dom-debug-mode tw-hook,.dom-debug-mode tw-expression,.dom-debug-mode tw-link,.dom-debug-mode tw-dialog,.dom-debug-mode tw-columns,.dom-debug-mode tw-column,.dom-debug-mode tw-align{outline:1px solid #f5a3da;min-height:32px;display:block !important}.dom-debug-mode tw-story::before,.dom-debug-mode tw-passage::before,.dom-debug-mode tw-sidebar::before,.dom-debug-mode tw-include::before,.dom-debug-mode tw-hook::before,.dom-debug-mode tw-expression::before,.dom-debug-mode tw-link::before,.dom-debug-mode tw-dialog::before,.dom-debug-mode tw-columns::before,.dom-debug-mode tw-column::before,.dom-debug-mode tw-align::before{position:absolute;top:0;left:0;height:16px;background-color:#f5a3da;color:black;font-size:16px;font-weight:normal;font-style:normal;font-family:monospace;display:inline-block;line-height:100%;white-space:pre;z-index:999997}.dom-debug-mode tw-story:hover,.dom-debug-mode tw-passage:hover,.dom-debug-mode tw-sidebar:hover,.dom-debug-mode tw-include:hover,.dom-debug-mode tw-hook:hover,.dom-debug-mode tw-expression:hover,.dom-debug-mode tw-link:hover,.dom-debug-mode tw-dialog:hover,.dom-debug-mode tw-columns:hover,.dom-debug-mode tw-column:hover,.dom-debug-mode tw-align:hover{outline:1px solid #fc9}.dom-debug-mode tw-story:hover::before,.dom-debug-mode tw-passage:hover::before,.dom-debug-mode tw-sidebar:hover::before,.dom-debug-mode tw-include:hover::before,.dom-debug-mode tw-hook:hover::before,.dom-debug-mode tw-expression:hover::before,.dom-debug-mode tw-link:hover::before,.dom-debug-mode tw-dialog:hover::before,.dom-debug-mode tw-columns:hover::before,.dom-debug-mode tw-column:hover::before,.dom-debug-mode tw-align:hover::before{background-color:#fc9;transition:background-color 1s}.dom-debug-mode tw-passage,.dom-debug-mode tw-include,.dom-debug-mode tw-hook,.dom-debug-mode tw-expression,.dom-debug-mode tw-link,.dom-debug-mode tw-dialog,.dom-debug-mode tw-columns,.dom-debug-mode tw-column,.dom-debug-mode tw-align{padding:1em;margin:0}.dom-debug-mode tw-story::before{content:'<tw-story tags="' attr(tags) '">'}.dom-debug-mode tw-passage::before{top:-16px;content:'<tw-passage tags="' attr(tags) '">'}.dom-debug-mode tw-sidebar::before{top:-16px;content:"<tw-sidebar>"}.dom-debug-mode tw-hook::before{content:'<tw-hook name="' attr(name) '">'}.dom-debug-mode tw-expression::before{content:'<tw-expression name="' attr(name) '">'}.dom-debug-mode tw-link::before{content:'<tw-link name="' attr(name) '">'}.dom-debug-mode tw-dialog::before{content:"<tw-dialog>"}.dom-debug-mode tw-columns::before{content:"<tw-columns>"}.dom-debug-mode tw-column::before{content:"<tw-column>"}.dom-debug-mode tw-align::before{content:"<tw-align>"}.dom-debug-mode tw-include::before{content:'<tw-include type="' attr(type) '" title="' attr(title) '">'}.debug-mode tw-expression{display:inline-block !important}.debug-mode tw-expression[type=variable]::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"$" attr(name)}.debug-mode tw-expression[type=tempVariable]::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"_" attr(name)}.debug-mode tw-expression[return=boolean]{background-color:rgba(179,179,179,0.2)}.debug-mode tw-expression[return=array]{background-color:rgba(255,102,102,0.2)}.debug-mode tw-expression[return=dataset]{background-color:rgba(255,128,0,0.2)}.debug-mode tw-expression[return=number]{background-color:rgba(255,179,102,0.2)}.debug-mode tw-expression[return=datamap]{background-color:rgba(255,255,102,0.2)}.debug-mode tw-expression[return=changer]{background-color:rgba(179,255,102,0.2)}.debug-mode tw-expression[return=lambda]{background-color:rgba(102,255,102,0.2)}.debug-mode tw-expression[return=hookname]{background-color:rgba(102,255,204,0.2)}.debug-mode tw-expression[return=string]{background-color:rgba(102,255,255,0.2)}.debug-mode tw-expression[return=datatype]{background-color:rgba(102,153,255,0.2)}.debug-mode tw-expression[return=gradient],.debug-mode tw-expression[return=colour]{background-color:rgba(204,102,255,0.2)}.debug-mode tw-expression[return=instant],.debug-mode tw-expression[return=macro]{background-color:rgba(240,117,199,0.2)}.debug-mode tw-expression[return=command]{background-color:rgba(153,153,255,0.2)}.debug-mode tw-expression.false{background-color:rgba(255,0,0,0.2) !important}.debug-mode tw-expression[type=macro]::before{content:"(" attr(name) ":)";padding:0 0.5rem;font-size:1rem;vertical-align:middle;line-height:normal;background-color:inherit;border:1px solid rgba(255,255,255,0.5)}.debug-mode tw-hook{background-color:rgba(0,85,255,0.1) !important}.debug-mode tw-hook::before{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"["}.debug-mode tw-hook::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"]"}.debug-mode tw-hook[name]::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"]<" attr(name) "|"}.debug-mode tw-pseudo-hook{background-color:rgba(255,170,0,0.1) !important}.debug-mode tw-collapsed::before{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"{"}.debug-mode tw-collapsed::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"}"}.debug-mode tw-verbatim::before,.debug-mode tw-verbatim::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"`"}.debug-mode tw-align[style*="text-align: center"]{background:linear-gradient(to right, rgba(255,204,189,0) 0%, rgba(255,204,189,0.25) 50%, rgba(255,204,189,0) 100%)}.debug-mode tw-align[style*="text-align: left"]{background:linear-gradient(to right, rgba(255,204,189,0.25) 0%, rgba(255,204,189,0) 100%)}.debug-mode tw-align[style*="text-align: right"]{background:linear-gradient(to right, rgba(255,204,189,0) 0%, rgba(255,204,189,0.25) 100%)}.debug-mode tw-column{background-color:rgba(189,228,255,0.2)}.debug-mode tw-enchantment{animation:enchantment 0.5s infinite;border:1px solid}.debug-mode tw-link::after,.debug-mode tw-broken-link::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:attr(passage-name)}.debug-mode tw-include{background-color:rgba(204,128,51,0.1)}.debug-mode tw-include::before{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:attr(type) ' "' attr(title) '"'}@keyframes enchantment{0%,to{border-color:#ffb366}50%{border-color:#6fc}}tw-debugger{position:fixed;box-sizing:border-box;bottom:0;right:0;z-index:999999;min-width:10em;min-height:1em;padding:0em 0.5em 0.5em 1em;font-size:1.25em;font-family:sans-serif;color:#000;border-left:solid #000 2px;border-top:solid #000 2px;border-top-left-radius:.5em;background:#fff;opacity:1}tw-debugger select{margin-right:1em;width:12em}tw-debugger button{border-radius:3px;border:solid #999 1px;margin:auto 4px;background-color:#fff;font-size:inherit;color:#000}tw-debugger button.enabled{background-color:#eee;box-shadow:inset #ddd 3px 5px 0.5em}tw-debugger .panel{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;position:absolute;bottom:100%;left:-2px;right:0;padding:1em;max-height:40vh;overflow-y:scroll;overflow-x:hidden;z-index:999998;background:#fff;border:inherit;border-bottom:solid #999 2px;border-top-left-radius:.5em;border-bottom-left-radius:.5em;font-size:0.8em}tw-debugger .panel:empty,tw-debugger .panel[hidden]{display:none}tw-debugger .panel-source,tw-debugger .panel-row-source{font-family:monospace;overflow-x:scroll;white-space:pre;-ms-flex-preferred-size:100%;flex-basis:100%}tw-debugger .panel-row-source{margin:5px 0}tw-debugger .panel-rows{width:100%;overflow-x:scroll}tw-debugger .panel-rows>*{display:table-row}tw-debugger .panel-rows>div:nth-of-type(2n){background:#EEE}tw-debugger .panel-row-buttons{text-align:right}tw-debugger .panel-variables .panel-rows:empty::before{content:"~ No variables ~";font-style:italic;color:#888;text-align:center}tw-debugger .panel-enchantments .panel-rows:empty::before{content:"~ No enchantments ~";font-style:italic;color:#888;text-align:center}tw-debugger .panel-errors .panel-rows:empty::before{content:"~ No errors... for now. ~";font-style:italic;color:#888;text-align:center}tw-debugger .panel-rows:empty+.panel-variables-bottom{display:none}tw-debugger .panel-storylets:not(.panel-exclusive) .storylet-exclusive,tw-debugger .panel-storylets:not(.panel-urgent) .storylet-urgent{display:none}tw-debugger .panel-variables-bottom{padding-top:5px}tw-debugger .enchantment-row{min-height:1.5em}tw-debugger .variable-path{opacity:0.4}tw-debugger .temporary-variable-scope,tw-debugger .enchantment-local{font-family:sans-serif;font-weight:normal;opacity:0.8;font-size:0.75em}tw-debugger .temporary-variable-scope:not(:empty)::before,tw-debugger .enchantment-local:not(:empty)::before{content:" in "}tw-debugger .variable-name,tw-debugger .enchantment-name{font-family:monospace;font-weight:bold}tw-debugger .variable-type{color:#444;font-weight:normal;text-overflow:ellipsis;overflow:hidden;max-width:10em}tw-debugger .error-row{display:table-row;background-color:rgba(230,101,204,0.3)}tw-debugger .error-row:nth-of-type(2n){background-color:rgba(237,145,219,0.3)}tw-debugger .error-row>*{display:table-cell;padding:0.25em 0.5em}tw-debugger .error-row .error-message{cursor:help}tw-debugger .error-row .error-passage{color:#444}tw-debugger .storylet-row{background-color:rgba(201,233,222,0.3)}tw-debugger .storylet-row:nth-child(2n){background-color:rgba(128,203,178,0.3)}tw-debugger .storylet-row.storylet-closed{font-style:italic;opacity:0.4;background-color:rgba(217,217,217,0.3)}tw-debugger .storylet-row.storylet-closed:nth-child(2n){background-color:rgba(166,166,166,0.3)}.storylet-error tw-debugger .storylet-row{background-color:rgba(230,101,204,0.3)}.storylet-error tw-debugger .storylet-row:nth-child(2n){background-color:rgba(237,145,219,0.3)}tw-debugger .storylet-row .storylet-name,tw-debugger .storylet-row .storylet-value{display:inline-block;width:50%}tw-debugger .tabs{padding-bottom:0.5em}tw-debugger .tab{border-radius:0px 0px 0.5em 0.5em;border-top:none}tw-debugger .resizer{position:absolute;height:3em;border-left:2px solid #ccc;border-right:2px solid #ccc;top:10px;left:4px;width:8px;cursor:ew-resize}tw-dialog{z-index:999997;border:#fff solid 2px;padding:2em;color:#fff;background-color:#000;display:block}@media (min-width: 576px){tw-dialog{max-width:50vw}}tw-dialog input[type=text]{font-size:inherit;width:100%}tw-dialog-links{text-align:right;display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end}tw-backdrop{z-index:999996;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,0.8);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}tw-backdrop ~ tw-backdrop{display:none}tw-link,.link,tw-icon,.enchantment-clickblock{cursor:pointer}tw-link,.enchantment-link{color:#4169E1;font-weight:bold;text-decoration:none;transition:color 0.2s ease-in-out}tw-passage [style^="color"] tw-link:not(:hover),tw-passage [style*=" color"] tw-link:not(:hover),tw-passage [style^="color"][hover="true"] tw-link:hover,tw-passage [style*=" color"][hover="true"] tw-link:hover,tw-passage [style^="color"] .enchantment-link:not(:hover),tw-passage [style*=" color"] .enchantment-link:not(:hover),tw-passage [style^="color"][hover="true"] .enchantment-link:hover,tw-passage [style*=" color"][hover="true"] .enchantment-link:hover{color:inherit}tw-link:hover,.enchantment-link:hover{color:#00bfff}tw-link:active,.enchantment-link:active{color:#DD4B39}.visited{color:#6941e1}tw-passage [style^="color"] .visited:not(:hover),tw-passage [style*=" color"] .visited:not(:hover),tw-passage [style^="color"][hover="true"] .visited:hover,tw-passage [style*=" color"][hover="true"] .visited:hover{color:inherit}.visited:hover{color:#E3E}tw-broken-link{color:#993333;border-bottom:2px solid #993333;cursor:not-allowed}tw-passage [style^="color"] tw-broken-link:not(:hover),tw-passage [style*=" color"] tw-broken-link:not(:hover),tw-passage [style^="color"][hover="true"] tw-broken-link:hover,tw-passage [style*=" color"][hover="true"] tw-broken-link:hover{color:inherit}.enchantment-mouseover{border-bottom:2px dashed #999}.enchantment-mouseout{border:rgba(64,149,191,0.6) 1px solid}.enchantment-mouseout:hover{background-color:rgba(175,197,207,0.75);border:transparent 1px solid;border-radius:0.2em}.enchantment-clickblock{width:100%;height:100%;display:block}.enchantment-clickblock>:not(tw-enchantment)::after{content:"";width:100%;height:100%;top:0;left:0;display:block;box-sizing:border-box;position:absolute;pointer-events:none;color:rgba(65,105,225,0.5);transition:color 0.2s ease-in-out}.enchantment-clickblock>:not(tw-enchantment):hover::after{color:rgba(0,191,255,0.5)}.enchantment-clickblock>:not(tw-enchantment):active::after{color:rgba(222,78,59,0.5)}.enchantment-clickblock>:not(tw-enchantment)::after{box-shadow:inset 0 0 0 0.5vmax}.enchantment-clickblock>tw-passage::after,.enchantment-clickblock>tw-sidebar::after{box-shadow:0 0 0 0.5vmax}.enchantment-mouseoverblock>:not(tw-enchantment)::after{content:"";width:100%;height:100%;top:0;left:0;display:block;box-sizing:border-box;position:absolute;pointer-events:none;border:2px dashed #999}.enchantment-mouseoutblock>:not(tw-enchantment)::after{content:"";width:100%;height:100%;top:0;left:0;display:block;box-sizing:border-box;position:absolute;pointer-events:none;border:rgba(64,149,191,0.6) 2px solid}.enchantment-mouseoutblock:hover>:not(tw-enchantment)::after{content:"";width:100%;height:100%;top:0;left:0;display:block;box-sizing:border-box;position:absolute;pointer-events:none;background-color:rgba(175,197,207,0.75);border:transparent 2px solid;border-radius:0.2em}tw-link.enchantment-button,.enchantment-link.enchantment-button,.enchantment-button:not(.enchantment-link) tw-link,.enchantment-button:not(.enchantment-link) .enchantment-link{border-radius:16px;border-style:solid;border-width:2px;text-align:center;padding:0px 8px;display:block}tw-dialog-links{padding-top:1.5em}tw-dialog-links tw-link{border-radius:16px;border-style:solid;border-width:2px;text-align:center;padding:0px 8px;display:block;display:inline-block}html{margin:0;height:100%;overflow-x:hidden}*,:before,:after{position:relative;box-sizing:inherit}body{margin:0;height:100%}tw-storydata{display:none}tw-story{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;font:100% Georgia, serif;box-sizing:border-box;width:100%;min-height:100%;font-size:1.5em;line-height:1.5em;padding:5% 5%;overflow:hidden;background-color:#000;color:#fff}tw-story [style*=content-box] *{box-sizing:border-box}@media (min-width: 576px){tw-story{padding:5% 20%}}tw-story tw-consecutive-br{display:block;height:1.6ex;visibility:hidden}tw-story select{background-color:transparent;font:inherit;border-style:solid;padding:2px}tw-story select:not([disabled]){color:inherit}tw-story textarea{resize:none;background-color:transparent;font:inherit;color:inherit;border-style:none;padding:2px}tw-story input[type=checkbox]{transform:scale(1.5);margin:0 0.5em}tw-story tw-noscript{animation:appear 0.8s}tw-passage{display:block}tw-sidebar{text-align:center;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}@media (min-width: 576px){tw-sidebar{left:-5em;width:3em;position:absolute;-ms-flex-direction:column;flex-direction:column}tw-enchantment[style*="width"]>tw-sidebar{width:inherit}}tw-icon{display:inline-block;margin:0.5em 0;font-size:66px;font-family:"Verdana",sans-serif}tw-icon[alt]{opacity:0.2}tw-icon[alt]:hover{opacity:0.4}tw-icon[data-label]::after{font-weight:bold;content:attr(data-label);font-size:20px;bottom:-20px;left:-50%;white-space:nowrap}tw-meter{display:block}tw-hook:empty,tw-expression:empty{display:none}tw-error{display:inline-block;border-radius:0.2em;padding:0.2em;font-size:1rem;cursor:help;white-space:pre-wrap}tw-error.error{background-color:rgba(223,58,190,0.6);color:#fff}tw-error.warning{background-color:rgba(223,140,58,0.6);color:#fff;display:none}.debug-mode tw-error.warning{display:inline}tw-error-explanation{display:block;font-size:0.8rem;line-height:1rem}tw-open-button,tw-folddown{cursor:pointer;line-height:0em;border-radius:1px;border:1px solid black;font-size:0.8rem;margin:0 0.4rem;padding:2px;white-space:pre}tw-folddown::after{content:"\25b6"}tw-folddown.open::after{content:"\25bc"}tw-open-button::after{content:"Open"}tw-notifier{border-radius:0.2em;padding:0.2em;font-size:1rem;background-color:rgba(223,182,58,0.4);display:none}.debug-mode tw-notifier{display:inline}tw-notifier::before{content:attr(message)}tw-colour{border:1px solid black;display:inline-block;width:1em;height:1em}tw-enchantment:empty{display:none}h1{font-size:3em}h2{font-size:2.25em}h3{font-size:1.75em}h1,h2,h3,h4,h5,h6{line-height:1em;margin:0.3em 0 0.6em 0}pre{font-size:1rem;line-height:initial}small{font-size:70%}big{font-size:120%}mark{color:rgba(0,0,0,0.6);background-color:#ff9}ins{color:rgba(0,0,0,0.6);background-color:rgba(255,242,204,0.5);border-radius:0.5em;box-shadow:0em 0em 0.2em #ffe699;text-decoration:none}center{text-align:center;margin:0 auto;width:60%}blink{text-decoration:none;animation:fade-in-out 1s steps(1, end) infinite alternate}tw-align{display:block}tw-columns{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between}.transition-in{animation:appear 0ms step-start}.transition-out{animation:appear 0ms step-end}[data-t8n^=dissolve].transition-in,[data-t8n=fade].transition-in{animation:appear .8s}[data-t8n^=dissolve].transition-out,[data-t8n=fade].transition-out{animation:appear .8s reverse}[data-t8n^=shudder].transition-in{display:inline-block !important;animation:shudder-in .8s}[data-t8n^=shudder].transition-out{display:inline-block !important;animation:shudder-in .8s reverse}[data-t8n^=rumble].transition-in{display:inline-block !important;animation:rumble-in .8s}[data-t8n^=rumble].transition-out{display:inline-block !important;animation:rumble-in .8s reverse}[data-t8n^=pulse].transition-in{animation:pulse .8s;display:inline-block !important}[data-t8n^=pulse].transition-out{animation:pulse .8s reverse;display:inline-block !important}[data-t8n^=zoom].transition-in{animation:zoom-in .8s;display:inline-block !important}[data-t8n^=zoom].transition-out{animation:zoom-in .8s reverse;display:inline-block !important}[data-t8n^=blur].transition-in{animation:blur .8s;display:inline-block !important}[data-t8n^=blur].transition-out{animation:blur .8s reverse;display:inline-block !important}[data-t8n^=slideleft].transition-in{animation:slide-left .8s;display:inline-block !important}[data-t8n^=slideleft].transition-out{animation:slide-right .8s reverse;display:inline-block !important}[data-t8n^=slideright].transition-in{animation:slide-right .8s;display:inline-block !important}[data-t8n^=slideright].transition-out{animation:slide-left .8s reverse;display:inline-block !important}[data-t8n^=slideup].transition-in{animation:slide-up .8s;display:inline-block !important}[data-t8n^=slideup].transition-out{animation:slide-down .8s reverse;display:inline-block !important}[data-t8n^=slidedown].transition-in{animation:slide-down .8s;display:inline-block !important}[data-t8n^=slidedown].transition-out{animation:slide-up .8s reverse;display:inline-block !important}[data-t8n^=fadeleft].transition-in{animation:fade-left .8s;display:inline-block !important}[data-t8n^=fadeleft].transition-out{animation:fade-right .8s reverse;display:inline-block !important}[data-t8n^=faderight].transition-in{animation:fade-right .8s;display:inline-block !important}[data-t8n^=faderight].transition-out{animation:fade-left .8s reverse;display:inline-block !important}[data-t8n^=fadeup].transition-in{animation:fade-up .8s;display:inline-block !important}[data-t8n^=fadeup].transition-out{animation:fade-down .8s reverse;display:inline-block !important}[data-t8n^=fadedown].transition-in{animation:fade-down .8s;display:inline-block !important}[data-t8n^=fadedown].transition-out{animation:fade-up .8s reverse;display:inline-block !important}[data-t8n^=flicker].transition-in{animation:flicker .8s}[data-t8n^=flicker].transition-out{animation:flicker .8s reverse}
</style>
</head>
<body>
<tw-story><noscript><tw-noscript>JavaScript needs to be enabled to play Berlin Passages.</tw-noscript></noscript></tw-story>
<tw-storydata name="Berlin Passages" startnode="96" creator="Twine" creator-version="2.3.14" ifid="AA5983C3-304F-40A2-9F98-6E1B7CDB5405" zoom="0.6" format="Harlowe" format-version="3.2.2" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@100&display=swap');

@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

@import url('https://fonts.googleapis.com/css2?family=Freehand&family=Press+Start+2P&display=swap');


tw-story {
  background-color: black;
  font-size: 1.5em;
  line-height:normal;
}


tw-passage {
  background-color: black;
  text-align: center;
}

tw-passage[tags="title"]{
  text-align: center; 
  font-size: 20vh;
  font-size: 20vw;
  font-size: 20vmin;
  line-height: normal;
}

tw-passage[tags="newspaper"]{
  font-family: 'IBM Plex Mono', monospace;
    text-align: left; 
}


tw-passage[tags="dialogue"]{
    text-align: left; 
}

tw-passage[tags="game"]{
  font-family: "Press Start 2P", system-ui;
  font-size: .7em;
  font-weight: 200;
  font-style: normal;
  text-align: left;
  line-height: 1.6;
}

tw-passage[tags="journal"]{
  font-family: "Freehand", cursive;
  font-size: 1.5em;
  font-weight: 400;
  font-style: normal;
}

tw-passage[tags="definition"] {
  background-color: white;
  border: .3em black;
  color: black;
  padding: 2em;
  text-align: left; 
}

tw-story[tags="nostalgie"] {
  background: grey;
}
tw-passage[tags="nostalgie"] {
  background: grey;
  color: black;
  padding: 6em;
  text-align: center;
}
tw-story[tags="nostalgie"] tw-link, tw-story[tags="nostalgie"] .enchantment-link {
    color: black; 
}
tw-story[tags="nostalgie"] tw-link:hover, tw-story[tags="nostalgie"] .enchantment-link:hover {
    color: blue; 
}
tw-story[tags="nostalgie"] .visited {
    color: red; 
}


------------------------------

.imageA {position: absolute; top: 20px; left: 10px}
.imageB {position: absolute; top: 20px; left: 600px}

tw-passage[tags="spreepark"]{
  background-image: url('https://od.lk/s/ODNfNDg5NTg0NTNf/Alter_Achterbahnstunnel_im_brachen_Spreepark_Berlin.jpg');
  background-size: 100%;
}

tw-passage[tags="LandschaftJohannistal"]{
  background-image: url('https://upload.wikimedia.org/wikipedia/commons/c/c3/NSG_Johannisthal_Adlershof_Panorama.jpg');
  margin: 0;
}

tw-passage[tags="strokower-strasse"]{
  background-image: url('https://i.imgur.com/UXKbQNk.jpg');
  background-size: 100%; 
}</style><script role="script" id="twine-user-script" type="text/twine-javascript"></script><tw-passagedata pid="1" name="Google maps (introduction)" tags="" position="459,55" size="100,100">&lt;span style=&quot;font-size: 400%&quot;&gt;2023&lt;/span&gt;

There is a feature in Google Maps where you can see the main transportation lines in colors.

[[For example-&gt;tokio]]

</tw-passagedata><tw-passagedata pid="2" name="april 2022" tags="" position="719,404" size="100,100">In April 2022 I moved to Berlin into the very remote neighborhood of Adlershof. 

Far enough from Berlin&#39;s excitement

While everyone was living in the cool neighborhoods of Kreuzberg, Neukölln and Friedrichshain, I had to drive at least an hour to get into Mitte where my university was.

But at least I had Anmeldung

&lt;img src=&quot;https://i.imgur.com/gmnIyw3.jpg&quot; title=&quot;source: imgur.com&quot;, width=&quot;400&quot;, height=&quot;500&quot;/&gt; 

guess I&#39;ll have to adapt.
Starting up with understanding this [[impossible German.-&gt;adlershof]]</tw-passagedata><tw-passagedata pid="3" name="the conversation" tags="dialogue" position="1619,3384" size="100,100">&quot;So tell me about your thesis, I think now it&#39;s a good time.&quot;
&quot;now?&quot;
&quot;yeah, isn&#39;t it?&quot;

|ok&gt;[&quot;ok...&quot;] 
|idk&gt;[&quot;hmmm I don&#39;t know&quot;] 

(click:?ok)[
(replace:?ok)[&quot;ok... what do you want to know?&quot;
&quot;are you doing something about Berlin?&quot;
&quot;how did you know?&quot;
&quot;Well I think so because you asked for my book.&quot;
&quot;yeah, I mean... I think I want to do...
[[a game about Berlin]]
[[a story about Berlin]]]
(hide:?idk)]

(click:?idk)[
(replace:?idk)[
&quot;oh come on, just give me a hint, I already know it&#39;s about Berlin&quot;
&quot;how did you know?&quot;
&quot;Well I think so because you asked for my book.&quot;
&quot;yeah, I mean... I think I want to do...

[[a game about Berlin]]
[[a story about Berlin]]]
(hide:?ok)]</tw-passagedata><tw-passagedata pid="4" name="coding try outs" tags="" position="157,48" size="100,100">&lt;a href=&#39;https://httpsimage.com&#39;&gt;&lt;img src=&#39;https://httpsimage.com/v2/9ad5e162-46b1-475e-9502-9ee16e4aec5c.gif&#39;&gt;&lt;/a&gt;

&lt;a href=&#39;https://httpsimage.com&#39;&gt;&lt;img src=&#39;https://i.imgur.com/lRgj8oc.gif&#39;&gt;&lt;/a&gt;
</tw-passagedata><tw-passagedata pid="5" name="Landschaft Johannistal" tags="" position="6259,2525" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/eyXUPfG.gif&quot;/&gt;-&gt;Landschaft Johannistal airfield]]</tw-passagedata><tw-passagedata pid="6" name="Mahjoub Hady, Journey Through Time:" tags="" position="157,951" size="100,100">Mahjoub Hady, Journey Through Time: Public Transportation in Berlin. The evolution of Berlin&#39;s public transportation system from its beginning untill today, storymap blog, https://storymaps.arcgis.com/stories/4cdc48413b3d4f89b474173b888ceb0c, July 18, 2021. last consulted 15.11.2023


The Turkish Bazaar
Besides the Geisterbahnhof, other stations were closed due to low passenger use.  While some of these were simply bricked over, others were repurposed. Bülowstraße had decommissioned subway cars installed in the elevated station, and was used as a &quot;Türkischer Basar&quot; from 1978 to 1991. 

</tw-passagedata><tw-passagedata pid="7" name="Different Approaches" tags="" position="43,973" size="100,100">Just like it’s city, Berlin’s public transportation system got divided into “BVG (West)” and “BVG (Ost)”. After initially sharing a common network in the early 1950s, streetcar and bus services began to be separated into an eastern (Soviet-occupied) sector, and a western (Allied-occupied) sector. The U-Bahn and S-Bahn ran continuously until the construction of the Berlin Wall in August 1961. 

During their separation, East and West Berlin had two different approaches when it came to the development of the public transportation system. West Berlin looked to modern urban cities like London or Los Angeles as role models and decided that tramways were outdated, and cleared tracks to create auto lanes. By 1967, there were no more trams running in West Berlin. The bus systems were upgraded to iconic double-decker buses. Plans for an expanded subway system failed. Out of 15 projects proposed, 9 were begun, and 0 completed.

East Berlin, meanwhile, not only kept but expanded their tramways. During the years of Berlin’s separation (1961-1990), 24 new lines were built and opened. Looking to Moscow instead of London, East Berlin updated their bus system with trolleybuses instead of double-decker buses. These trolleybuses were electric buses with trolley poles that would draw their power from elevated power lines. 


</tw-passagedata><tw-passagedata pid="8" name="Ghoststations" tags="" position="697,1862" size="100,100">During the years of the Berlin Wall, the entrance of 16 |underground-stations&gt;[underground stations]
(click:?underground-stations)[(replace:?underground-stations)[U-Bahn and S-Bahn stations that were located in Mitte, a district in East Berlin,]] were sealed with brick walls and barbed wire to prevent Eastern citizens from fleeing to West Berlin. 

These stations were along the lines: U8, U6 and S1, and the trains that rode past them would not stop. 
West Berliners described this experience as spooky. 

That&#39;s why these stations got called “Geisterbahnhof”, 
or 
[[“ghost stations”-&gt;ghost sbahn footage]]. 
</tw-passagedata><tw-passagedata pid="9" name="adlershof" tags="" position="791,568" size="100,100">
&lt;img src=&quot;https://i.imgur.com/zXXDGA3.jpg&quot; title=&quot;source: imgur.com&quot; width=&quot;300&quot;/&gt;

&lt;img src=&quot;https://i.imgur.com/G5IRKeH.jpg&quot; title=&quot;source: imgur.com&quot; width=&quot;300&quot;/&gt;


|die-besiedlung&gt;[Die Besiedlung]
|des-Adlershofer-Fleckens&gt;[des Adlershofer Fleckens]
|geht-auf-Büdner-zurück&gt;[geht auf Büdner zurück]
|Kleinstbauern-mit-eigenem-Haus&gt;[Kleinstbauern mit eigenem Haus] 
|und-angeschlossenen-Feldern&gt;[und angeschlossenen Feldern]
(click:?die-besiedlung)[(replace:?die-besiedlung)[The settlement]]
(click:?des-Adlershofer-Fleckens)[(replace:?des-Adlershofer-Fleckens)[of the Adlershofer patch]](click:?geht-auf-Büdner-zurück)[(replace:?geht-auf-Büdner-zurück)[goes back to Büdner]](click:?Kleinstbauern-mit-eigenem-Haus)[(replace:?Kleinstbauern-mit-eigenem-Haus)[small farmers with their own house]](click:?und-angeschlossenen-Feldern)[(replace:?und-angeschlossenen-Feldern)[[[and attached fields.-&gt;Nach der ddr]]]]
</tw-passagedata><tw-passagedata pid="10" name="I got my bike" tags="" position="1147,225" size="100,100">On may 2022 I bought a used bike in kleinenanzeigen. 

I didn&#39;t really to bike before so it got me a time to get used to it. 

But with time it became my best friend, and I explored with her as much as I could. 


[[&lt;img src=&quot;https://od.lk/s/ODNfNDkwMTc5OTNf/bike%20%283%29%20300x400.jpg&quot;/&gt;
-&gt;Köpenick]]

[[&lt;img src=&quot;https://od.lk/s/ODNfNDkwMTc5OTFf/bike%20%282%29%20300x400.jpg&quot;/&gt;-&gt;Treptower Park]]

</tw-passagedata><tw-passagedata pid="11" name="s8" tags="" position="997,1183" size="100,100">
&lt;img src=&quot;https://i.imgur.com/uSls4YY.png&quot; title=&quot;source: imgur.com&quot; width=&quot;400&quot;/&gt;


In october 2022 started to take a tech course in Landsberger Alle
it&#39;s still not close, but somehow the trains to get here pass more often than the ones to Mitte.


[[I wonder why...-&gt;sbahn everyday]]


&lt;img src=&quot;https://i.imgur.com/Ruvthhu.gif&quot;/&gt;</tw-passagedata><tw-passagedata pid="12" name="thesis topic" tags="" position="1479,2267" size="100,100">I&#39;m not sure when I decided to do my theis about Berlin. 
My journals say it was in April of 2023.

But it was probably before.

It was when I decided to occupy it, 
to live in it for real.
It was when I decided that
I do belong in this city


&lt;span style=&quot;font-size: 150%&quot;&gt;(align:&quot;==&gt;&quot;)+(box:&quot;=========XXXXXXXXXX=&quot;)[continue in &quot;bonding&quot;]&lt;/span&gt;</tw-passagedata><tw-passagedata pid="13" name="showcases" tags="" position="1787,878" size="100,100">One night there was not much to do
so we just took a walk around the neighborhood.

At some point we came across a little houseware shop

|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTAyOTYyMzhf/pb%20vitrinas%20%282%29.jpg&quot;, width=&quot;800&quot;/&gt;]
(click:?img1)[
(replace:?img1)[&lt;img src=&quot;https://od.lk/s/ODNfNTAyOTYyMzlf/pb%20vitrinas%20%283%29.jpg&quot;, width=&quot;800&quot;/&gt;

Its showcases didn&#39;t look like what I usually see in Mitte and Hackescher Markt.
They were so homemade and a bit old fashioned, 
as if they got freezed in time.

I found them kind of adorable.

[[Or maybe it&#39;s just me -&gt;schöne sachen]]]]
</tw-passagedata><tw-passagedata pid="14" name="may 2023 Teltow" tags="dialogue" position="1913,3112" size="100,100">May was blossoming, and spring was in it&#39;s highest peak. 

&quot;It&#39;s still so sunny outside, let&#39;s go see the cherry trees, I think this is their last week.&quot;
&quot;where is that?&quot;
&quot;Teltow&quot;
&quot;Pfff all the way down there? but that&#39;s Brandemburg already&quot;
&quot;please, please, please, please&quot;
[[&quot;ok...&quot;-&gt;nach teltow]]
</tw-passagedata><tw-passagedata pid="15" name="first of mai" tags="" position="1349,1661" size="100,100">&#39;&#39;1st of Mai
(Labour day)&#39;&#39;

&lt;img src=&quot;https://i.imgur.com/iiBYK8T.gif&quot;, width=&quot;400&quot;/&gt;

These boots I found in the communitary stash are perfect for [[today-&gt;BWL first of mai]].</tw-passagedata><tw-passagedata pid="16" name="first snow" tags="" position="976,1456" size="100,100">And so in november the first snow came

[[none of this would have happened if it haven&#39;t snowed that day-&gt;strokower strasse]]
</tw-passagedata><tw-passagedata pid="17" name="Ernst Thalmann Planetarium" tags="" position="1955,2000" size="100,100">&lt;img src=&quot;https://imgur.com/FbPFxdV.gif&quot;, width=&quot;400&quot;/&gt;

Oh wow!
[[Let&#39;s go inside-&gt;planetarium]]</tw-passagedata><tw-passagedata pid="18" name="Move in" tags="" position="6352,287" size="100,100">In August 2023 I moved to Lichtenberg, 
another Kiez that used to belong to the [[GDR.-&gt;plattenbau]]

&lt;img src=&quot;https://od.lk/s/ODNfNTI1MTE0MDBf/plattenbauern%20%282%29.jpg&quot;, width=&quot;500&quot;/&gt;</tw-passagedata><tw-passagedata pid="19" name="oxi club" tags="" position="6411,3860" size="100,100">The DJ was not as good as I remembered and I vomited already, but I didn&#39;t feel too bad.
At this point I&#39;m not sure what I felt at all. 

I left the dance floor to have break and sat next to the bar. 
I wasn&#39;t having a great time but I was not letting myself down.

So I just started to socialize
[[What else can you do in this situations, in these clubs?-&gt;oxi 2]]
</tw-passagedata><tw-passagedata pid="20" name="strokower strasse" tags="newspaper" position="1136,1515" size="100,100">(align:&quot;==&gt;&quot;)+(box:&quot;====XXXXXXXXXXXXXXXXXXXX=&quot;)[BERLIN 28.01.1980]
|strokower&gt;[&lt;img src=&quot;https://i.imgur.com/lJ2kusL.jpg&quot; title=&quot;source: imgur.com&quot; width=100%/&gt;]
Press picture 64477 Industrial area / industrial area in the Storkower street in Berlin, the former capital of the GDR, German democratic republic
(click:?strokower)[
(replace:?strokower)[[[&lt;img src=&quot;https://i.imgur.com/UXKbQNk.jpg&quot; title=&quot;source: imgur.com&quot; width=100%/&gt; -&gt;more s8]]&lt;span style=&quot;font-size: 50%&quot;&gt;]]
</tw-passagedata><tw-passagedata pid="21" name="Spreepark" tags="" position="1223,649" size="100,100">hmm what is this place?

&lt;img src=&quot;https://od.lk/s/ODNfNDk2MDA2MTRf/spreepark.jpg&quot;, width=&quot;400&quot;/&gt;

looks like some kind of amusement park

its so mysterious 
and &#39;&#39;$adjective1&#39;&#39; right?

it&#39;s abandoned though
and fenced

[[I don&#39;t think I can enter-&gt;Spreepark story]]</tw-passagedata><tw-passagedata pid="22" name="tokio" tags="" position="437,166" size="100,100">
[[This is tokio -&gt; new york]]

&lt;img src=&quot;https://i.imgur.com/fIvm4mZ.jpg&quot; title=&quot;source: imgur.com&quot; width=&quot;400&quot;/&gt;&lt;/a&gt;</tw-passagedata><tw-passagedata pid="23" name=" new york" tags="" position="436,272" size="100,100">[[and this is New York-&gt; paris]]

&lt;img src=&quot;https://i.imgur.com/mPoiUZm.jpg&quot; title=&quot;source: imgur.com&quot; width=&quot;400&quot;/&gt;</tw-passagedata><tw-passagedata pid="24" name=" paris" tags="" position="435,373" size="100,100">
[[Paris-&gt; mexico city]]

&lt;img src=&quot;https://i.imgur.com/koDVO0v.jpg&quot; title=&quot;source: imgur.com&quot; width=&quot;400&quot;/&gt;</tw-passagedata><tw-passagedata pid="25" name=" mexico city" tags="" position="440,493" size="100,100">&lt;img src=&quot;https://i.imgur.com/9yL3RWg.jpg&quot; title=&quot;source: imgur.com&quot; width=&quot;400&quot;/&gt;


Mexico city

[[The city I come from -&gt; berlin]] </tw-passagedata><tw-passagedata pid="26" name=" berlin" tags="" position="478,614" size="100,100">And this is Berlin

&lt;img src=&quot;https://i.imgur.com/IJBo6qF.jpg&quot; title=&quot;source: imgur.com&quot; /&gt;&lt;/a&gt;


The city where I live in

Now, in comparison from other cities
something seems different about Berlin. 

For instance, we see some kind of circular structure in the middle, 
the famous &#39;&#39;Ring Bahn&#39;&#39;. 

But, there is also a red web of lines that seems not to be completly integrated to the rest.

The reason for this is of course [[historical.-&gt;oberbaumbrücke 1946]]</tw-passagedata><tw-passagedata pid="27" name="divided city" tags="" position="58,1282" size="100,100">&lt;img src=&quot;https://i.imgur.com/JPXiAYX.gif&quot; title=&quot;source: imgur.com&quot; /&gt;

</tw-passagedata><tw-passagedata pid="28" name="1945" tags="" position="458,869" size="100,100">
&lt;img width=&quot;512&quot; alt=&quot;Occupied Berlin&quot; src=&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/5/56/Occupied_Berlin.svg/512px-Occupied_Berlin.svg.png&quot;&gt;



[[West-&gt;1961]] / [[East-&gt;1961]]


&lt;!--  &lt;span style=&quot;font-size: 300%&quot;&gt;1945&lt;/span&gt;

Germany looses WW2 
the allies divide the city into four ocupational sectors

 
the American, the French and the British in the west

the soviets in the East. 

This eventually turned into West Berlin and East Berlin.
The western ruled by the capitalist government and the eastern side by the socialist government of East Germany, a.k.a the GDR-&gt;1961. --&gt;</tw-passagedata><tw-passagedata pid="29" name="1961" tags="" position="485,1002" size="100,100">&lt;span style=&quot;font-size: 300%&quot;&gt;[[1961-&gt;divided transportation]]&lt;/span&gt;

&lt;img src=&quot;https://od.lk/s/ODNfNDg5OTc0Nzhf/oberbaumbr%C3%BCcke%201961.jpeg&quot;/&gt;





&lt;!-- 
A wall was built dividing Berlin into two completly seperated cities.

two worlds. 

Each with 
[(cycling-link: &quot;their own government&quot;, &quot;their own laws&quot;, &quot;their own parties&quot;, &quot;their own radio and tv transmisions&quot;, &quot;their own education system&quot;, &quot;their own values&quot;, &quot;their own culture&quot;, &quot;their own music&quot;, &quot;their own rebels&quot;, &quot;their own youth&quot;)]

and also their own 
[[transportation system-&gt;divided transportation]]--&gt;
</tw-passagedata><tw-passagedata pid="30" name="today" tags="" position="455,1461" size="100,100">This is one of the many things that we heridited from the Wall,
even 35 years after the reunification 

I am convinced that ghosts from the wall
big and small
scary and innocent
permeate the lives of everyone who lives in this city.
Even [[Ausländern -&gt; relocation]] like myself.
</tw-passagedata><tw-passagedata pid="31" name="divided transportation" tags="" position="461,1157" size="100,100">Just like it’s city, Berlin’s public transportation system got divided into

|BVGW&gt;[BVG West]
(click:?BVGW)[
(replace:?BVGW)[West Berlin looked to cities like London or Los Angeles as role models and decided that tramways were outdated. 
So they cleared tracks to create auto lanes for buses. 
By 1967, there were no more trams running in West Berlin.]]

and 

|BVGO&gt;[BVG Ost]
(click:?BVGO)[
(replace:?BVGo)[East Berlin, meanwhile, not only kept but expanded their tramways. 
During the years separation, 24 new lines were built and opened. 

&lt;img src=&quot;https://i.imgur.com/JPXiAYX.gif&quot; title=&quot;source: imgur.com&quot; /&gt;

These are the red lines we see in google maps [[today-&gt;1989]].]]</tw-passagedata><tw-passagedata pid="32" name=" relocation" tags="title" position="754,36" size="100,100">[[relocation-&gt;2022]]</tw-passagedata><tw-passagedata pid="33" name="gif" tags="" position="129,185" size="100,100">&lt;img src=&quot;https://i.imgur.com/vHm8shb.gif&quot; title=&quot;source: imgur.com&quot; /&gt;</tw-passagedata><tw-passagedata pid="34" name="Hauswald1" tags="" position="1050,1850" size="100,100">
[[&lt;img src=&quot;https://i.imgur.com/vHm8shb.gif&quot; title=&quot;source: imgur.com&quot; /&gt;-&gt;Rosenthaler Platz]]

On that day I met someone from Berlin
from East Berlin more especifically

He lives in Prenzlauerberg
This a beautiful neighborhood.

And I don&#39;t feel so [[cold-&gt;Rosenthaler Platz]] when I go there.</tw-passagedata><tw-passagedata pid="35" name="Köpenick" tags="" position="1256,365" size="100,100">&lt;img src=&quot;https://i.imgur.com/OciimSl.gif&quot;, width=&quot;400&quot;/&gt;




[[lets follow the Spree-&gt;Treptower Park]]
</tw-passagedata><tw-passagedata pid="36" name="Treptower Park" tags="" position="1071,477" size="100,100">&lt;img src= &quot;https://i.imgur.com/DSO6yF7.gif&quot; /&gt;

I am in Treptower Park
where to now?
&lt;img src=&quot;https://i.imgur.com/av9SXed.jpg&quot; title=&quot;source: imgur.com&quot; width=&quot;600&quot;/&gt;

[[south-&gt;entrance soviet memorial]]
[[east-&gt;Spreepark]]</tw-passagedata><tw-passagedata pid="37" name="Nach der ddr" tags="" position="677,717" size="100,100">|nach-gründung&gt;[Nach Gründung der DDR](click:?nach-gründung)[(replace:?nach-gründung)[After the GDR was founded]]
|wurde-in-Adlershof&gt;[wurde in Adlershof die Akademie der Wissenschaften der DDR angesiedelt](click:?wurde-in-Adlershof)[(replace:?wurde-in-Adlershof)[the Academy of Sciences of the GDR was located in Adlershof]]
|die-viele-Institute&gt;[die viele Institute der angewandten Forschung 
(Chemie, Elektronik, Cosmology) 
beherbergte.](click:?die-viele-Institute)[(replace:?die-viele-Institute)[which housed many institutes of applied research
(chemistry, electronics, astronomy).]]


|ein-radiotelescope&gt;[Ein Radioteleskop mit 36 Meter Durchmesser fand hier ebenfalls einen Standort. ](click:?ein-radiotelescope)[(replace:?ein-radiotelescope)[A radio telescope with a diameter of 36 meters was also located here.]]
&lt;img src=&quot;https://od.lk/s/ODNfNDk2MDA2NTVf/radiotelescope%20adlershof.jpg&quot;/&gt;

[[But not anymore...-&gt;adlershof tower]]

</tw-passagedata><tw-passagedata pid="38" name="discovery" tags="title" position="1145,17" size="100,100">[[discovery-&gt;I got my bike]]</tw-passagedata><tw-passagedata pid="39" name="occupation" tags="title" position="1556,14" size="100,100">occupation

[[(squatting)-&gt;map u2-u8]]</tw-passagedata><tw-passagedata pid="40" name="Mauerweg" tags="" position="1898,3268" size="100,100">This place is also called the Mauerweg because it is located right in one of the outer borders of the former West-Berlin. 

So before, a part of the wall was also here. 

&lt;img src=&quot;https://od.lk/s/ODNfNTA2MjI4MjZf/mauerweg%20%281%29.jpg&quot;, width=&quot;500&quot;/&gt;

After the reunification in 1990, TV-Asahi, a Japanese television station, initiated a big fund-raising campaign to plant more the 9,000 trees around Berlin and Brandenburg.

Among them, 1,100 [[cherry blossom trees]] were planted along the Mauerweg.

&lt;!--The TV-Asahi cherry blossom alley is located directly on the former border strip between Teltow and Berlin-Lichterfelde. For a few weeks a year, the approximately 1.5 km long green strip is transformed into a sea of pink. Over 1,000 blossoming cherry trees line the Wall Path, making a walk there a very special experience.

In 1990, a Japanese television station initiated a big fund-raising campaign, which raised around one million euros. The money was used to plant more than 9,000 trees in Berlin and Brandenburg. Among them, more than 1,100 flowering cherry trees were planted along the Mauerweg, the course of the former GDR wall encircling West Berlin.

According to Japanese tradition, the cherry blossoms are supposed to bring peace and tranquillity to the peoples hearts.

https://www.brandenburg-tourism.com/poi/flaeming/gardens-and-parks/tv-asahi-cherry-blossom-alley/--&gt;

</tw-passagedata><tw-passagedata pid="41" name="bonding" tags="title" position="1820,19" size="100,100">[[bonding-&gt;building connections]]</tw-passagedata><tw-passagedata pid="42" name="celebration" tags="title" position="2519,61" size="100,100">[[celebration -&gt;first footage]]</tw-passagedata><tw-passagedata pid="43" name="neglection" tags="title" position="3965,46" size="100,100">[[neglection-&gt;grey summer]]
</tw-passagedata><tw-passagedata pid="44" name="nostalgie" tags="title" position="6384,122" size="100,100">|nostalgie&gt;[nostalgie]
(click:?nostalgie)[
(replace:?nostalgie)[[[&#39;&#39;ost&#39;&#39;-&gt;Move in]]algie]]
</tw-passagedata><tw-passagedata pid="45" name="Eberswalder-Schönhauser" tags="" position="1753,586" size="100,100">Continuing forward Eberswalder Straße, You&#39;ll pretty soon come across a green bridge where the U2 rides.

|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTAyOTU0MzBf/NVKC7734.JPG&quot;, width=&quot;800&quot;/&gt;]
(click:?img1)[
(replace:?img1)[&lt;img src=&quot;https://od.lk/s/ODNfNTAyOTU0NDFf/NVKC7734%20sobrepuesta.jpg&quot;, width=&quot;800&quot;/&gt;
You will have then reached [[Schönhauser Alle]], literally the &quot;Alley of beautiful houses&quot;]]
</tw-passagedata><tw-passagedata pid="46" name="typewriter" tags="" position="190,321" size="100,100">
&lt;!-- Set the text to show --&gt;
(set: $typewriterText to &quot;-so you&#39;re doing a game... about Berlin&quot;)
{
  &lt;!-- Create a variable to track the position within the $typewriterText string --&gt;
  (set: $typewriterPos to 1)

  &lt;!-- Create a hook to hold the typed text --&gt;
  |typewriterOutput&gt;[]

  &lt;!-- Set a delay of 20ms seconds per loop --&gt;
  (live: 20ms)[

    &lt;!-- Add the next character to the hook --&gt;
    (append: ?typewriterOutput)[(print: $typewriterText&#39;s $typewriterPos)]

    &lt;!-- Update the position --&gt;
    (set: $typewriterPos to it + 1)

    &lt;!-- If it&#39;s gone past the end, stop --&gt;
    (if: $typewriterPos is $typewriterText&#39;s length + 1)[
      (stop:)
    ]
  ]
}

{
 (live: 2s)[
    (stop:)
    (set: $typewriterText2 to &quot;-yeah I mean... I think so, my idea is that to show a kind of map&quot;)
{
  (set: $typewriterPos2 to 1)

  |typewriterOutput2&gt;[]

  (live: 20ms)[

    (append: ?typewriterOutput2)[(print: $typewriterText2&#39;s $typewriterPos2)]

    (set: $typewriterPos2 to it + 1)

    (if: $typewriterPos2 is $typewriterText2&#39;s length + 1)[
      (stop:)
    ]
  ]
}
 ]
}

{
 (live: 6s)[
    (stop:)
    (set: $typewriterText3 to &quot;-a map??&quot;)
{
  (set: $typewriterPos3 to 1)

  |typewriterOutput3&gt;[]

  (live: 20ms)[

    (append: ?typewriterOutput3)[(print: $typewriterText3&#39;s $typewriterPos3)]

    (set: $typewriterPos3 to it + 1)

    (if: $typewriterPos3 is $typewriterText3&#39;s length + 1)[
      (stop:)
    ]
  ]
}
 ]
}

</tw-passagedata><tw-passagedata pid="47" name="reconnection" tags="title" position="8010,142" size="100,100">[[reconnection-&gt;september opening stations]] </tw-passagedata><tw-passagedata pid="48" name="Berlin is" tags="" position="902,291" size="100,100">

(set: $adjective1 to (prompt: &quot;Berlin is&quot;, &quot;write an adjective!&quot;))

Berlin is...

|img1&gt;[&lt;img src=&quot;https://i.imgur.com/HlCYqDf.jpg&quot; title=&quot;source: imgur.com&quot;, width=&quot;400&quot;, height=&quot;500&quot;/&gt;]

(click:?img1)[
(replace:?img1)[|img2&gt;[&lt;img src=&quot;https://i.imgur.com/JMI8ra3.jpg&quot; title=&quot;source: imgur.com&quot;, width=&quot;400&quot;, height=&quot;500&quot;/&gt;]]]

(click:?img2)[
(replace:?img2)[|img3&gt;[&lt;img src=&quot;https://i.imgur.com/YdcAbf3.jpg&quot; title=&quot;source: imgur.com&quot; width=&quot;400&quot;, height=&quot;500&quot;/&gt;]]]

(click:?img3)[
(replace:?img3)[$adjective1 [[right?-&gt;april 2022]]]]
</tw-passagedata><tw-passagedata pid="49" name="click and replace" tags="" position="140,451" size="100,100">|img1&gt;[Die Besiedlung des Adlershofer Fleckens geht auf Büdner zurück, Kleinstbauern mit eigenem Haus und angeschlossenen Feldern.].
(click:?img1)[
(replace:?img1)[The settlement of the Adlershofer patch goes back to Büdner , small farmers with their own house and attached fields.]]
&lt;img src=&quot;https://i.imgur.com/HlCYqDf.jpg&quot; title=&quot;source: imgur.com&quot; /&gt;


</tw-passagedata><tw-passagedata pid="50" name="audio player" tags="" position="137,609" size="100,100">&lt;audio controls&gt;
	&lt;source src=&quot;https://od.lk/f/ODNfNDg2NzU1MzBf&quot; type=&quot;audio/mpeg&quot;&gt;
&lt;/audio&gt;


https://od.lk/f/ODNfNDg2NzU1MzBf</tw-passagedata><tw-passagedata pid="51" name="moving to the east" tags="" position="602,533" size="100,100">&lt;iframe src=&quot;https://www.opendrive.com/player/ODNfNDg2NzU1MzBfVlJTVUw&quot; height=&quot;25&quot; width=&quot;297&quot; style=&quot;border:0&quot; scrolling=&quot;no&quot; frameborder=&quot;0&quot; allowtransparency=&quot;true&quot;&gt;&lt;/iframe&gt;

</tw-passagedata><tw-passagedata pid="52" name="Nach der politischen Wendetítulo" tags="" position="198,819" size="100,100">Nach der politischen Wende wurden die Betriebe fast vollständig abgewickelt, und die Betriebsgelände waren plötzlich weithin ungenutzt. So entstand der Plan, die bestehenden Einrichtungen und verbliebenen Institute in eine neue integrierte Landschaft aus Wissenschaft und Wirtschaft einzubinden. Ein markantes Symbol dieser neuen Landschaft ist das BESSY-II Elektronensynchrotron, errichtet zwischen 1993 und 1997.

After the political change , the companies were almost completely wound up and the company premises were suddenly largely unused. This is how the plan came about to integrate the existing facilities and remaining institutes into a new, integrated landscape of science and business . A striking symbol of this new landscape is the BESSY -II electron synchrotron , built between 1993 and 1997.</tw-passagedata><tw-passagedata pid="53" name="bookbooth" tags="" position="616,1392" size="100,100">&lt;img src=&quot;https://i.imgur.com/a4sWd59.jpg&quot; title=&quot;source: imgur.com&quot; &quot;400&quot;, height=&quot;500&quot; /&gt;

I found this bookbooth by my house

[[get in-&gt;castle book]]</tw-passagedata><tw-passagedata pid="54" name="castle book" tags="" position="775,1441" size="100,100">

&lt;img src=&quot;https://od.lk/s/ODNfNDg2ODY2ODBf/bookbox%20%281%29.jpg&quot;, width=&quot;400&quot;, height=&quot;500&quot;/&gt;
[[I&#39;ll take this book-&gt;opening castle book]]
</tw-passagedata><tw-passagedata pid="55" name="connecting route köpenick rudow" tags="" position="95,1129" size="100,100">Der Verbindungsweg in der Nähe der wachsenden Stadt Köpenick und dem bis ins 12. Jahrhundert nachweisbaren Rudow bot hierfür einen guten Siedlungsgrund.

The connecting route near the growing town of Köpenick and Rudow, which can be traced back to the 12th century, offered good grounds for settlement.</tw-passagedata><tw-passagedata pid="56" name="sbahn everyday" tags="" position="1072,1321" size="100,100">I took the S8 everyday

[(cycling-link: &quot;Adlershof&quot;, &quot;Landschaft Johanistal&quot;, &quot;Schöneweide&quot;, &quot;Baumschulenweg&quot;, &quot;Plänterwald&quot;, &quot;Treptower Park&quot;, &quot;Ostkreuz&quot;, &quot;Frankfurter Alle&quot;, &quot;Strokower Strasse&quot;, &quot;Landsberger Alle&quot;)]

autumn flew by

&lt;img src=&quot;https://i.imgur.com/KtA28Y4.gif&quot;/&gt;

it got colder 
and 
[[colder-&gt;first snow]]</tw-passagedata><tw-passagedata pid="57" name="cycling ink" tags="" position="238,692" size="100,100">[(cycling-link: &quot;their own government&quot;, &quot;their own laws&quot;, &quot;their own parties&quot;, &quot;their own radio and tv transmisions&quot;, &quot;their own education system&quot;, &quot;their own values&quot;, &quot;their own culture&quot;, &quot;their own music&quot;, &quot;their own rebels&quot;, &quot;their own youth&quot;)]</tw-passagedata><tw-passagedata pid="58" name="2022" tags="" position="737,198" size="100,100">

&lt;span style=&quot;font-size: 400%&quot;&gt;[[2022-&gt;Berlin is]]&lt;/span&gt; 

&lt;img src=&quot;https://od.lk/s/ODNfNDg5OTgzMTNf/oberbaumbr%C3%BCcke%281000x750%29.jpg&quot;/&gt;
</tw-passagedata><tw-passagedata pid="59" name="Jannowitzbrücke opening" tags="newspaper" position="709,2139" size="100,100">(align:&quot;==&gt;&quot;)+(box:&quot;=X&quot;)[&#39;&#39;11 November 1989&#39;&#39;]


&lt;img width=&quot;512&quot; alt=&quot;Eröffnung U-Bahnhof Jannowitzbrücke 1989&quot; src=&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Er%C3%B6ffnung_U-Bahnhof_Jannowitzbr%C3%BCcke_1989.jpg/512px-Er%C3%B6ffnung_U-Bahnhof_Jannowitzbr%C3%BCcke_1989.jpg&quot;, width=&quot;1000&quot;&gt;


|Eröffnung&gt;[Eröffnung des U-Bahnhofs Jannowitzbrücke.]

|Viele-Junge&gt;[Viele junge Menschen in der DDR] |sahen&gt;[sahen diesen U-Bahnhof ] |zum-ersten-mal&gt;[zum ersten Mal][[ in their lives. -&gt;map ghostation JB]]
(click:?Eröffnung)[(replace:?Eröffnung)[Reopening of Jannowitzbrücke U-bahn Station]](click:?Viele-Junge)[(replace:?Viele-Junge)[Many young people]](click:?sahen)[(replace:?sahen)[saw this train station]](click:?zum-ersten-mal)[(replace:?zum-ersten-mal)[for the first time]]


&lt;!--https://commons.wikimedia.org/wiki/File:Er%C3%B6ffnung_U-Bahnhof_Jannowitzbr%C3%BCcke_1989.jpg--&gt;</tw-passagedata><tw-passagedata pid="60" name="Spreepark story" tags="newspaper" position="1231,823" size="100,100">(align:&quot;==&gt;&quot;)+(box:&quot;=X&quot;)[&#39;&#39;Mar 25th 2013&#39;&#39;]

&lt;img src=&quot;https://i.imgur.com/s9roOdr.gif&quot;/&gt;

It’s been 10 years since Berlin’s one and only amusement park closed..

The VEB Kulturpark was once a symbol of GDR pride, welcoming families with its carnival attractions and majestic ferris wheel. 

Today, its a ghost of its [[former glory-&gt;Spreepark story 2]].

</tw-passagedata><tw-passagedata pid="61" name="video" tags="" position="56,814" size="100,100">&lt;div style=&quot;position:relative;width:fit-content;height:fit-content;&quot;&gt;
            &lt;a style=&quot;position:absolute;top:20px;right:1rem;opacity:0.8;&quot; href=&quot;https://clipchamp.com/watch/90xuW9g9JYB?utm_source=embed&amp;utm_medium=embed&amp;utm_campaign=watch&quot;&gt;
                &lt;img loading=&quot;lazy&quot; style=&quot;height:22px;&quot; src=&quot;https://clipchamp.com/e.svg&quot; alt=&quot;Made with Clipchamp&quot; /&gt;
            &lt;/a&gt;
            &lt;iframe allow=&quot;autoplay;&quot; allowfullscreen style=&quot;border:none&quot; src=&quot;https://clipchamp.com/watch/90xuW9g9JYB/embed&quot; width=&quot;640&quot; height=&quot;360&quot;&gt;&lt;/iframe&gt;
        &lt;/div&gt;</tw-passagedata><tw-passagedata pid="62" name="soviet memorial" tags="" position="959,761" size="100,100">
&lt;!--&lt;div style=&quot;position:relative;width:fit-content;height:fit-content;&quot;&gt;
            &lt;a style=&quot;position:absolute;top:20px;right:1rem;opacity:0.8;&quot; href=&quot;https://clipchamp.com/watch/nxJW1YtGwuE?utm_source=embed&amp;utm_medium=embed&amp;utm_campaign=watch&quot;&gt;
                &lt;img loading=&quot;lazy&quot; style=&quot;height:22px;&quot; src=&quot;https://clipchamp.com/e.svg&quot; alt=&quot;Made with Clipchamp&quot; /&gt;
            &lt;/a&gt;
            &lt;iframe allow=&quot;autoplay;&quot; allowfullscreen style=&quot;border:none&quot; src=&quot;https://clipchamp.com/watch/nxJW1YtGwuE/embed&quot; width=&quot;640&quot; height=&quot;360&quot;&gt;&lt;/iframe&gt;
        &lt;/div&gt;--&gt;
		
&lt;img src=&quot;https://i.imgur.com/YLaLq6p.gif&quot;, width=&quot;400&quot;/&gt;
		
This place looks so mesmerizing
and kinda &#39;&#39;$adjective2&#39;&#39; [[right?-&gt;soviet memorial info]]


</tw-passagedata><tw-passagedata pid="63" name="S-bahn" tags="" position="1056,1036" size="100,100">Sadly I can not bike everywhere

time to take the [[S-bahn.-&gt;s8]]</tw-passagedata><tw-passagedata pid="64" name="Rosenthaler Platz" tags="newspaper" position="1036,1980" size="100,100">(align:&quot;==&gt;&quot;)+(box:&quot;=X&quot;)[&#39;&#39;December 20 1989&#39;&#39;]


&lt;img src=&quot;https://od.lk/s/ODNfNDkwMjA0MjBf/rosenthalerplatz.gif&quot;/&gt;

The Rosenthaler Platz subway ghoststation reopened a Friday at 1 p.m. It is on the West Berlin subway line [[U8-&gt;map ghoststation RP]] between Leinestrasse and Paracelsusbad.</tw-passagedata><tw-passagedata pid="65" name="oberbaumbrücke 1946" tags="" position="480,739" size="100,100">&lt;span style=&quot;font-size: 400%&quot;&gt;[[1945]]&lt;/span&gt;

&lt;img src=&quot;https://od.lk/s/ODNfNDg5OTczOTBf/oberbaumbr%C3%BCcke%201946.jpg&quot;/&gt;

</tw-passagedata><tw-passagedata pid="66" name="S9" tags="" position="831,1101" size="100,100">I am no physicist, so in order to get to my university I had to take a tram and the S9. 

&lt;img src=&quot;https://i.imgur.com/ggYwV0h.png&quot;, width=&quot;400&quot;/&gt;

It took me a while to get used to this. 
I kept on missing the [[train]]. </tw-passagedata><tw-passagedata pid="67" name="sbahn footage" tags="" position="791,1268" size="100,100">back

&lt;img src=&quot;https://i.imgur.com/JN1yptw.gif&quot;/&gt;

back to this new place so called [[home.-&gt;bookbooth]]

&lt;!--
&lt;div style=&quot;position:relative;width:fit-content;height:fit-content;&quot;&gt;
            &lt;a style=&quot;position:absolute;top:20px;right:1rem;opacity:0.8;&quot; href=&quot;https://clipchamp.com/watch/e8hWERLVmEY?utm_source=embed&amp;utm_medium=embed&amp;utm_campaign=watch&quot;&gt;
                &lt;img loading=&quot;lazy&quot; style=&quot;height:22px;&quot; src=&quot;https://clipchamp.com/e.svg&quot; alt=&quot;Made with Clipchamp&quot; /&gt;
            &lt;/a&gt;
            &lt;iframe allow=&quot;autoplay;&quot; allowfullscreen style=&quot;border:none&quot; src=&quot;https://clipchamp.com/watch/e8hWERLVmEY/embed&quot; width=&quot;640&quot; height=&quot;360&quot;&gt;&lt;/iframe&gt;
        &lt;/div&gt;--&gt;</tw-passagedata><tw-passagedata pid="68" name="opening castle book" tags="" position="814,1603" size="100,100">&lt;img src=&quot;https://i.imgur.com/KQHVcTm.gif&quot;&gt;


this book, it&#39;s from the GDR


&lt;img src=&quot;https://i.imgur.com/y2SB2Yt.gif&quot;&gt;

the maps look so...

|old&gt;[(link:&quot;old&quot;)
[(set:$adjective2 to (a:&quot;old&quot;))
(replace:?old)[old [[right?-&gt;sbahn footage 2]]]
(hide:?different,?forgotten,?isolated,?adjective)]]
|different&gt;[(link:&quot;different&quot;)
[(set:$adjective2 to (a:&quot;different&quot;))
(replace:?different)[different [[right?-&gt;sbahn footage 2]]]
(hide:?old,?forgotten,?isolated,?adjective)]]
|forgotten&gt;[(link:&quot;forgotten&quot;)
[(set:$adjective2 to (a:&quot;forgotten&quot;))
(replace:?forgotten)[forgotten [[right?-&gt;sbahn footage 2]]]
(hide:?old,?different,?isolated,?adjective)]]
|isolated&gt;[(link:&quot;isolated&quot;)
[(set:$adjective2 to (a:&quot;isolated&quot;))
(replace:?isolated)[isolated [[right?-&gt;sbahn footage 2]]]
(hide:?old,?different,?forgotten,?adjective)]]


&lt;!--
|adjective&gt;[(link:&quot;$adjective1&quot;)
[(set:$adjective2 to (a:&quot;$adjective1&quot;))
(replace:?adjective1)[$adjective [[right?-&gt;sbahn footage 2]]]
(hide:?old,?different,?forgotten,?isolated)]]--&gt;
</tw-passagedata><tw-passagedata pid="69" name="sbahn footage 2" tags="" position="650,1682" size="100,100">&lt;img src=&quot;https://i.imgur.com/SDdzsAo.gif&quot;, width=&quot;400&quot;/&gt;



I still can&#39;t believe that happened

that there was an actual wall that splitted the city in two

[[is it that easy to divide each other?-&gt;Ghoststations]]</tw-passagedata><tw-passagedata pid="70" name="ghost sbahn footage" tags="" position="818,2018" size="100,100">(cycling-link: &quot;Adlershof&quot;, &quot;Landschaft Johanistal&quot;, &quot;Schöneweide&quot;, &quot;Baumschulenweg&quot;, &quot;Plänterwald&quot;, &quot;Treptower Park&quot;, &quot;Warschauer Straße&quot;, &quot;Ostbahnhof&quot;, &quot;Jannowitzbrücke&quot;)


[[&lt;img src=&quot;https://i.imgur.com/9TjuS2D.gif&quot;, width=&quot;400&quot;/&gt;-&gt;Jannowitzbrücke opening]]</tw-passagedata><tw-passagedata pid="71" name="map ghostation JB" tags="" position="793,2276" size="100,100">&lt;img src=&quot;https://i.imgur.com/GK8ND8z.gif&quot;/&gt;

and so a new pathway opened

&lt;span style=&quot;font-size: 150%&quot;&gt;(align:&quot;==&gt;&quot;)+(box:&quot;=========XXXXXXXXXX=&quot;)[continue in &quot;discovery&quot;]&lt;/span&gt;</tw-passagedata><tw-passagedata pid="72" name="map ghoststation RP" tags="" position="1068,2132" size="100,100">&lt;img src=&quot;https://i.imgur.com/CYgmwQQ.gif&quot;/&gt;

and so another pathway opened.

and a [[new year-&gt;2023]] started.</tw-passagedata><tw-passagedata pid="73" name="Kreuzberg" tags="" position="1406,346" size="100,100">&lt;img src=&quot;https://i.imgur.com/TE9kcFO.gif&quot;/&gt;

ahh so this is the famous |kotti&gt;[Kottbuser Tor](click:?kotti)[(replace:?kotti)[better known as &quot;Kotti&quot; by Berliners]].

So many Döner shops everywhere, 
and almost no one looks German [[here.-&gt;Kreuzberg history 1]]</tw-passagedata><tw-passagedata pid="74" name="communitary living" tags="" position="1473,1523" size="100,100">&lt;img src=&quot;https://i.imgur.com/VfT9JWD.gif&quot;/&gt;

so it was not just taking over abandonded buildings
it was a political manifesto
and a desire to create
an [[alternative livestyle...-&gt;communitary stuff]]

I wonder how was that like... I barely talk with the people from my WG...</tw-passagedata><tw-passagedata pid="75" name="communitary stuff" tags="" position="1603,1637" size="100,100">
&lt;img src=&quot;https://od.lk/s/ODNfNDk1MzE3NTZf/kommunity%202.jpg&quot;, width=&quot;400&quot;/&gt;


around berlin it&#39;s so common to find random stuff that people give away,

one can take anything for free.

someone&#39;s trash is someone else&#39;s treasure, they say

let&#39;s see what we can find [[here...-&gt;first of mai]]</tw-passagedata><tw-passagedata pid="76" name="choose" tags="" position="20,532" size="100,100">choose


|cup&gt;[(link:&quot;cup&quot;)
[(set:$topic to (a:&quot;relationships&quot;))
(set:$relationships to true)
(replace:?cup)[[[your topic is-&gt;your topic]]]
(hide:?coin,?sword,?wand)]]
|coin&gt;[(link:&quot;coin&quot;)
[(set:$topic to (a:&quot;wealth&quot;))
(set:$wealth to true)
(replace:?coin)[[[your topic is-&gt;your topic]]]
(hide:?cup,?sword,?wand)]]
|sword&gt;[(link:&quot;sword&quot;)
[(set:$topic to (a:&quot;passion&quot;))
(set:$passion to true)
(replace:?sword)[[[your topic is-&gt;your topic]]]
(hide:?cup,?coin,?wand)]]
|wand&gt;[(link:&quot;wand&quot;)
[(set:$topic to (a:&quot;practice&quot;))
(set:$practice to true)
(replace:?wand)[[[your topic is-&gt;your topic]]]
(hide:?cup,?coin,?sword)]]
</tw-passagedata><tw-passagedata pid="77" name="your topic" tags="" position="21,406" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="78" name="who is there to blame?" tags="journal" position="3841,1201" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTIzMjgxMDhf/spreepark%203.png&quot;, width=&quot;600&quot;/&gt;

[[Who is there to blame?-&gt;Schuld]]

</tw-passagedata><tw-passagedata pid="79" name="soviet memorial demo 1990" tags="newspaper" position="4057,796" size="100,100">
&lt;img src=&quot;https://od.lk/s/ODNfNDkyMTM1NDZf/Bundesarchiv_Bild_183-1990-0105-300%2C_Berlin%2C_Demonstration_am_sowjetischen_Ehrenmal.jpg&quot;/&gt;


(align:&quot;==&gt;&quot;)+(box:&quot;=X&quot;)[&#39;&#39;January 3, 1990&#39;&#39;]

Berlin: Protest demonstration against neo-Nazis

Around 250,000 Berliners met on January 3, 1990 at the Treptow to protest against anti-Soviet graffiti and express their will to [[stand up against neo-fascism and anti-Sovietism.-&gt;Soviet Memorial neg 2]] </tw-passagedata><tw-passagedata pid="80" name="opening BC and BWL" tags="" position="1490,1359" size="100,100">I found these two books in the library

[[&lt;img src=&quot;https://i.imgur.com/ipMNQEe.gif&quot;, width=&quot;500&quot;/&gt; -&gt;BC squatting]]

[[&lt;img src=&quot;https://i.imgur.com/Nr8XE0y.gif&quot;/&gt;-&gt;BWL communitary living]]


should I check them out more?
|yes&gt;[yeah]
(click:?yes)[
(replace:?yes)[ which one?
[[Berlin Calling-&gt;BC squatting]]
[[Berlin Wonderland-&gt;BWL communitary living]]]]

[[hmm nah I think I&#39;m good-&gt;communitary living]]</tw-passagedata><tw-passagedata pid="81" name="map u2-u8" tags="" position="1675,141" size="100,100">&lt;img src=&quot;https://i.imgur.com/WfJw5O2.jpg&quot;, width=&quot;400&quot;/&gt;

Now I head south, towards [[Kreuzberg-&gt;ubahn ride]] in West Berlin. </tw-passagedata><tw-passagedata pid="82" name="opening of multiple stations" tags="" position="2839,47" size="100,100">
The opening of the Wall brought such drastic changes to Berlin&#39;s local transport that there was a historic event to be celebrated almost every month. 

But July 1st and 2nd were truly special. 

&lt;img src=&quot;https://od.lk/s/ODNfNTE2NzUyNzFf/alexanderplatz%20juli%201.png&quot;/&gt;

All ghost stations from U6 and U8 reopened, as East Berlin and East Germany had adopted the West German currency (DM), leaving the border checkpoints abandoned.

Orianerburgerstrasse S-bahn station followed right after, reconnecting the lines from the whole [[eastern Mitte.-&gt;alexanderplatz opening]]</tw-passagedata><tw-passagedata pid="83" name="and so summer came" tags="" position="1703,3839" size="100,100">&lt;img src=&quot;https://i.imgur.com/c6PQ59K.gif&quot;, width=&quot;400&quot;/&gt;

and so [[summer-&gt;Summer in Berlin]] finally came...


</tw-passagedata><tw-passagedata pid="84" name="more s8" tags="" position="1050,1700" size="100,100">[(cycling-link: &quot;Landsberger Alle&quot;, &quot;Greifwalder Straße&quot;, &quot;Prenzlauer Alle&quot;, &quot;Schönhauser Alle&quot;)]

I head north but still [[east-&gt;Hauswald1]]</tw-passagedata><tw-passagedata pid="85" name="1989" tags="" position="471,1302" size="100,100">&lt;span style=&quot;font-size: 300%&quot;&gt;[[1989-&gt;today]]&lt;/span&gt;


&lt;img src=&quot;https://od.lk/s/ODNfNDkyODA2NjJf/oberbaumbr%C3%BCcke%201981.jpg&quot;, width=&quot;1000&quot;/&gt;</tw-passagedata><tw-passagedata pid="86" name="entrance soviet memorial" tags="" position="987,623" size="100,100">
&lt;img src=&quot;https://od.lk/s/ODNfNDkyOTI3OTlf/soviet%20memorial.jpg&quot;, width=&quot;400&quot;/&gt;


This entry looks so magnificent, [[I wonder where it takes to.-&gt;soviet memorial]]</tw-passagedata><tw-passagedata pid="87" name="soviet memorial info" tags="" position="981,900" size="100,100">

&lt;img src=&quot;https://i.imgur.com/YPUn1r4.gif&quot;, width=&quot;400&quot;/&gt;


|Soviet&gt;[The Soviet War Memorial was built in 1949 in East Berlin, as a commemoration of the Soviet soldiers who lost their lives during World War II. It stands on the site where over 5,000 of these soldiers were buried.]
(click:?Soviet)[
(replace:?Soviet)[The memorial was created as a joint effort between Soviet and German artists and architects and was unveiled to the public on May 8, 1949, the fourth anniversary of Germany&#39;s surrender.]]

[[continue biking?-&gt;Treptower Park]]
[[I think I&#39;ve had enough for now-&gt;S-bahn]]</tw-passagedata><tw-passagedata pid="88" name="FHXB Museum" tags="" position="1485,562" size="100,100">I visited the |FHXB&gt;[FHXB](click:?FHXB)[(replace:?FHXB)[Freidrichshain-Kreuzberg]] Museum.

&lt;img src=&quot;https://od.lk/s/ODNfNDk1MzYxMThf/FHXBMuseum%C2%A9EllenRoehner.jpg&quot;, width=&quot;800&quot;/&gt;

[[get in-&gt;FHXB Museum entrance]]</tw-passagedata><tw-passagedata pid="89" name="FHXB info 1" tags="" position="1394,955" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNDkyODc2Mzdf/2%20urban%20planning.jpg&quot;, width=&quot;600&quot;/&gt;


By end of the 70&#39;s begining of the 80&#39;s this is aimed to change. Housing in West Berlin was scarce, but the state started initiatives relocate Kreuzberg&#39;s residents, to empty out the area. 

Once empty, the old buildings were demolished and new ones put up in their place. 

This destructive approach to urban development was called: 
&quot;redevelopment through demolition&quot;.

Young families, unemployed people, non-conformists and students were hit especially hard by the lack of housing. 

[[Some decided to organize themselves and fight back.-&gt;FHXB info 2]]</tw-passagedata><tw-passagedata pid="90" name="FHXB info 2" tags="" position="1377,1094" size="100,100">Residents starting to illegally take over abandoned buildings making them their new home. This occupation was known as &quot;squatting&quot; or &quot;besetzen&quot; in German.
Building owners and the West Berlin Senate were forced to offer the squatters conventional leases.
|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNDkyODc2MzZf/1%20squatting1%201979-1984.jpg&quot;, width=&quot;600&quot;/&gt;
Organizations like &quot;Citizens Initiative SO63&quot; amd &quot;K36 Squatters Council&quot;, organized comunitary living inside the occupied livings and collectively decided upon the next actions to keep the movement alive.]
(click:?img1)[
(replace:?img1)[&lt;img src=&quot;https://od.lk/s/ODNfNDkyODc2Mzhf/3%20squatting%202.jpg&quot;, width=&quot;600&quot;/&gt;

The movement became massive, even old hospitals and nursing dormitories were occupied. By the 1980&#39;s more than 275 buildings were squatted.
[[go to top floor-&gt;Top floor]]
[[return to museum-&gt;FHXB Museum entrance]]]]</tw-passagedata><tw-passagedata pid="91" name="BC squatting" tags="" position="1649,1418" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNDk1MjUzNDZf/squatting.jpg&quot;/&gt;

SO36
An area in Kreuzberg and a communitary organization of people looking for freedom and advenure...

read more?
[[yeah-&gt;opening BC and BWL]]
[[nah, I had enough-&gt;communitary living]]</tw-passagedata><tw-passagedata pid="92" name="besetz" tags="" position="1506,1205" size="100,100">&lt;img src=&quot;https://i.imgur.com/XuSBu6h.gif&quot;/&gt;
So this ocuppation of houses, this squatting really shaped this place.
I am very curious about this, I wonder if I can figure out a bit more.

[[Stay in museum-&gt;FHXB Museum entrance]] 
Go to the local library and [[read more-&gt;opening BC and BWL]]</tw-passagedata><tw-passagedata pid="93" name="BWL communitary living" tags="" position="1328,1411" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNDk1MzE2MjFf/communitary%20life.jpg&quot;/&gt;

&quot;these are our buildings, this is our city&quot;

read more?
[[yeah-&gt;opening BC and BWL]]
[[nah, I had enough-&gt;communitary living]]</tw-passagedata><tw-passagedata pid="94" name="videos first of mai" tags="" position="1364,1976" size="100,100">(align:&quot;&lt;==&quot;)+(box:&quot;X=&quot;)[&lt;img src=&quot;https://i.imgur.com/0SkDXwz.gif&quot;, width=&quot;400&quot;/&gt;]

(align:&quot;==&gt;&quot;)+(box:&quot;=========XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX=&quot;)[Today Labour day is a mix of protest, open-air raves, beer drinking, throwing molotov bombs to the polizei and sometimes burning cars. Kottbuser Tor is known to be hotspot for protest and anti-establishment attitudes.]

(align:&quot;&lt;==&quot;)+(box:&quot;====XXXXX=&quot;)[&lt;img src=&quot;https://i.imgur.com/L29F3xm.gif&quot;, width=&quot;400&quot;/&gt;]

Everyone is welcomed to joined whether you are dressed in black or not.

(align:&quot;&lt;==&quot;)+(box:&quot;===XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX============&quot;)[&lt;img src=&quot;https://i.imgur.com/7PrAnLK.gif&quot;, width=&quot;400&quot;/&gt;

That day I marched with a latinamerican pacific group. We wore red masks to differentiate ourselves from the all-dressed-in-black anarquists. 
I saw some confrontations against the police. 
But gladly [[nothing bad happened.-&gt;Berlin is 2]]]</tw-passagedata><tw-passagedata pid="95" name="BWL first of mai" tags="" position="1473,1822" size="100,100">
Every first of May since 1987, Kreuzberg celebrates a massive demonstration, which became famous because every year it turned innevatibly violent. 

[[&lt;img src=&quot;https://od.lk/s/ODNfNDk1NjE1MDdf/first%20of%20may%20%28compressed%29.jpg&quot;, width=&quot;1000&quot;/&gt;-&gt;videos first of mai]]
</tw-passagedata><tw-passagedata pid="96" name="Berlin passages" tags="" position="294,51" size="100,200">(align:&quot;&lt;==&quot;)+(box:&quot;=XXXXXXXXXXXXXXXXXXXX====&quot;)[&lt;span style=&quot;font-size: 400%&quot;&gt;Berlin Passages&lt;/span&gt;] 
&lt;!--&lt;span style=&quot;font-size: 200%&quot;&gt;(align:&quot;==&gt;&quot;)+(box:&quot;=======XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX===&quot;)[part 1]&lt;/span&gt; 

(align:&quot;&lt;==&quot;)+(box:&quot;=XXXXXXXXXXXXXXXXXXXX====&quot;)[&lt;span style=&quot;font-size: 150%&quot;&gt;Welcome to this interactive 
autobiographical historical (non)fiction&lt;/span&gt;]--&gt;


(align:&quot;&lt;==&quot;)+(box:&quot;=XXXXXXXXXXXXXXXXXXXX====&quot;)[Before starting take into consideration a few instructions:

1) If you are using mobile version please use your phone horizontallly, but I recommend to use the Desktop version for a better experience.

2) To keep on reading just click any words that are in (text-colour:blue)[&#39;&#39;blue&#39;&#39;] or &#39;&#39;bold&#39;&#39;, and if you don&#39;t see any, try clicking on the images!

3) Some images might take some time to download, so take your time on each passage to make sure you don&#39;t miss anything.]




(align:&quot;==&gt;&quot;)+(box:&quot;=======XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX===&quot;)[that would be all!
thank you for coming and [[enjoy!-&gt;Google maps (introduction)]]

~June]</tw-passagedata><tw-passagedata pid="97" name="Spreepark story 2" tags="" position="1190,982" size="100,100">
Ten years ago, in 2013, American organizers George Scheer and Stephanie Sherman united architects, academics, and Treptow residents started to discuss what to do with the abandoned park

“My temptation is to allow it to safely exist as it is, but with greater access,” says Scheer.

“But how do you do that without destroying that sense of danger and the feeling you’ve discovered 
|magical-thing&gt;[this magical thing]
that only you know exists?”
(click:?magical-thing)[
(replace:?magical-thing)[&lt;img src=&quot;https://i.imgur.com/spwdHQK.gif&quot;/&gt;]]


[[continue biking?-&gt;Treptower Park]]
[[I think I&#39;ve had enough for now-&gt;S-bahn]]</tw-passagedata><tw-passagedata pid="98" name="kotti" tags="" position="1523,275" size="100,100">|img-kotti&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNDk1MzYxMTdf/kotti%20google%20maps.jpg&quot;, width=&quot;1000&quot;/&gt;]
(click:?img-kotti)[
(replace:?img-kotti)[[[&lt;img src=&quot;https://od.lk/s/ODNfNDk1MzYxMTZf/kotti%20google%20maps%202.jpg&quot;, width=&quot;1000&quot;/&gt;-&gt;Kreuzberg]]]]</tw-passagedata><tw-passagedata pid="99" name="FHXB books" tags="" position="1632,768" size="100,100">In the museum there is an independent printer, that does posters, fanzines and some books. Although pictures were verboten (typical Berlin) I could at least take some pics of these books as reference.

&lt;img src=https://od.lk/s/ODNfNDk1MjM4Njlf/FHXB%20%281%29.jpg, width=&quot;400&quot;/&gt;

&lt;img src=https://od.lk/s/ODNfNDk1MjM4Njhf/FHXB%20%283%29.jpg, width=&quot;400&quot;/&gt;

|wir-sind&gt;[&quot;...wir sind keine Ausländer mehr&quot;](click:?wir-sind)[(replace:?wir-sind)[&quot;We are no longer foreigners&quot;]]


[[continue upstairs-&gt;Kreuzberg history 2]]
[[go back-&gt;FHXB Museum entrance]]
</tw-passagedata><tw-passagedata pid="100" name="FHXB Museum entrance" tags="" position="1442,748" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNDk1MjM4NzBf/FHXB%20%282%29.jpg&quot;/&gt;

where should I go first?

[[E1 Druckerei (printing shop)-&gt;FHXB books]]

[[Permanent exhibition-&gt;Kreuzberg history 2]]

[[Top floor]]</tw-passagedata><tw-passagedata pid="101" name="Kreuzberg history 1" tags="" position="1605,397" size="100,100">
(align:&quot;&lt;==&quot;)+(box:&quot;=X&quot;)[&lt;img src=&quot;https://i.imgur.com/8VHTPxY.gif&quot;/&gt;]

(align:&quot;&lt;==&quot;)+(box:&quot;=XXXXXXXXXXXXXXXXXXXX====&quot;)[During the Cold War, foreigner workers from Southern Europe and Turkey came to West Berlin, attracted by the job opportunities the city offered.

Many of them moved into cheap flats in post-war buildings which often were in very poor condition.]


(align:&quot;&lt;==&quot;)+(box:&quot;X=&quot;)[&lt;img src=&quot;https://i.imgur.com/e98OHzo.gif&quot;&gt;]

(align:&quot;==&gt;&quot;)+(box:&quot;=======XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX===&quot;)[Over time, Kreuzberg even got known as Little Istanbul, but today we can see people from all nationalities. 

I can listen to so much spanish everywhere when I come to [[Xberg-&gt;FHXB Museum]].

&lt;img src=&quot;https://i.imgur.com/RvRrD12.gif&quot;&gt;]
</tw-passagedata><tw-passagedata pid="102" name="Kreuzberg history 2" tags="" position="1536,903" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNDk3MDkyODhf/kreuzberg%20map%20edited.jpg&quot;, width=&quot;700&quot;/&gt;

When the Wall was built, Kreuzberg was pushed from the historical center of the city towards the periphery.

The Wall surrounded the district from three sides while zig-zagging through it&#39;s streets and parks, making it unattractive for future economic investments. This made Kreuzberg some kind of ghetto [[where the segregated would live.-&gt;FHXB info 1]]
</tw-passagedata><tw-passagedata pid="103" name="Top floor" tags="" position="1657,1052" size="100,100">This is a very lively neigborhood. So different from where I live in.

&lt;img src=&quot;https://i.imgur.com/xjzVCUx.gif&quot;, width=&quot;400&quot;/&gt;

[[return downstairs-&gt;FHXB Museum entrance]]
[[go out-&gt;besetz]]</tw-passagedata><tw-passagedata pid="104" name="2023" tags="" position="1057,2283" size="100,100">&lt;span style=&quot;font-size: 400%&quot;&gt;2023&lt;/span&gt;


&lt;img src=&quot;https://od.lk/s/ODNfNDk1NTY5Njlf/oberbaumbr%C3%BCcke%202023.jpg&quot;, width=&quot;1000&quot;/&gt;


&lt;span style=&quot;font-size: 150%&quot;&gt;(align:&quot;==&gt;&quot;)+(box:&quot;=========XXXXXXXXXX=&quot;)[continue in &quot;occupation&quot;]&lt;/span&gt;</tw-passagedata><tw-passagedata pid="105" name="adlershof tower" tags="" position="802,835" size="100,100">There might be no telescope but look at this!
&lt;img src=&quot;https://od.lk/s/ODNfNDk2MDA2MTFf/turm1.jpg&quot;, width=&quot;400&quot;/&gt;

should I go inside?

[[yeah!-&gt;hello hello?]]
[[mmm no-&gt;trudelturm]]</tw-passagedata><tw-passagedata pid="106" name="hello hello?" tags="" position="639,915" size="100,100">Hallo? hallo?
&lt;img src=&quot;https://od.lk/s/ODNfNDk2MDA2MTVf/turm%20graffity.jpg&quot;, width=&quot;400&quot;/&gt;

looks like there is [[no one here.-&gt;trudelturm]]</tw-passagedata><tw-passagedata pid="107" name="trudelturm" tags="" position="672,1043" size="100,100">Doing some quick wikipedia research, it turns out that this is the |trudelturm&gt;[Trudelturm](click:?trudelturm)[(replace:?trudelturm)[&quot;spin tower&quot;]].

This wind tunnel was built by the German Aviation Research Institute (Deutsche Versuchsanstalt für Luftfahrt, DVL), all the way back in 1934.

The &quot;Turm&quot; was an engineering innovation because it made possible for the first time to simulate the dangerous condition of aircraft spin.

Today it&#39;s mostly known because of Rammstein.

|rammstein&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNDk2MDMxODhf/trudelturm%20inside.jpg&quot;/&gt;](click:?rammstein)[(replace:?rammstein)[[[&lt;img src=&quot;https://od.lk/s/ODNfNDk2MDA3NDBf/rammstein.jpg&quot;/&gt;-&gt;S9]]]]</tw-passagedata><tw-passagedata pid="108" name="train" tags="" position="641,1188" size="100,100">But I didn&#39;t mind the long ride.

&lt;img src=&quot;https://i.imgur.com/qt3p4t8.gif&quot;/&gt;

I started memorizing the stations. 
[(cycling-link: &quot;Adlershof&quot;, &quot;Landschaft Johanistal&quot;, &quot;Schöneweide&quot;, &quot;Baumschulenweg&quot;, &quot;Plänterwald&quot;, &quot;Treptower Park&quot;, &quot;Warschauer Straße&quot;, &quot;Ostbahnhof&quot;, &quot;Jannowitzbrücke&quot;, &quot;Alexanderplatz&quot;,&quot;Hackescher Markt&quot;)]


[[and back-&gt;sbahn footage]]</tw-passagedata><tw-passagedata pid="109" name="Berlin is 2" tags="" position="1375,2121" size="100,100">Berlin is...

|img1&gt;[
&lt;img src=&quot;https://od.lk/s/ODNfNDk2MDI2MzVf/graffity%20%282%29.jpg&quot;, width=&quot;400&quot;/&gt;]
(click:?img1)[(replace:?img1)[|img2&gt;[
&lt;img src=&quot;https://od.lk/s/ODNfNDk2MDQ3MjNf/graffity%20%283%29.jpg&quot;, width=&quot;400&quot;/&gt;]]]
(click:?img2)[(replace:?img2)[
|riotous&gt;[(link:&quot;riotous&quot;)
[(set:$adjective3 to (a:&quot;riotous&quot;))
(replace:?riotous)[a mess [[right?-&gt;thesis topic]]]
(hide:?independent,?alternative,?provocative)]]
|independent&gt;[(link:&quot;independent&quot;)
[(set:$adjective3 to (a:&quot;independent&quot;))
(replace:?independent)[a mess [[right?-&gt;thesis topic]]]
(hide:?riotous,?alternative,?provocative)]]
|alternative&gt;[(link:&quot;alternative&quot;)
[(set:$adjective3 to (a:&quot;alternative&quot;))
(replace:?alternative)[a mess [[right?-&gt;thesis topic]]]
(hide:?riotous,?independent,?provocative)]]
|provocative&gt;[(link:&quot;provocative&quot;)
[(set:$adjective3 to (a:&quot;provocative&quot;))
(replace:?provocative)[a mess [[right?-&gt;thesis topic]]]
(hide:?riotous,?independent,?alternative)]]
]]</tw-passagedata><tw-passagedata pid="110" name="building connections" tags="" position="1960,128" size="100,100">building connections might take some 

[[time-&gt;ghost station Bernauer Strasse]]

&lt;img src=&quot;https://i.imgur.com/u9DWSZq.gif&quot;/&gt;</tw-passagedata><tw-passagedata pid="111" name="ghost station Bernauer Strasse" tags="newspaper" position="1840,235" size="100,100">(align:&quot;==&gt;&quot;)+(box:&quot;XXXX=&quot;)[14 March 1990]

&lt;img src=&quot;https://od.lk/s/ODNfNDk2MTIxNTdf/Bundesarchiv_Bild_183-1990-0313-319%2C_Berlin%2C_%C3%96ffnung_des_U-Bahnhofes_Bernauer_Stra%C3%9Fe.jpg&quot;/&gt;

Berlin: [[Bernauer Straße-&gt;ghost stations map BS]] subway station opens-
Discussions on reopening all the U6 and U8 stations had begun on 13 April 1990. 
In the opcoming months renovation activites will take place to clean up, remove all the dirt and refurbishing the interiors of the stations.</tw-passagedata><tw-passagedata pid="112" name="Bernauer Strasse" tags="" position="2004,258" size="100,100">Bernauer Straße is one of those streets that bordered the Berlin Wall.

&lt;img src=&quot;https://i.imgur.com/qQRckNf.gif&quot;/&gt;

Today there is a Memorial which stretches 1.4 km right along the street right where the death strip used to be.

[[See memorial-&gt;images memorial]]
[[Just continue walking-&gt;graffiti BS]]

&lt;!--After barriers were erected, many of the residents of these buildings on the border made the spontaneous decision to flee. 

Some slid down a rope from their apartment window or jumped into the rescue nets of the West Berlin fire brigade. People were badly injured others didn&#39;t survive. The first deaths caused by the border happened here. 

The buildings were evacuated a few weeks after the Wall was erected. The remaining residents were forced to resettle elsewhere and the windows and doors of the buildings were bricked up.--&gt;</tw-passagedata><tw-passagedata pid="113" name="Bernauer Strasse- Eberswalder" tags="" position="1869,450" size="100,100">|img1&gt;[&lt;img src=&quot;https://i.imgur.com/mFA040L.gif&quot;/&gt;
Walking down the street, at some point you&#39;ll meet Mauer Park on your left side.]

(click:?img1)[
(replace:?img1)[|img2&gt;[&lt;img src=&quot;https://i.imgur.com/2XVCU6N.gif&quot;/&gt; 
Bernauer Strasse then becomes Eberswalder Straße]]]

(click:?img2)[
(replace:?img2)[and suddenly you are on the East]]

(click:?img2)[
(replace:?img2)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTAyNjcxMzJf/Bernauer%20strasse%20-%20eberswalder%20strasse.jpg&quot;, width=&quot;1000&quot;/&gt;-&gt;Eberswalder postcard]]]]
</tw-passagedata><tw-passagedata pid="114" name="Eberswalder postcard" tags="" position="2014,526" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTAyOTU0NDhf/FENA8968.JPG&quot;, width=&quot;400&quot;/&gt;-&gt;Eberswalder-Schönhauser]]</tw-passagedata><tw-passagedata pid="115" name="Schönhauser Alle" tags="" position="1899,671" size="100,100">&quot;The intersection of Schönhauser Alle/Eberswalder Strasse 
- by now familiar from so many films - 
seems to have changed very little. 
The Lotto shop is going to outlive us all&quot;

[[&lt;img src=&quot;https://i.imgur.com/FJIkmq6.gif&quot;, width=&quot;400&quot;/&gt;-&gt;Schönhauser Alle Pictures]]
</tw-passagedata><tw-passagedata pid="116" name="fond of the east" tags="" position="2062,763" size="100,100">Although Kotti was always a fun place to visit 
I still spent most of my time in the East: Treptow, Köpenick, Freidrichhain and where we are right now:

Prenzlauer Berg. 

&lt;img src=&quot;https://i.imgur.com/W4ZxB9H.gif&quot;/&gt;

Beyond closeness and convenience I slowly grew fond of the East. 
Although I couldn&#39;t quite put my finger on it, 
something seemed [[different about it.-&gt;schönhauser alle station now then]]
</tw-passagedata><tw-passagedata pid="117" name="Ernst Thalmann Buildings" tags="" position="1623,2112" size="100,100">
Like many things in the GDR, housing construction was politicized. 
It aimed to demonstrate socialist superiority and strengthen loyalty to the state.

&lt;img src=&quot;https://od.lk/s/ODNfNTA0NzU4NTlf/architektur-der-ddr-6-87.jpg&quot;/&gt;


However the plans for Ernst Thälmann Park did provide housing for 4,000 people. 
And its modest design became representative of the socialist urban planning from the 80&#39;s.

&lt;img src=&quot;https://od.lk/s/ODNfNTA1NzU5Nzhf/image118.jpg&quot;, width=&quot;700&quot;/&gt;


[[keep walking-&gt;Ernst Thalmann culture]]
[[to the planetarium-&gt;Ernst Thalmann Planetarium]]
[[head back to the s bahn-&gt;Ernst Thalmann Monument]]</tw-passagedata><tw-passagedata pid="118" name="music is the answer" tags="title" position="2953,602" size="100,100">
|music&gt;[(text-colour:cyan)[MUSIC]]

(click:?music)[
(replace:?music)[|is&gt;[(text-colour:magenta)[IS]]]]
(click:?is)[
(replace:?is)[|the&gt;[(text-colour:orange)[THE]]]]
(click:?the)[
(replace:?the)[(text-colour:green)[[[ANSWER-&gt;do you know where are we now?]]]]] </tw-passagedata><tw-passagedata pid="119" name="my club experience" tags="" position="3511,1675" size="100,100">I went to my first Berlin club back in 2022.
Not Berghain or any of the really popular ones. 
I just hopped to the Sbahn and went to the place by myself.
I didn&#39;t know what to expect
it felt like going into a little adventure.

I got to the club, a bit nervous, but there was no queue or anything.
After the usual |protocol&gt;[protocol.](click:?protocol)[(replace:?protocol)[protocol (They check your pockets, put stickers on your phone, then you pay and they put a stamp on your wrist).]]

The |bouncer&gt;[bouncer](click:?bouncer)[(replace:?bouncer)[bouncer (The person who is at the door)]] just told me:

&quot;Viel Spaß&quot;

And that was it
[[I was in-&gt;my club experience 2]]</tw-passagedata><tw-passagedata pid="120" name="images side by side" tags="" position="196,1441" size="100,100">&lt;img class=&quot;imageA&quot; src=&quot;https://i.imgur.com/W4ZxB9H.gif&quot;&gt;

&lt;img class=&quot;imageB&quot; src=&quot;https://i.imgur.com/u9DWSZq.gif&quot;&gt;</tw-passagedata><tw-passagedata pid="121" name="Prenzlauerberg upwardly mobile" tags="" position="1802,1186" size="100,100">
&lt;img src=&quot;https://i.imgur.com/1sASjJh.gif&quot;/&gt;

Prenzlauer|berg&gt;[berg](click:?berg)[(replace:?berg)[&quot;The &quot;Berg&quot; (mountain) is really just elevated ground on an old cementary. But everything here is, in fact, upwardly mobile.&quot;]] changed from a workers neigborhood, to home of the East Berliner Boheme. 

Today the place abounds with all kinds of vegan restaurants, yoga studios and [[small boutiques.-&gt;Hauswald book pics]]</tw-passagedata><tw-passagedata pid="122" name="antique stores" tags="dialogue" position="2084,957" size="100,100">
&lt;img src=&quot;https://od.lk/s/ODNfNTAyOTYyNDBf/pb%20vitrinas%20%286%29.jpg&quot;, width=&quot;600&quot;/&gt;

&quot;Does someone design this stuff?&quot;

&quot;What do you mean?&quot;

&quot;Yeah the way it is all putted in place, it looks so thought through. 
Like it was designed by someone.&quot;

&quot;I think it&#39;s just [[old stuff.-&gt;antique stores 2]]&quot;</tw-passagedata><tw-passagedata pid="123" name="Ernst Thalmann Monument" tags="" position="1730,2266" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTA0NjgwNjBf/IMG_20240216_195303484.jpg&quot;, width=&quot;500&quot;/&gt;

what is that thing over there? looks huge

[[check it out-&gt;ET Monument info]]



&lt;!--Initially not part of the plan, housing was added to the Ernst-Thälmann-Park project to frame the Thälmann monument.




After several failed attempts and relocations, the site of the defunct gasworks provided an opportunity for a monument to Ernst-Thälmann. 

Ernst Thälmann, a key figure in the workers&#39; movement and antifascist resistance, was meant conmemorated as national hero 1949. The chairman of the German Communist Party, was murdered in Buchenwald concentration camp in 1944. The Socialist Unity Party (SED) sought to solidify his image as a founding father of the GDR by creating commemorative sites in Berlin.


Soviet sculptor Lev Kerbel, commissioned by Erich Honecker, was the one to finally honor Thälman by desigining his monument, which integrated into the park&#39;s architectural planning. Despite criticism for not involving local artists, the monument&#39;s monumental design reflected Thälmann&#39;s significance as a founding figure of the GDR. --&gt;

</tw-passagedata><tw-passagedata pid="124" name="Summer in Berlin" tags="" position="1703,3995" size="100,100">Summers in Berlin are explosive, everybody is ready to let out all the energy accumulated from those months of sedentary winter. 

The city is blasting with euforia and I feel it

As a person from a tropical country, where we have good weather pretty much the whole year, 
the rumbling of Berlins Summer&#39; was a bit unnerving for me. 
But after my first winter in Berlin, I was ready to let everything out too...


&lt;span style=&quot;font-size: 150%&quot;&gt;(align:&quot;==&gt;&quot;)+(box:&quot;=========XXXXXXXXXX=&quot;)[continue in &quot;celebration&quot;]&lt;/span&gt;</tw-passagedata><tw-passagedata pid="125" name="first footage" tags="" position="2681,48" size="100,100">|img1&gt;[&lt;img src=&quot;https://i.imgur.com/WObRwt2.gif&quot;, width=&quot;500&quot;/&gt;]
(click:?img1)[(replace:?img1)[|img2&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTE4MjI0NzVf/ritter%20butzke.jpg&quot;, width=&quot;700&quot;/&gt;]]]
(click:?img2)[(replace:?img2)[|img3&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTE4MjI0OTJf/love%20parade%201991.jpg&quot;/&gt;]]]
(click:?img3)[(replace:?img3)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTE4MjI0ODlf/mauerfall%20%282%29.jpg&quot;, width=&quot;700&quot;/&gt;-&gt;opening of multiple stations]]]]</tw-passagedata><tw-passagedata pid="126" name="TEKKNOZID" tags="game" position="2570,1532" size="100,100">(align:&quot;=&gt;&lt;=&quot;)+(box:&quot;X&quot;)[(text-colour:green)+(background:black)[
(set: $typewriterText to &quot;Flyertext anno 1990
Warnung:
TEKKNOZID is not a new synonym for disco! Tekknobeats from House, Ebm, Industrial Hiphop and Acid work together with psychedelic laser and effect installations on the subconscious. In total X-tase, the boundaries between time and space become blurred. A view into cyberspace is revealed, that indefinable data space behind computer monitors, televisions and satellite antennas. 
Tekkno raves are not a rehashing of reactionary 60s sounds, but the first contact with &quot; )
{
  (set: $typewriterPos to 1)
  |typewriterOutput&gt;[]
  (live: 20ms)[
    (append: ?typewriterOutput)[(print: $typewriterText&#39;s $typewriterPos)]
    (set: $typewriterPos to it + 1)
    (if: $typewriterPos is $typewriterText&#39;s length + 1)[
      (stop:)
    ]
  ]
}

[[the music of the future.-&gt;what is techno?]]]]

&lt;audio src=&quot;https://od.lk/s/ODNfNTE4MzIxMjJf/tekknozid%20audio.mp3&quot; autoplay&gt;
</tw-passagedata><tw-passagedata pid="127" name="1990&#39;s" tags="" position="2663,269" size="100,100">|1990&gt;[&lt;span style=&quot;font-size: 400%&quot;&gt;1990&lt;/span&gt;]

(click:?1990)[
(replace:?1990)[[[&lt;span style=&quot;font-size: 400%&quot;&gt;90&#39;s&lt;/span&gt;-&gt;BWL 90&#39;s]]]] 

&lt;img src=&quot;https://od.lk/s/ODNfNTE4MTgzNTlf/Oberbaumbr%C3%BCcke1993.jpg&quot;, width=&quot;700&quot;/&gt;</tw-passagedata><tw-passagedata pid="128" name="BWL 90&#39;s" tags="" position="2504,315" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTE4NTQzMDdf/wunderland1%20rszd.jpg&quot;, width=&quot;500&quot;/&gt;](click:?img1)[(replace:?img1)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTE4NTQzMTlf/wunderland2%20rszd.jpg&quot;, width=&quot;500&quot;/&gt;-&gt;Dr. Motte first quote]]]]</tw-passagedata><tw-passagedata pid="129" name="gas works" tags="" position="1807,1579" size="100,100">The Prenzlauer Berg Gasworks, in operation for over a century, was situated in a worker-inhabited district, shaping its landscape with iconic yellow-clad gas holders.

&lt;img src=&quot;https://od.lk/s/ODNfNTA0NzU3OTdf/Bild-2.3-klein.jpg&quot;, width=&quot;600&quot;/&gt;

Although pictoresque, the gasworks were then considered obsolete with arrival of natural gas from the Soviet Union in 1979. 
The GDR government then [[decided to demolish them.-&gt;gas works demolition]] </tw-passagedata><tw-passagedata pid="130" name="Ernst Thalmann culture" tags="" position="1854,2132" size="100,100">In the GDR, new residential complexes like Thälmann-Park included public facilities such as [[cafes-&gt;Rossengarten]], schools, gyms, kindergartens, shops and even a local pool.

&lt;img src=&quot;https://od.lk/s/ODNfNTA0NzU4NjRf/image139.jpg&quot;, width=&quot;600&quot;/&gt;

&lt;img src=&quot;https://od.lk/s/ODNfNTA1NzU5NzRf/image125.jpg&quot; width=&quot;600&quot;/&gt;</tw-passagedata><tw-passagedata pid="131" name="Ernst Thalmann map" tags="" position="1804,1981" size="100,100">
&lt;img src=&quot;https://imgur.com/yMfhjTp.gif&quot;/&gt;

(align:&quot;&lt;==&quot;)+(box:&quot;===XXXXXXXXXX=======&quot;)[&quot;So... where do we go now?&quot;

[[&quot;Let&#39;s just walk around&quot;-&gt;Ernst Thalmann Parks]]
[[&quot;I want to see to the planetarium&quot;-&gt;Ernst Thalmann Planetarium]]
[[&quot;hmm let&#39;s head towards the Sbahn and go home&quot;-&gt;Ernst Thalmann Monument]]]

</tw-passagedata><tw-passagedata pid="132" name="pictures hauswald" tags="" position="1761,3085" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTA2MzE0NDhf/marx.jpg&quot;&gt;]
(click:?img1)[
(replace:?img1)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTA2MzE0NTFf/marx%20sobrepuesta.jpg&quot;&gt;-&gt;may 2023 Teltow]]]]</tw-passagedata><tw-passagedata pid="133" name="ghost stations map BS" tags="" position="1754,369" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNDk2MTIxNThf/bernauer%20strasse%20ghost%20station.jpg&quot;/&gt;](click:?img1)[(replace:?img1)[[[&lt;img src=&quot;https://i.imgur.com/7l1wc8K.gif&quot;/&gt;-&gt;Bernauer Strasse]]]]
</tw-passagedata><tw-passagedata pid="134" name="walking night" tags="" position="1825,1366" size="100,100">Keeping up with our night walk, we got to a park, but it was not like other parks in Berlin. 
It was cloudly, but colorful lights coming from buildings with an antiquated 80&#39;s look brightened the area.

&lt;img src=&quot;https://od.lk/s/ODNfNTA0NjgwNzJf/IMG_20240216_200255739.jpg&quot;, , width=&quot;400&quot;/&gt;

There were old couples walking around, and some kind of birthday party in a sitting area. But not like the late night rave parties in Treptower Park. 

&lt;img src=&quot;https://od.lk/s/ODNfNTA0NjgwNDZf/IMG_20240216_193831705.jpg&quot;, , width=&quot;600&quot;/&gt;

In the middle there was a lake where we sat there and enjoyed the spring weather that felt like summer. 

&lt;img src=&quot;https://od.lk/s/ODNfNTA0NjgwNTBf/IMG_20240216_194458669.jpg&quot;, , width=&quot;400&quot;/&gt;

It was a lovely quiet night.
It was 2023 but I still felt like in [[another time.-&gt;unaware of it]] </tw-passagedata><tw-passagedata pid="135" name="unaware of it" tags="" position="2034,1434" size="100,100">unaware of it in that moment, I was standing in Ernst Thälmann park.
For many it&#39;s just some residential area. 
But it actually has some [[history-&gt;denkmal gas works]]</tw-passagedata><tw-passagedata pid="136" name="gas works demolition" tags="" position="1976,1668" size="100,100">|sec1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTA0NzU3NzRf/Bild-5.1-Gasometer-sprengt-man-nicht-klein.jpg&quot;, width=&quot;700&quot;/&gt;]
(click:?sec1)[
(replace:?sec1)[|sec2&gt;[ONE DOES NOT BLOW GASOMETERS!]]]
(click:?sec2)[
(replace:?sec2)[The decision to demolish the gasworks was taken without considering the public opinion. 

This caused great discomfort between the people.
There were protests, postcards, leaflets, and banners against it.  

The police and state security repressed these actions, sanctioning photography near the gaswork grounds and arresting some of the perpetuators. [[There were severe consequences for some.-&gt;gas works demolition 2]]]]
</tw-passagedata><tw-passagedata pid="137" name="communist utopias" tags="" position="1634,2988" size="100,100">Communism was an invention 
and from that invention 
all kinds of myths and stories emerged.

Under completely harmless parks and buildings
lies one of many communist utopias

but was that [[really just it?-&gt;pictures hauswald]]</tw-passagedata><tw-passagedata pid="138" name="Ernst Thalmann Parks" tags="" position="1623,1963" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTA0NzU4NjNf/image116.jpg&quot;, width=&quot;600&quot;/&gt;]
(click:?img1)[
(replace:?img1)[|img2&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTA0NjgwNzFf/IMG_20240216_200115855.jpg&quot;, width=&quot;600&quot;/&gt;]]]
(click:?img2)[
(replace:?img2)[|img3&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTA0NzU4NjVf/image174.jpg&quot;, width=&quot;600&quot;/&gt;]]]
(click:?img3)[
(replace:?img3)[|img4&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTA0NjgwNDdf/IMG_20240216_193904833.jpg&quot;, width=&quot;600&quot;/&gt;]]]
(click:?img4)[
(replace:?img4)[|img5&gt;[[[&lt;img src=&quot;https://od.lk/s/ODNfNTA0NzU4NjFf/image001.jpg&quot;, width=&quot;600&quot;/&gt;-&gt;Ernst Thalmann Buildings]]]]]




&lt;!--The planning of Ernst-Thälmann-Park aimed to enhance housing and living conditions by creating a spacious leisure and recreation park integrated into the local green landscape. 

Initial plans in 1978 included various attractions, playgrounds, and sports facilities, but most were scrapped to prioritize the memorial complex, which received more space. 

The monument complex featured artificially raised hills, a pond, rhododendron grove, rose garden, and playground, surrounded by diverse plantings totaling thousands of trees and plants. 

The park aimed to be a major attraction for residents and visitors, although artworks were lacking. In recent years, the green spaces in Thälmann-Park have been neglected, prompting efforts by residents and the district to revitalize the facilities.--&gt;</tw-passagedata><tw-passagedata pid="139" name="Ernst Thalmann politics" tags="" position="1850,2744" size="100,100">The whole of the Ernst Thällmann park project was heavily politicized.

With the influence of scultor Kervel, everything, 
including the housing 
was designed to frame the Thälmann monument.

&lt;img src=&quot;https://od.lk/s/ODNfNTA1NzU5Nzdf/Thaelmann-Header.jpg&quot;, width=&quot;700&quot;/&gt;

Yet today here we have it
is him a hero, just another &quot;f*cking hetero gaze&quot;?

[[who knows...-&gt;Ernst Thälmann Brochure]]</tw-passagedata><tw-passagedata pid="140" name="long walk" tags="" position="1785,2887" size="100,100">Uff that was a long walk. Let&#39;s just [[rest for now.-&gt;communist utopias]]</tw-passagedata><tw-passagedata pid="141" name="Bernauer Strasse Memorial" tags="" position="2281,390" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTAyNjQ3OTZf/IMG_20240119_143445706.jpg&quot;, width=&quot;800&quot;/&gt;]
(click:?img1)[
(replace:?img1)[The wall was erected right in front of some eastern buildings. Many people who lived there decided spontaneaously to flee.  
Some slid down a rope from their apartment window or jumped into the rescue nets of the West Berlin fire brigade. 

People were badly injured others didn&#39;t survive. 
The first deaths caused by the wall happened here.]]

|img2&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTAyNjQ3OTdf/IMG_20240119_143534780.jpg&quot;, width=&quot;800&quot;/&gt;]
(click:?img2)[
(replace:?img2)[The buildings were evacuated a few weeks after the Wall was erected. The remaining residents were forced to resettle elsewhere and the windows and doors of the buildings were [[bricked up.-&gt;people BS memorial]]]]

</tw-passagedata><tw-passagedata pid="142" name="graffiti BS" tags="" position="1992,391" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTAyNjQ3OTVf/Bernauer%20strasse.jpg&quot;, width=&quot;500&quot;/&gt;-&gt;Bernauer Strasse- Eberswalder]]</tw-passagedata><tw-passagedata pid="143" name="images memorial" tags="" position="2209,240" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTAyNjQ3OTRf/Bernauer%20strasse%20wall%20map.jpg&quot;/&gt;]
(click:?img1)[
(replace:?img1)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTAyNjQ3OTNf/Bernauer%20strasse%20memorial%201.jpg&quot;/&gt;-&gt;Bernauer Strasse Memorial]]]]
</tw-passagedata><tw-passagedata pid="144" name="people BS memorial" tags="" position="2124,418" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/qZA83RV.gif&quot;/&gt;-&gt;graffiti BS]]</tw-passagedata><tw-passagedata pid="145" name="Schönhauser Alle Pictures" tags="" position="2123,632" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTAyOTU0NDlf/AQZN3039.JPG&quot;/, width=&quot;400&quot;&gt;]

(click:?img1)[
(replace:?img1)[|img2&gt;[&lt;img src=&quot;https://i.imgur.com/3GU9rL7.gif&quot;/&gt;]]]

(click:?img2)[
(replace:?img2)[|img3&gt;[&lt;img src=&quot;https://i.imgur.com/QYLGr9Z.gif&quot;, width=&quot;400&quot;/&gt;]]]

(click:?img3)[
(replace:?img3)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTA2MjI3MjBf/Sch%C3%B6nhauser%20Alle.jpg&quot;, width=&quot;400&quot;/&gt;-&gt;fond of the east]]]]</tw-passagedata><tw-passagedata pid="146" name="multiple click replace" tags="" position="262,477" size="100,100">|img1&gt;[&lt;img src=&quot;&quot;/&gt;]

(click:?img1)[
(replace:?img1)[|img2&gt;[&lt;img src=&quot;&quot;/&gt;]]]

(click:?img2)[
(replace:?img2)[|img3&gt;[&lt;img src=&quot;&quot;/&gt;]]]

(click:?img3)[
(replace:?img3)[]
</tw-passagedata><tw-passagedata pid="147" name="Hauswald book text" tags="" position="2152,1279" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTAzMzI2MTFf/IMG_3350.jpg&quot;, width=&quot;700&quot;/&gt;]

(click:?img1)[
(replace:?img1)[|img2&gt;[[[&lt;img src=&quot;https://od.lk/s/ODNfNTAzMzI2MTJf/FHNI3854.jpg&quot;, width=&quot;700&quot;/&gt;-&gt;walking night]]]]]</tw-passagedata><tw-passagedata pid="148" name="schöne sachen" tags="" position="1915,973" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTAyOTYyNjlf/sch%C3%B6ne%20sachen.jpg&quot;, width=&quot;800&quot;/&gt;]
(click:?img1)[
(replace:?img1)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTAyOTY0ODhf/sch%C3%B6ne%20ALTE%20sachen.jpg&quot;, width=&quot;800&quot;/&gt;-&gt;antique stores]]]]
</tw-passagedata><tw-passagedata pid="149" name="antique stores 2" tags="" position="1994,1102" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTAyOTYyNDFf/pb%20vitrinas%20%288%29.jpg&quot;, width=&quot;400&quot;/&gt;

Of course it was
it was only [[time doing its thing-&gt;Prenzlauerberg upwardly mobile]]</tw-passagedata><tw-passagedata pid="150" name="ubahn ride" tags="" position="1457,138" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/lK4s6qE.gif&quot;/&gt;-&gt;kotti]]</tw-passagedata><tw-passagedata pid="151" name="denkmal gas works" tags="" position="1920,1508" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTA0NzU1Nzlf/Bild-5.2-fa033478-klein.jpg&quot;, width=&quot;600&quot;/&gt;-&gt;gas works]]</tw-passagedata><tw-passagedata pid="152" name="gas works demolition 2" tags="" position="1805,1797" size="100,100">
&lt;img src=&quot;https://imgur.com/cuNVWp0.gif&quot;/&gt;

The gasometers were demolished on July 28, 1984 and from the gaswork&#39;s crumbs, plans transform the site into a [[leisure park and residential-&gt;Ernst Thalmann map]] area emerged.</tw-passagedata><tw-passagedata pid="153" name="planetarium" tags="dialogue" position="1966,1854" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTA2MjI5NTZf/2022-07-20.jpg&quot;, width=&quot;700&quot;/&gt;

&quot;Uhhh what is this&quot;
&quot;That a star projector&quot;
&quot;Do you think it still works?&quot;
&quot;Hmm I&#39;m pretty sure they use a modern one now&quot;
&quot;Can we see?&quot;
&quot;Yeah, but looks like there are no events, right now. Maybe next time&quot;
&quot;Ohhh, ok, but we have to do it sometime&quot;
[[&quot;We will&quot;-&gt;satelite]]
</tw-passagedata><tw-passagedata pid="154" name="ET Monument info" tags="" position="1734,2423" size="100,100">&quot;Ahh looks like it&#39;s a monument, but why isn&#39;t it lighted up?&quot;

&lt;img src =&quot;https://od.lk/s/ODNfNTA0NzYyNDBf/IMG_20240216_195105259.jpg&quot;, width=&quot;600&quot;/&gt;


Any way, let&#39;s...
[[check out boards]]
[[get closer to monument]]</tw-passagedata><tw-passagedata pid="155" name="check out boards" tags="" position="1929,2408" size="100,100">&quot;Ohh... what is it with all this graffity...&quot;
&quot;There is graffity everywhere, you already know that&quot;

&lt;img src=&quot;https://od.lk/s/ODNfNTA0NjgwNThf/IMG_20240216_195226505.jpg&quot;/&gt;

&quot;THÄLMANN HELD... so... hero?&quot;

&lt;img src=&quot;https://od.lk/s/ODNfNTA0NjgwNTlf/IMG_20240216_195233838.jpg&quot;/&gt;

&quot;UNSERER... KLASSE... our class?&quot;

[[get closer to monument]]
[[go back-&gt;Ernst Thalmann Monument]]</tw-passagedata><tw-passagedata pid="156" name="get closer to monument" tags="" position="1723,2568" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTA0NjgwNjFf/IMG_20240216_195408439.jpg&quot;/&gt;

&quot;ok, can&#39;t really see much now
(and this grafitti is not as friendly).&quot;


let&#39;s just
[[check out boards]]
[[go home-&gt;Ernst Thalmann bio]]</tw-passagedata><tw-passagedata pid="157" name="Ernst Thalmann bio" tags="" position="1903,2558" size="100,100">Ernst Thälmann was the chairman of the German Communist Party
and a key figure in the workers&#39; movement and antifascist resistance. 

He was murdered in Buchenwald concentration camp in 1944.

Since 1949, the Socialist Unity Party (SED) wanted to solidify his image as a founding father of the [[GDR. -&gt; Ernst Thalmann monument history]]
</tw-passagedata><tw-passagedata pid="158" name="Rossengarten" tags="newspaper" position="2019,2252" size="100,100">|img1&gt;[&lt;img src=&quot;https://i.imgur.com/TW1qNtr.gif&quot;/&gt;]
(click:?img1)[
(replace:?img1)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTA0NjgwNjdf/IMG_20240216_195838091.jpg&quot;, width=&quot;600&quot;/&gt;-&gt;Ernst Thalmann culture 2]]]]

Restaurant &quot;Rosengarten&quot; in the residential area Ernst-Thälmann-Park Prenzlauer Berg in Berlin East Berlin on the territory of the former GDR, German Democratic Republic. Photo: Dieter Andree
</tw-passagedata><tw-passagedata pid="159" name="Ernst Thalmann culture 2" tags="" position="2199,2144" size="100,100">
&lt;img src=&quot;https://od.lk/s/ODNfNTA0NjgwNzBf/IMG_20240216_200042847.jpg&quot; width=&quot;500&quot;&gt;

To enhance the communal lifestyle, some preserved gasworks buildings were repurposed into workshops and multi-purpose halls.  

&lt;img src=&quot;https://od.lk/s/ODNfNTA0NjgwNjhf/IMG_20240216_195944502.jpg&quot;,  width=&quot;600&quot;/&gt;

Most of this facilities are still in function today, like the theater WABE.


[[to the planetarium-&gt;Ernst Thalmann Planetarium]]
[[head back to the s bahn-&gt;Ernst Thalmann Monument]]</tw-passagedata><tw-passagedata pid="160" name="Ernst Thälmann Brochure" tags="" position="1692,2747" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTA1NzQ5NDRf/Broschuere-Berlin-Information-1985-1986-2-klein.jpg&quot;, width=&quot;500&quot;/&gt;]
(click:?img1)[
(replace:?img1)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTA1NzQ5NDBf/Broschuere-Berlin-Information-1985-1986-2-klein%20translate.jpg&quot;, width=&quot;500&quot;/&gt;-&gt;long walk]]]]</tw-passagedata><tw-passagedata pid="161" name="schönhauser alle station now then" tags="" position="1935,823" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTA2MjI4Mjlf/s%20sch%C3%B6nhauser%20%283%29.jpg&quot;, width=&quot;500&quot;/&gt;]
(click:?img1)[
(replace:?img1)[|img2&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTA2MjI4MDRf/SYXI2718.jpg&quot;, width=&quot;700&quot;/&gt;]]]
(click:?img2)[
(replace:?img2)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTA2MjI4Mjhf/s%20sch%C3%B6nhauser%20%281%29.jpg&quot;, width=&quot;500&quot;/&gt;-&gt;showcases]]]]</tw-passagedata><tw-passagedata pid="162" name="images memorial (extra)" tags="" position="2215,43" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTA2MjI3Nzlf/IMG_20240119_143635408.jpg&quot;, width=&quot;500&quot;/&gt;]
(click:?img1)[
(replace:?img1)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTA2MjI3NzRf/IMG_20240119_143808534.jpg&quot;, width=&quot;500&quot;/&gt;-&gt;images memorial]]]]</tw-passagedata><tw-passagedata pid="163" name="planetarium 2" tags="" position="2237,1814" size="100,100">&lt;img src =&quot;https://i.imgur.com/LTPaFWM.gif&quot;/&gt;

After Sigmund Jähn&#39;s space mission in 1978, the GDR and its citizens became  fascinated by Astronomy and space travel.

he was after all the
|Kosmo&gt;[&quot;des 1.deutschen Kosmonauten&quot;.](click:?Kosmo)[(replace:?Kosmo)[the first german Kosmonaut]]
and they couldn&#39;t be more [[proud-&gt;planetarium 3]]</tw-passagedata><tw-passagedata pid="164" name="nach teltow" tags="" position="2044,3110" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTA2MzE3Mzhf/teltow%20cutted.jpg&quot;, width=&quot;400&quot;/&gt;-&gt;arriving to teltow]]</tw-passagedata><tw-passagedata pid="165" name="arriving to teltow" tags="" position="2044,3248" size="100,100">&lt;img src=&quot;https://i.imgur.com/cPikda0.gif&quot;/&gt;

After a long ride we finally arrived.
The sun was shining, and it was truly like what I have seen it in the pictures,
A whole street covered in cherry blossom trees like the ones in japan. 
[[Isn&#39;t this so beautiful?-&gt;Mauerweg]]</tw-passagedata><tw-passagedata pid="166" name="cherry blossom trees" tags="" position="1747,3286" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTA2MjI4Mjdf/mauerweg%20%282%29.jpg&quot;, width=&quot;400&quot;/&gt;

According to Japanese tradition, the cherry blossoms are supposed to bring peace and tranquillity to the peoples hearts. 

And here they conmemorate the reunification.
Representing bonding and [[connection.-&gt;the conversation]]</tw-passagedata><tw-passagedata pid="167" name="a game about Berlin" tags="dialogue" position="1592,3516" size="100,100">&quot;a game?&quot;
&quot;yeah I&#39;m not sure, maybe something digital, with a map&quot;
&quot;a map??&quot;
&quot;Is it too complicated?&quot;
&quot;I don&#39;t know, is it?&quot;
&quot;yeah... I mean.... I don&#39;t know... I have many [[ideas...&quot;-&gt;a game about Berlin 2]]</tw-passagedata><tw-passagedata pid="168" name="a story about Berlin" tags="dialogue" position="1762,3519" size="100,100">&quot;I want to do story about Berlin&quot;
&quot;but what about Berlin?&quot;
&quot;Hmm well about the time it was divided... and the GDR...&quot;
&quot;Ahhh&quot;
&quot;It&#39;s too obvious isn&#39;t it?&quot;
&quot;No I think it&#39;s good, I mean it&#39;s interesting it&#39;s just...&quot;
&quot;I really don&#39;t have anything new to say about it.&quot;
&quot;It&#39;s not that, but why that topic anyway&quot;
&quot;Not sure, I guess I&#39;m curious, and I&#39;ve been observing things, and stories people have told me.&quot;
&quot;Which people?&quot;
&quot;Well... you, for example!&quot;
&quot;Me? What? No...&quot;
&quot;Yeah of course, I think, you have a particular way to see things...&quot;
&quot;Hm ok yeah whatever, but what would the story be about then? It&#39;s just some historical research&quot;
&quot;Not exactly, I mean I have many [[ideas&quot;-&gt;a story about Berlin 2]]</tw-passagedata><tw-passagedata pid="169" name="typewriter without explaination" tags="" position="296,325" size="100,100">
(set: $typewriterText to &quot;-so you&#39;re doing a game... about Berlin&quot;)
{
  (set: $typewriterPos to 1)
  |typewriterOutput&gt;[]
  (live: 20ms)[
    (append: ?typewriterOutput)[(print: $typewriterText&#39;s $typewriterPos)]
    (set: $typewriterPos to it + 1)
    (if: $typewriterPos is $typewriterText&#39;s length + 1)[
      (stop:)
    ]
  ]
}

{
 (live: 2s)[
    (stop:)
    (set: $typewriterText2 to &quot;-yeah I mean... I think so, my idea is that to show a kind of map&quot;)
{
  (set: $typewriterPos2 to 1)
  |typewriterOutput2&gt;[]
  (live: 20ms)[
    (append: ?typewriterOutput2)[(print: $typewriterText2&#39;s $typewriterPos2)]
    (set: $typewriterPos2 to it + 1)
    (if: $typewriterPos2 is $typewriterText2&#39;s length + 1)[
      (stop:)
    ]
  ]
}
 ]
}

{
 (live: 6s)[
    (stop:)
    (set: $typewriterText3 to &quot;-a map??&quot;)
{
  (set: $typewriterPos3 to 1)
  |typewriterOutput3&gt;[]
  (live: 20ms)[
    (append: ?typewriterOutput3)[(print: $typewriterText3&#39;s $typewriterPos3)]
    (set: $typewriterPos3 to it + 1)
    (if: $typewriterPos3 is $typewriterText3&#39;s length + 1)[
      (stop:)
    ]
  ]
}
 ]
}
</tw-passagedata><tw-passagedata pid="170" name="do you know where are we now?" tags="dialogue" position="2780,664" size="100,100">We were right next to the Spree, The television tower was behind us a few meters away. It was the beginning of summer, the weather was warm and we had the whole night ahead of us.

&quot;Do you know where we are now?&quot;
&quot;Hmm, somewhere in Mitte I guess?&quot;
&quot;Hahah no, no, you don&#39;t understand, look.&quot; he said while pointing to the other side of the Spree &quot;Down here everything is happening, all the mayor clubs are right there, [[walking distance.&quot;-&gt;club map]]

</tw-passagedata><tw-passagedata pid="171" name="Berghain" tags="game" position="4500,4157" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTE4NTMxMDJf/berghain.jpeg&quot;, width=&quot;600&quot;/&gt;

&quot;Everybody talks about Berghain don&#39;t they? Should we try this?&quot;

[[go check it out -&gt;berghain entrance]]
[[choose another one-&gt;club navigator map]]</tw-passagedata><tw-passagedata pid="172" name="berghain entrance" tags="game" position="4505,4353" size="100,100">After riding the Sbahn till ost bahnhof and walking a bit you finally reach the most infamous Club of Berlin. 

&quot;ohh so this is it.&quot; You say looking at the industrial building
&quot;I don&#39;t know I imagined it more intimidating...&quot; 
It&#39;s true, it looks bigger in the pictures
&quot;What&#39;s intimidating it&#39;s the queue, it&#39;s gonna take some time!

(text-colour:black)+(background:lime)[(align:&quot;=&gt;&lt;=&quot;)+(box:&quot;=======XXXXXXXXXX======&quot;)[Berghain
average waiting time: 3 hours, usually more lately]]

wanna queue up?
[[sure the night is young let&#39;s give it a try-&gt;berghain queue]]
[[nah let&#39;s try something else-&gt;try another club berghain]]</tw-passagedata><tw-passagedata pid="173" name="berghain queue" tags="game" position="4575,4530" size="100,100">you start walking to the the back of the queue

&quot;I guess we could try to cut in&quot;
you look at the people at the queue
everyone looks so serious wearing black, they don&#39;t seem to be having fun

[[&quot;hmm yeah let&#39;s give it a shot&quot;-&gt;berghain cut up]]
[[&quot;nah let&#39;s just go to the back&quot;-&gt;berghain queue 2]]</tw-passagedata><tw-passagedata pid="174" name="club map" tags="dialogue" position="2560,705" size="100,100">&quot;So should we just go to one now?&quot;
I take out my phone and look for clubs.
He&#39;s right, so many clubs in this area.
[[&lt;img src=&quot;https://od.lk/s/ODNfNTE4MzIwNzJf/club%20map%20google%20%281%29.png&quot;,
width= &quot;400&quot;/&gt;-&gt;club map zoom]]</tw-passagedata><tw-passagedata pid="175" name="temporary autonomous zone" tags="" position="2833,263" size="100,100">(text-colour:red)[
TAZ
a
&#39;temporary autonomous zone&#39; 
For one moment, 
a unique historical moment,
one could pursue their desires freely 
There was a period of radical transition and creative exploration


[[A temporary autonomous zone 
in a temporary time in history-&gt;1990&#39;s]]]</tw-passagedata><tw-passagedata pid="176" name="club navigator map" tags="game" position="3661,3883" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTE5MDYxNzBf/club%20map.jpg&quot;, width=&quot;700&quot;/&gt;

You look online for clubs, some of them call your attention.
where would you like to go?

[[Berghain]]
[[Sisyphos]]
[[Watergate]]
[[Renate]]


[[quit-&gt;early quit]]</tw-passagedata><tw-passagedata pid="177" name="Gutmair consumer miles" tags="" position="2573,3381" size="100,100">(text-colour:red)[Ulrich Gutmair
(writer)

&quot;One such festival was in the middle. Now, just in this moment, one could enjoy the music and the people gathered in no man&#39;s land. The state would soon re-establish its rule, 
the capital would transform run-down streets 
[[into luxurious consumer miles.&quot;-&gt;Uh-Young Kim]] ]</tw-passagedata><tw-passagedata pid="178" name="Hauswald book pics" tags="" position="1977,1229" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTA2MjI4MDNf/DRTA0027.jpg&quot;, width=&quot;700&quot;/&gt;]

(click:?img1)[
(replace:?img1)[|img2&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTE0NzQxMzdf/DRTA0027%20sobrepuesta.jpg&quot;, width=&quot;700&quot;/&gt;]]]

(click:?img2)[
(replace:?img2)[|img3&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTE0NzQxMzlf/JMRG7355.JPG&quot;, width=&quot;700&quot;/&gt;]]]

(click:?img3)[
(replace:?img3)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTE0NzQxMzhf/JMRG7355%20sobrepuesta.jpg&quot;, width=&quot;700&quot;/&gt;-&gt;Hauswald book text]]]]</tw-passagedata><tw-passagedata pid="179" name="open mitte" tags="" position="3007,229" size="100,100">
Mitte 
Located in Eastern Berlin
was a zone that was untouched by the GDR.

After the Mauerfall, the old order had collapsed and the new order had not yet been established. 
Suddenly there was a wide empty space.
[[And no one to control it-&gt;temporary autonomous zone]]</tw-passagedata><tw-passagedata pid="180" name="Dr. Motte first quote" tags="" position="2417,441" size="100,100">(text-colour:orange)[Dr. Motte 
(DJ)

&quot;The Wall came down and we suddenly found new spaces to create our own way of life. It was the best thing that ever happened to us. 
[[You cannot imagine.&quot;-&gt;everything is possible]]]</tw-passagedata><tw-passagedata pid="181" name="taking spaces" tags="" position="2515,549" size="100,100">Taking the previous experience from the squatters
Artists, creatives, musicians, performers, activists took the newly reopen space.

[[A no-one-land-&gt;Gudrun Gut]] </tw-passagedata><tw-passagedata pid="182" name="communities created" tags="" position="2912,430" size="100,100">Communities were created out of nothing
Sure there were different personalities, ways of thinking, ideologies,
people from different countries and cultures
Ossis and Wessis
[[But one thing united them all-&gt;choose your playlist]]</tw-passagedata><tw-passagedata pid="183" name="empty spaces" tags="" position="2500,1322" size="100,100">The empty spaces 
abandoned factories, breweries, malls
were taken to create bars and galleries, and of course clubs.
[[But not just any kind of clubs.-&gt;TEKKNOZID poster]]</tw-passagedata><tw-passagedata pid="184" name="a new sound" tags="" position="3043,1480" size="100,100">&lt;span style=&quot;font-size: 200%&quot;&gt;This new sound
[[became the soundrack of the new reunified Berlin-&gt;dr motte electronic dance music]]&lt;/span&gt; </tw-passagedata><tw-passagedata pid="185" name="dr motte electronic dance music" tags="" position="3190,1571" size="100,100">(text-colour:orange)[Dr. Motte
(DJ)

“Electronic dance music is nothing other than the further development of punk. Because anyone could produce them, at home, in their own garage. You no longer needed a recording studio and you didn&#39;t have to know an instrument, you could just get on stage and off you went. That&#39;s the anarchic thing about punk and techno, that&#39;s what I like about it. [[Everybody can do it.”-&gt;anita jori]] ]</tw-passagedata><tw-passagedata pid="186" name="anita jori" tags="" position="3332,1287" size="100,100">(text-colour:purple)[Anita Jóri
(Linguist and Media Studies Expert)

“Clubs are really laboratories, where, you know, this kind of experiments, with different way of living a life or a different way of experiencing things, happen.

Especially if we talk about marginalized groups, for example, marginalized communities, a club for them is a refuge. It’s a place where they can really express themselves and they can experience their own identities and they can be the people who they really want to be. 

[[Only clubs accept them, and only the club is a space that accepts them as how they are.”-&gt;footage club]]]</tw-passagedata><tw-passagedata pid="187" name="paul hockenos 1" tags="" position="2897,1451" size="100,100">(text-colour:navy)[Paul Hockenos
(Journalist, author of //Berlin Calling//)

&quot;In the early 1990s, on the dance floors of the all-night-and-all-the-next-day techno parties in eastern Berlin&#39;s mind-blowing spaces, Germans came together and bonded-as long as the music played and the pills lasted. 
Like punk had a decade before, 
techno unceremoniously dethroned its predecessors and 
[[struck out onto new terrain.&quot;-&gt;a new sound]]]</tw-passagedata><tw-passagedata pid="188" name="jeff mills" tags="" position="2818,1585" size="100,100">(text-colour:magenta)[Jeff Mills 
(DJ and muscician)

&lt;img src=&quot;https://i.imgur.com/OqJtjuA.gif&quot;/&gt;

[[&quot;Techno is everything you haven&#39;t imagined yet.&quot;-&gt;paul hockenos 1]]]</tw-passagedata><tw-passagedata pid="189" name="it fitted the wall perfectly" tags="" position="2456,1776" size="100,100">So more than just some beats or a genre.
Techno was a do-it-yourself culture,
defying the established rules

a manifestation to be everything that was not there before.

[[It fitted the fall of the wall perfectly.-&gt;Daniel Schneider]]</tw-passagedata><tw-passagedata pid="190" name="origin of techno" tags="" position="2422,2679" size="100,100">We cannot really trace the origin of techno,
In a way it comes from everywhere, using technical equipment made in Japan and electronic beats from Europe, brought to dance floors by Black American DJs from Detroit.

But what we all can agree on is that club culture flourished from the ruins of the Iron Curtain. 
[[And Berlin became the capital of techno for the world-&gt;Dr Motte let&#39;s build up a club]] </tw-passagedata><tw-passagedata pid="191" name="Ulrich Gutmair East and west meet" tags="" position="2918,1846" size="100,100">(text-colour:red)[Ulrich Gutmair 
(Writer)

“East and West would meet on the dance floor 
[[in these East Berlin clubs, that’s for sure.”-&gt;explosive connections]] ]</tw-passagedata><tw-passagedata pid="192" name="Daniel Schneider" tags="" position="2615,1851" size="100,100">(text-colour:cyan)[Daniel Schneider 
(Cultural Anthropologist and Member of Archive of Youth culture, Berlin)

&quot;Techno just became the sound of the end of East Germany.
That was the music and the places it was played, where the East and West Germans partied together. 
That is a very strong narrative, 
[[and a lot is left out that didn’t fit into that.”-&gt;it was the tune]]]</tw-passagedata><tw-passagedata pid="193" name="it was the tune" tags="" position="2780,1858" size="100,100">


#[[It was the tune for reuniting east and west-&gt;Ulrich Gutmair East and west meet]]</tw-passagedata><tw-passagedata pid="194" name="explosive connections" tags="" position="3060,1850" size="100,100">
# [[and for bonding and creating explosive connections-&gt;Picciotto]] </tw-passagedata><tw-passagedata pid="195" name="Picciotto" tags="" position="3196,1862" size="100,100">(text-colour:navy)[Picciotto 
(Artist and fashion designer)

&quot;Techno fit the zeitgeist because it was instinctive. 
[[It was all about the senses and nonverbal bonding.&quot;-&gt;Ellen Allein]]]</tw-passagedata><tw-passagedata pid="196" name="comparable to the hippy movement" tags="" position="2636,2052" size="100,100">Comparable to the hippy movement back then
techno became a whole movement [[for...-&gt;Peace Joy and Pancakes]]
</tw-passagedata><tw-passagedata pid="197" name="love parade logo" tags="" position="2937,2056" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/E4y8lpu.gif&quot;&gt;-&gt;dr motte love parade 1]]</tw-passagedata><tw-passagedata pid="198" name="dr motte love parade 1" tags="" position="3216,2098" size="100,100">(text-colour:orange)[Dr. Motte
(DJ)

&quot;It was the summer of 1989, Berlin&#39;s last divided summer. But when I think back to it today, to the city and our attitude to life, the GDR and its politics don&#39;t play a role in it. 
There were other walls that we brought down, 
[[other borders that dissolved.&quot;-&gt;the dream]]]</tw-passagedata><tw-passagedata pid="199" name="the dream" tags="" position="2759,2208" size="100,100">The dream was to take out what was happening in the underground clubs out to the streets.

[[but how?-&gt;dr motte love parade 2]]</tw-passagedata><tw-passagedata pid="200" name="dr motte love parade 2" tags="" position="2925,2222" size="100,100">(text-colour:orange)[&quot;Suddenly it went “ping”.  I had the solution: I simply register a demonstration. It was quiet for a moment, then everyone started screaming. Because there was something totally anarchic about it, something that no one had ever done before. 
[[And everyone wanted to help so that this idea could be implemented.&quot;-&gt;dr motte love parade 3]]]</tw-passagedata><tw-passagedata pid="201" name="dr motte love parade 3" tags="" position="3068,2222" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTE4MzIxNTBf/first%20love%20parade%202.jpg&quot;, width=&quot;600&quot;/&gt;

(text-colour:orange)[&quot;A graphic designer designed the flyers, a friend worked at the Charlottenburg district office. She helped us with all the administrative stuff; we had no idea how to do it: 
[[register a demo.&quot;-&gt;peace joy and pancakes]] ]</tw-passagedata><tw-passagedata pid="202" name="peace joy and pancakes" tags="" position="3194,2225" size="100,100">(text-colour:orange)[&quot;“For peace, disarmament, joy, music as a new means of communication and pancakes for fair food distribution,” 
was the motto on the application form. And to be honest: 
[[I still think that&#39;s great today.&quot;-&gt;footage first love parade]]]</tw-passagedata><tw-passagedata pid="203" name="footage first love parade" tags="" position="2504,2351" size="100,100">|img1&gt;[&lt;img src=&quot;https://i.imgur.com/OVKPUQv.gif&quot;/&gt;]
(click:?img1)[
(replace:?img1)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTE4MzIxNTFf/first%20love%20parade%203.jpg&quot;, width=&quot;600&quot;/&gt;-&gt;dr motte love parade 4]]]]</tw-passagedata><tw-passagedata pid="204" name="dr motte love parade 4" tags="" position="2656,2335" size="100,100">(text-colour:orange)[&quot;In the open air, the music had lost none of its magic, on the contrary. It got bigger and bigger the more people joined, because that was exactly our attitude to life, to fall into a kind of trance together, to disappear as an individual in this twitching mass,
[[driven by strobe lights and fog lights.&quot;-&gt;dr motte love parade 4.5]]]

&lt;img src=&quot;https://od.lk/s/ODNfNTE4MzIxNTJf/first%20love%20parade.jpg&quot;, width=&quot;600&quot;/&gt;</tw-passagedata><tw-passagedata pid="205" name="Peter Zach" tags="" position="3468,2770" size="100,100">(text-colour:navy)[Peter Zach
filmaker of //Gestern Mitte Morgen//

&quot;It was really a time warp, it&#39;s like Joe Unett, one of the protagonists said: 
&#39;It&#39;s a time warp and it&#39;s not forever.&#39;
It&#39;s just a short time. 
I guess this was the reason why it became so international, you know, because in the 90s, it changed because these young people came to see what&#39;s happening and when they left in the mid-90s, 
[[they brought the idea of Berlin and they spread it all over the world.&quot;-&gt;Peter Zach 2]]]</tw-passagedata><tw-passagedata pid="206" name="what is techno?" tags="" position="2699,1515" size="100,100">I don’t think I started to use the term techno till I came to Berlin.
For me this electronic music with hard beats was just that: 
electronic music with hard beats.
I never believed much en genres anyway.

But then, [[what is techno?-&gt;jeff mills]]
</tw-passagedata><tw-passagedata pid="207" name="Dr Motte let&#39;s build up a club" tags="" position="2562,2677" size="100,100">(text-colour:cyan)[Dr Motte
(DJ)

&quot;It was more like, let’s build up something like a club, because we started a club called Planet and out of that came later the E-werk, next to Tresor in Wilhelmstraße.
Next to Love Parade, what we did.
But it was all together, 
it was fantastic thing that we could actually go into free spaces 
[[build up our ideas.&quot;-&gt;not just party]]]</tw-passagedata><tw-passagedata pid="208" name="more clubs were being created" tags="" position="3444,2505" size="100,100">|year1&gt;[1990](click:?year1)[(replace:?year1)[|year2&gt;[1991]](click:?year2)[(replace:?year2)[|year3&gt;[1992]](click:?year3)[(replace:?year3)[more and more clubs were being created]]]] 

|club1&gt;[UFO](click:?club1)[(replace:?club1)[|club2&gt;[E-Werk]](click:?club2)[(replace:?club2)[|club3&gt;[Tresor]](click:?club3)[(replace:?club3)[|club4&gt;[Ost Gut]](click:?club4)[(replace:?club4)[[[and these clubs attracted people from all over the world-&gt;Peter Zach]]]]]]]
</tw-passagedata><tw-passagedata pid="209" name="love parade grew too" tags="" position="2469,2837" size="100,100">and with the clubs the love parade grew too
[[the dream grew and expanded-&gt;love parade footage]] </tw-passagedata><tw-passagedata pid="210" name="Tillman Love parade" tags="" position="2779,2852" size="100,100">|img1&gt;[&lt;img src=&quot;
https://od.lk/s/ODNfNTE3NDgxMTBf/love%20parade%20article%20%281%29.jpg&quot;, width=&quot;700&quot;/&gt;]
(click:?img1)[(replace:?img1)[|img2&gt;[&lt;img src=&quot;
https://od.lk/s/ODNfNTE4MjI0MjBf/love%20parade%20article%20%281.2%29.jpg&quot;, width=&quot;700&quot;/&gt;]]]
(click:?img2)[(replace:?img2)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTE3NDgxMTNf/love%20parade%20article%20%283%29.jpg&quot;, width=&quot;700&quot;/&gt;-&gt;from berlin to the world]]]]</tw-passagedata><tw-passagedata pid="211" name="dr motte love parade 5" tags="" position="2504,3619" size="100,100">(text-colour:orange)[Dr. Motte
DJ

&quot;The following year, not 150, but 2,000 people came to the Love Parade. Then 10,000, 30,000, 100,000, 350,000, the jumps were huge. In 1999 there were one and a half million. Wherever friends of mine traveled in the world during this time, whether in Rio de Janeiro, Seattle or London, they were peppered with questions about the Love Parade. She changed the image of Germany in the world: 
&quot;Look, Germans can celebrate informally and they let them. 
[[That&#39;s how free this country is.&quot;-&gt;paul hockenos love parade 1999]]]

&lt;img src=&quot;https://od.lk/s/ODNfNTE4MzcwMzJf/1999%20love%20parade.jpg&quot;, width=&quot;600&quot;/&gt;</tw-passagedata><tw-passagedata pid="212" name="from berlin to the world" tags="" position="2925,2848" size="100,100">&lt;span style=&quot;font-size: 200%&quot;&gt;From the underground clubs, to the streets.&lt;/span&gt; 
#[[And from Berlin to the world-&gt;dr motte love parade to the world]] </tw-passagedata><tw-passagedata pid="213" name="dr motte love parade to the world" tags="" position="3088,2956" size="100,100">(text-colour:orange)[Dr Motte
(DJ)
&quot;At the end it will be like that the people everywhere on the planet dance under the movement of Love, Peace Pancake, yeah or whatever you call it. Love Parade. And we all become friends and because of that there will be world peace. 
[[It’s that easy.&quot;-&gt;love parade footage 2]]]</tw-passagedata><tw-passagedata pid="214" name="would you like to go" tags="dialogue" position="2663,3097" size="100,100">&quot;So, I’ve been hearing a lot about the Love Parade. would you like to go?&quot;
&quot;Love Parade? I though it didn’t exist anymore.&quot;
&quot;Oh, it’s called something different, but it’s pretty much the same thing.&quot;
&quot;Ok...&quot;
&quot;So?&quot;
&quot;I&#39;m not sure, it’s still too soon to decide, but let’s go clubbing next week&quot; 

|ok&gt;[[[&quot;Hmm... ok!&quot;-&gt;techno is]]]

|again&gt;[&quot;Again?&quot;]
(click:?again)[
(replace:?again)[
&quot;Again? But we just went clubbing last week.&quot;
&quot;Oh, but I still have energy. This is what it&#39;s great about Summer.&quot;
[[&quot;Hmm, ok guess you&#39;re right. Let&#39;s go next week then.&quot;-&gt;techno is]]]
(hide:?ok)]</tw-passagedata><tw-passagedata pid="215" name="Ellen Allein" tags="" position="3342,1867" size="100,100">(text-colour:magenta)[Ellen Allien 
(DJ)

&quot;There was always this link, 
this idea of which we all think about what&#39;s going on in the air, 
you know, 
what&#39;s going on in the space and 
trying to connect with it in a way 
[[and not being afraid of it.&quot;-&gt;break footage 1]] ]</tw-passagedata><tw-passagedata pid="216" name="Uh-Young Kim" tags="" position="2748,3284" size="100,100">(text-colour:cyan)[Uh-Young Kim 
(Journalist, Radiomoderator and DJ)

&quot;Like any subculture, the Berlin techno scene went through a heyday (1989 to 1992), phases of fragmentation (1992 to 1995) 
and a period of commercialization (1995 to 2004).

Through major events such as the Love Parade and (text-colour:red)[[[Mayday-&gt;Mayday poster and footage]]] , a paradigm shift from production to consumption and from underground to mainstream took place in the beginning of the 90&#39;s.&quot;]</tw-passagedata><tw-passagedata pid="217" name="paul hockenos love parade 1999" tags="" position="2667,3615" size="100,100">(text-colour:navy)[Paul Hockenos
(//Berlin Calling//)

&quot;By 1999, the extravaganza had long outgrown the Kudamm. and instead plowed through Tiergarten Park, winding up on the Strasse des 17. Juni around the Victory Column, a phallic Prussian monument to militarism.&quot;

&lt;img src=&quot;https://od.lk/s/ODNfNTE4MzcwMjlf/1999%20love%20parade%20victory%20column.jpg&quot;, width=&quot;400&quot;/&gt;

&quot;There Dr. Motte, perched like a god on scaffolding high above the crowd, spoke of music&#39;s role in peace, brotherly love, and communion among peoples, the same themes behind the great-grandmother of all 
[[Love Parades in 1989.&quot;-&gt;bigger]]]</tw-passagedata><tw-passagedata pid="218" name="demonstration revokation" tags="" position="2609,4083" size="100,100">In 2001, the german government revoked the Love Parade’s demonstration status. The court found the festival offered no clear political message.

And without political message, 
[[what do we have left then?-&gt;techno where will you go]]</tw-passagedata><tw-passagedata pid="219" name="paul hockenos love parade 1999 2" tags="" position="3127,3678" size="100,100">(text-colour:navy)[
&quot;The parade was world famous by the mid-1990s, attracting hundreds of thousands from outside Berlin. It had become signature Berlin and, money-wise, a bonanza for the city. 

In the late 1990s on just one weekend in July, the ravers and fellow travelers would drop a gobstopping $110 million in the city. At its apex in 1999, the German broadcaster SFB paid $370.000 for the rights to carry the event live on three TV channels. Hawkers sold offi- cial T-shirts, CDs, lighters, and other trinkets emblazoned with the year&#39;s motto:
[[«Music Is the Key.»&quot;-&gt;footage 1999 love parade]] ]</tw-passagedata><tw-passagedata pid="220" name="entreperneurships taking over" tags="" position="2006,6991" size="100,100">With entreperneurships taking over, to truly play a part of the scene you have to know the right people, have a network, [[the money...-&gt;Nicky Böhm]]</tw-passagedata><tw-passagedata pid="221" name="Nicky Böhm" tags="" position="2229,6993" size="100,100">(text-colour:purple)[Nicky Böhm (producer)

&quot;I think the main difference now is that everything&#39;s got very expensive
and it&#39;s therefore really difficult for people to take risks often.
And, you know, that type of experimentation that is so vital to creativity
becomes then sometimes just the preserve of people who are privileged enough to be able to take those risks, [[those financial risks.&quot;-&gt;Vogue magazine]]]</tw-passagedata><tw-passagedata pid="222" name="tik tok stories" tags="" position="2746,7012" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/A0SH0FH.gif&quot;/&gt;-&gt;Lucka Eck]]</tw-passagedata><tw-passagedata pid="223" name="Lucka Eck" tags="" position="2596,7143" size="100,100">(text-colour:cyan)[Luca Eck (DJ) 

&quot;Everything has to be bigger, faster, harder, stronger and people watch these videos and sometimes I go to a party, and everyone dances the same.
[[And that&#39;s so against the spirit of techno for me.”-&gt;is it really just a trend?]]]</tw-passagedata><tw-passagedata pid="224" name="is it really just a trend?" tags="" position="2348,7152" size="100,100">&lt;span style=&quot;font-size: 150%&quot;&gt;But is it really just a trend

Just a thing for fun and escapism?

[[There has to be something more to it, doesn’t it?-&gt;really big rave]]&lt;/span&gt;</tw-passagedata><tw-passagedata pid="225" name="lose yourself" tags="" position="2251,7369" size="100,100">
[[&lt;img src=&quot;https://od.lk/s/ODNfNTE4NTQyOTRf/wunderland%20quote.jpg&quot;/&gt;-&gt;it is also about the fun]]</tw-passagedata><tw-passagedata pid="226" name="choose your playlist" tags="" position="3089,465" size="100,100">(text-style:&quot;bold&quot;)[Choose your playlist]
(or streaming service)

&lt;a href=&quot;https://open.spotify.com/playlist/2PRXc4n3HPYVX8X8ZfE40I?si=c7e3ff3d91644975&quot; target=&quot;_blank&quot;&gt;spotify&lt;/a&gt;

&lt;a href=&quot;https://soundcloud.com/june-audi-rac/sets/berlin-passages?si=4390069520b64041ad11d1c0bb193d3d&amp;utm_source=clipboard&amp;utm_medium=text&amp;utm_campaign=social_sharing&quot; target=&quot;_blank&quot;&gt;soudcloud&lt;/a&gt;

Oh! and remember to come back to
[[continue-&gt;music is the answer]]</tw-passagedata><tw-passagedata pid="227" name="Sisyphos" tags="game" position="3105,4142" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTE3ODcwMzRf/sisyphos.jpg&quot;, width=&quot;600&quot;/&gt;

&quot;I&#39;ve heard quite a lot about this place. I think I want to check it out!&quot;

[[go here-&gt;sisyphos entrance]]
[[choose another one-&gt;club navigator map]]</tw-passagedata><tw-passagedata pid="228" name="Renate" tags="game" position="3548,4143" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTE3ODcwMzNf/renate.jpg&quot;, width=&quot;500&quot;/&gt;
&quot;I&#39;ve heard this one is pretty good. Want to check it out?&quot;

[[go here-&gt;renate entrance]]
[[choose another one-&gt;club navigator map]]</tw-passagedata><tw-passagedata pid="229" name="Watergate" tags="game" position="3954,4150" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTE3ODcwMzdf/watergate.jpg&quot;, width=&quot;600&quot;/&gt;

&quot;Hmm this one looks interesting right next to the river. Should we go here?&quot;

[[go here-&gt;watergate entrance]]
[[choose another one-&gt;club navigator map]]</tw-passagedata><tw-passagedata pid="230" name="Mayday poster and footage" tags="" position="2905,3282" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTE3ODY5OTdf/mayday-1991.jpeg&quot;, width=&quot;400&quot;/&gt;]
(click:?img1)[(replace:?img1)[[[&lt;img src=&quot;https://i.imgur.com/EUotIPF.gif&quot;/&gt;-&gt;Wolle XPD]]]]</tw-passagedata><tw-passagedata pid="231" name="Wolle XPD" tags="" position="3057,3216" size="100,100">&lt;img src=&quot;https://i.imgur.com/oKHohQw.gif&quot;/&gt;

(text-colour:cyan)[Wolle XDP 
(DJ)

&quot;In 1991 after I had seen the first Mayday I said: that concept will one day lead to Popular music with a Techno thump being played and into a heavy-rotation-super-crap-hits dead end.
This concept is going to lead to all DJs playing the same music, and they will make the hits more and more compatible. 
The concept of Mayday was copied, 
[[it proved to be successful.&quot;-&gt;Wolle XPD 2]]]

</tw-passagedata><tw-passagedata pid="232" name="Thomas Koch" tags="" position="3416,3263" size="100,100">(text-colour:blue)[Thomas Koch
(Frontpage magazine)
&quot;After Mayday for the first time the scene was split into two camps. One side wanted to make everything as big as possible at all cost and others were shocked by the fact that it suddenly turned pop... 
And you even had these magazines, 
(text-colour:magenta)[[[Bravo or Bild-&gt;magazine image]] ]
where people read about how you have to dress when you go to a rave.&quot;]</tw-passagedata><tw-passagedata pid="233" name="magazine image" tags="" position="3505,3479" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTE3ODcwMzhf/wir%20sind%20kinder%20von%20planeten%20Kino.jpg&quot;, width = &quot;800&quot;/&gt;-&gt;love parade grew exponentially]]</tw-passagedata><tw-passagedata pid="234" name="bigger" tags="" position="2829,3576" size="100,100">Something that started in the undergounds as something intimate and exclussive, in the blink of an eye became massive.

The bigger the better.

[[And of course more money came in.-&gt;paul hockenos love parade 1999 2]]</tw-passagedata><tw-passagedata pid="235" name="love parade grew exponentially" tags="" position="2345,3603" size="100,100">The Love Parade also grew exponentially.
like Woodstock back on it’s day, 
[[people from all over the world would travel just for this event.-&gt;dr motte love parade 5]] </tw-passagedata><tw-passagedata pid="236" name="Armin Johnert" tags="" position="2583,3776" size="100,100">(text-colour:red)[Armin Johnert
(Frontpage magazine)
&quot;In the beginning it was an elite movement, then a boom and they reached the mass. I believe that is what was intended.
It&#39;s just strange that once it was achieved, they were sad again thinking: 
[[No, we didn&#39;t actually really want it to be like this.&quot;-&gt;footage 1999 love parade 2]] ]</tw-passagedata><tw-passagedata pid="237" name="Thomas Koch attitude" tags="" position="2869,2674" size="100,100">(text-colour:lime)[Thomas Koch
(Editor, Groove Magazine)

&quot;The slogans that were created for the raves and published in the Frontpage and Groove magazines, were partially ideological manifests about what 
this spirit really is and 
[[what it means to be part of the techno scene.&quot;-&gt;frontpage magazine]]]</tw-passagedata><tw-passagedata pid="238" name="not just party" tags="" position="2716,2694" size="100,100">But it was not just about the party
The real spirit was to be creative, 
not just for yourself, 
but for the scene, 
[[for the community.-&gt;Thomas Koch attitude]]</tw-passagedata><tw-passagedata pid="239" name="techno today?" tags="" position="2072,6270" size="100,100">So what can it be said about techno today?
Is it still a manifesto,
a movement,
a subculture?

Is it a lifestyle? 
a hobby?

[[Or is it just a party business?-&gt;break footage]]</tw-passagedata><tw-passagedata pid="240" name="love parade 2000&#39;s" tags="" position="2278,6641" size="100,100">Even after losing its official status as a demo, in 2002 and 2003, people continued to gather on the streets for the Love Parade.

However there was no financing proyect to sustain this, the organizers had no more savings, new dates were in jeopardy, and 
[[sponsors withdrew their support.-&gt;Dr Motte love parade bankrupt]]</tw-passagedata><tw-passagedata pid="241" name="Dr Motte love parade bankrupt" tags="" position="2451,6650" size="100,100">(text-colour:orange)[Dr. Motte 
(DJ)

&quot;During the good times we didn&#39;t pay out any winnings, but instead saved. That initially benefited us. But at the end of 2003 it finally broke our necks. There was no Love Parade in 2004 and 2005, we went bankrupt.

Shortly before we closed our GmbH, an investor approached us, a West German fitness chain. They presented us with an offer. 
I didn&#39;t want to sell. I said to the other shareholders: You are making a big mistake because you are selling off a global brand for little money so that this new buyer can advertise his stupid fitness chain. 
[[They did it anyway.&quot;-&gt;the love is back]]
]</tw-passagedata><tw-passagedata pid="242" name="the love is back" tags="" position="2595,6653" size="100,100">In the summer of 2006, the Love Parade happened again under the slogan “The Love Is Back”, but it was the last time it took place in Berlin.

&lt;img src=&quot;https://od.lk/s/ODNfNTE4NTMyMjRf/loveparade%202006.jpg&quot;, width=&quot;600&quot;/&gt;

The next years the fitness chain entrepeneurs decided to move the festival to the Ruhr area, where it was held in Essen (2007) and then [[Dortmund-&gt;Dortmund overpowers Berlin]] (2008).</tw-passagedata><tw-passagedata pid="243" name="Dortmund overpowers Berlin" tags="newspaper" position="2749,6653" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTE4NTMxNjVf/love%20parade%20dortmund.jpeg&quot;, width=&quot;600&quot;/&gt;

Dortmund overpowers Berlin
Pott beats the capital: The 2008 Love Parade in Dortmund set a visitor record with 1.6 million ravers - and far exceeded the last spectacles in Berlin. The emergency services also drew a positive conclusion the day after: [[it was extremely loving.-&gt;inflated numbers]]
July 20, 2008, 3:35 p.m</tw-passagedata><tw-passagedata pid="244" name="inflated numbers" tags="" position="2906,6647" size="100,100">According to the organizers
the love parades at Essen and Dortmund broke records.

However many have claimed that these numbers were inflated. 
[[(Probably for marketing reasons)-&gt;love parade 2009]]</tw-passagedata><tw-passagedata pid="245" name="love parade 2009" tags="" position="3046,6656" size="100,100">But in 2009 the parade was cancelled again. 
The mayor of the city of Bochum did not consider an event 
of this size feasible in his city and 
[[issued a cancellation.-&gt;Dr Motte love parade 2009]]</tw-passagedata><tw-passagedata pid="246" name="Dr Motte love parade 2009" tags="" position="3197,6653" size="100,100">(text-colour:orange)[Dr. Motte

&quot;The Love Parade is now a marketing event that the owner can deduct from taxes, so basically: a write-off project. In 2009, the year of the 20th anniversary, there will be no Love Parade in Germany. 
[[To be honest: I&#39;m not sad about it.&quot;-&gt;pictures rave-money]]]</tw-passagedata><tw-passagedata pid="247" name="no response" tags="" position="1990,7356" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTE4NTM2OTBf/calling-edited.jpg&quot;, width=&quot;350&quot;/&gt;](click:?img1)[(replace:?img1)[|img2&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTE4NTM2OTNf/no%20response-edited.jpg&quot;,  width=&quot;350&quot;/&gt;]]](click:?img2)[(replace:?img2)[[[&quot;I wonder why he isn&#39;t responding my calls...&quot;-&gt;lose yourself]]]]
</tw-passagedata><tw-passagedata pid="248" name="it is also about the fun" tags="" position="2093,7509" size="100,100">It&#39;s true
Techno
could be a movement 
or at least it was.

But it is also about the fun isn’t it?
Having a good time.
We  can&#39;t be always political
[[Not everything has to be so serious.-&gt;Tanith]]</tw-passagedata><tw-passagedata pid="249" name="Tanith" tags="" position="2332,7543" size="100,100">(text-colour:red)[DJ Tanith

&quot;Techno wasn&#39;t just the music it was also this lifestyle, partying non-stop Friday thru Monday. And it was also a way to define the future, not just musically, 
[[also as a lifestyle with the clothes with all sorts of things.&quot;-&gt;Sven Väth]]]

&lt;img src=&quot;https://od.lk/s/ODNfNTE4NzU4MzJf/excess%202.jpg&quot;/&gt;</tw-passagedata><tw-passagedata pid="250" name="Sven Väth" tags="" position="2544,7532" size="100,100">(text-colour:green)[Sven Väth 
(DJ)

&quot;It was incredibly excessive and you asked yourself if you were in an asylum, because it really was all immensely lived to the full.
Some of them weren&#39;t wearing T-shirts, poured water over their heads. Others dressed up and showed up wearing diving suits,
teddy bears and vacuum cleaners on their backs 
[[and so on.&quot;-&gt;excess pic]] ]

&lt;img src=&quot;https://od.lk/s/ODNfNTE4NzU4NDFf/excessive.png&quot;/&gt;</tw-passagedata><tw-passagedata pid="251" name="how can you tell" tags="" position="2895,7551" size="100,100">But how can you tell if it&#39;s really a lifestyle
or a hobby,
something recreative
and not just hedonism and escapism.

How do you know the limit of the excesses?
[[How do you know when too much has already been too much?-&gt;There was just chaos]]</tw-passagedata><tw-passagedata pid="252" name="There was just chaos" tags="newspaper" position="1775,7779" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTE4NTM1Nzdf/love%20parade%20tragedy%200.jpg&quot;, width=&quot;600&quot;/&gt;

&quot;There was just chaos&quot;
Police officers describe frightening scenes at the Love Parade: excited and aggressive ravers met overwhelmed organizers. &quot;The mood was explosive, many seemed intoxicated,&quot; says one official - another believes that the city of Duisburg had &quot;defied all security concerns.&quot;
[[July 25, 2010, 8:44 a.m -&gt;love parade tragedy 1]]</tw-passagedata><tw-passagedata pid="253" name="love parade tragedy 1" tags="" position="1986,7779" size="100,100">On July 24, 2010,
a moment of joy and celebration that was supposed to be
the Love Parade in the city of Duisburg 
ended in [[disaster.-&gt;tunnel picture]]</tw-passagedata><tw-passagedata pid="254" name="love parade tragedy 2" tags="" position="2307,7783" size="100,100">The parade area was already beyond packed and the police had just closed the entrance for security reasons. 

It was around  5:30 p.m. and many ravers were still trying to get to the final event of the Love Parade. 

[[People were asked over loudspeakers to go back.-&gt;love parade tragedy 3]]

&lt;img src=&quot;https://od.lk/s/ODNfNTE4NTM1OTlf/love%20parade%20tragedy%202.jpg&quot;, width=&quot;600&quot;/&gt;</tw-passagedata><tw-passagedata pid="255" name="love parade tragedy 3" tags="" position="2468,7788" size="100,100">But more and more people kept on coming.

A bottleneck formed in the tunnel as people continue pushing forward while others were trying to leave, moving in the opposite direction. 

People could barely move or breathe  
[[Many who were intoxicated or using drugs, started to become severely dehydrated.-&gt;love parade tragedy 4]]

&lt;img src=&quot;https://od.lk/s/ODNfNTE4NTM1ODBf/love%20parade%20tragedy%201.jpg&quot;, width=&quot;600&quot;/&gt;</tw-passagedata><tw-passagedata pid="256" name="love parade tragedy 4" tags="" position="2611,7791" size="100,100">They try to keep their heads up to get air, others had already collapsed to the ground. 
The police tried to go inside the crowd and pull out the people lying on the ground.  
[[But it was too crowded, there was nothing they could do.-&gt;love parade tragedy 5]]</tw-passagedata><tw-passagedata pid="257" name="love parade tragedy 5" tags="" position="2736,7797" size="100,100">The crowd continued building up in the tunnel and around the entrance area. Some ravers tried to climb up the emergency stairs. Others climbed over a ladder-like loudspeaker structure. 
[[Some of these fell onto the masses from 9 meters high.-&gt;love parade tragedy 6]]


&lt;img src=&quot;https://od.lk/s/ODNfNTE4NTM2MDRf/love%20parade%20tragedy%203.jpg&quot;, width=&quot;600&quot;/&gt;</tw-passagedata><tw-passagedata pid="258" name="love parade tragedy 6" tags="" position="2870,7797" size="100,100">Then the panic truly took over. People screamed, pushed each other, trying to run away. The stampede became uncontrolable. More people collapsed one on top of the other and 
[[the crowd simply stepped over those lying on the ground.-&gt;udo thats how I imagine war]]</tw-passagedata><tw-passagedata pid="259" name="udo thats how I imagine war" tags="" position="2991,7797" size="100,100">(text-colour:red)[Udo 
TV camera man and eye witness

&quot;People were lying on the ground everywhere. [[That&#39;s how I imagine war.&quot;-&gt;love parade tragedy 7]]]</tw-passagedata><tw-passagedata pid="260" name="love parade tragedy 7" tags="" position="3114,7798" size="100,100">It was until 40 minutes after the mass panic that an emergency lane could be formed. 

But For many, it was too late. 
&quot;A girl died next to me.&quot;, says Dustin a witness. She was simply crushed. Another girl was lying next to him and was already blue. He was able to revive her with mouth-to-mouth resuscitation. &quot;There were still two people lying on top of me.&quot; In some cases five to six people were pushed on top of each other. Finally, paramedics pulled him out. It was so narrow that his shoes got stuck between people: 
[[&quot;I had already finished living. I didn&#39;t think I would still be able to breathe.&quot;-&gt;21 people died]]</tw-passagedata><tw-passagedata pid="261" name="21 people died" tags="" position="3259,7808" size="100,100">21 people died
Fourteen young Germans and seven foreigners.
[[Around 610 resulted injured. -&gt;udo programmed chaos]]


&lt;img src=&quot;https://od.lk/s/ODNfNTE4NTM2MDdf/love%20parade%20tragedy%208.jpg&quot;, width=&quot;700&quot;/&gt;</tw-passagedata><tw-passagedata pid="262" name="udo programmed chaos" tags="" position="2209,7994" size="100,100">(text-colour:red)[Udo 
(camera man and eye witness)

&quot;It was programmed chaos. At first there were no rescue workers there, maybe three or four from the Maltese relief service. But they couldn&#39;t do anything with the mass of people. 
[[You can&#39;t plan a million people event on an area for 350,000 people.&quot;-&gt;Klaus Schäfer]]]</tw-passagedata><tw-passagedata pid="263" name="Klaus Schäfer" tags="" position="2351,8024" size="100,100">(text-colour:blue)[Klaus Schäfer 
(security expert)

&quot;The area was not remotely suitable for an event like this - especially because of the tunnel as the only entrance and exit. I told them clearly: That&#39;s not possible! (...)
But the responsible ones 
[[didn’t want to hear requests for changes or criticism.&quot;-&gt;Gabi Müller]]]</tw-passagedata><tw-passagedata pid="264" name="Dr. Motte blame" tags="" position="2677,8031" size="100,100">(text-colour:orange)[Dr.Motte

&quot;They (the organizers) are the ones to blame, it was all about making money.
[[They didn&#39;t show the slightest sense of responsibility for the people.&quot;-&gt;Memorial Picture]]]</tw-passagedata><tw-passagedata pid="265" name="Gabi Müller" tags="" position="2515,8023" size="100,100">(text-colour:magenta)[Gabi Müller 
(Mother of a victim)
&quot;When you see how narrow the space was you ask yourself, how it was ever approved. 
[[You can see at once that it was not suitable.&quot;-&gt;Dr. Motte blame]]]</tw-passagedata><tw-passagedata pid="266" name="no response 2" tags="" position="1819,8223" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTE4NTM2OTBf/calling-edited.jpg&quot;, width=&quot;350&quot;/&gt;](click:?img1)[(replace:?img1)[|img2&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTE4NTM2OTNf/no%20response-edited.jpg&quot;,  width=&quot;350&quot;/&gt;]]](click:?img2)[(replace:?img2)[[[hmmm still doesn’t respond, and the parade is soon...-&gt;Rave the planet 1]]]]</tw-passagedata><tw-passagedata pid="267" name="Rave the planet 1" tags="" position="2004,8260" size="100,100">It was January 2019, 
almost 10 years after the Duisburg Tragedy, 
and 30 years after the first Love Parade.

Dr. Motte, and the team from the Nineties Berlin Museum were going to prepare an exhibition for the [[anniversary.-&gt;suddenly it went ping]]</tw-passagedata><tw-passagedata pid="268" name="Rave the Planet 2" tags="" position="2297,8268" size="100,100">And so on January 13, 2020 Motte along with other DJ’s and artists from the scene, organized an Opening party to presented their new initiative: 

&lt;span style=&quot;font-size: 200%&quot;&gt;&quot;Rave the Planet&quot;&lt;/span&gt;

The party had an exhibition, merch and of course DJs.
[[It was a joyful celebration once again.-&gt;Rave the Planet 3]]

&lt;img src=&quot;https://i.imgur.com/nd8fMOt.gif&quot;/&gt;</tw-passagedata><tw-passagedata pid="269" name="Rave the Planet 3" tags="" position="2438,8247" size="100,100">The first Rave the Planet parade was being anticipated for Summer 2020. 
But of course it was cancelled because of the COVID pandemic.

[[It was until 2022 when the Parade could happen.-&gt;RTP 2022 picture]]</tw-passagedata><tw-passagedata pid="270" name="RTP 2022 picture" tags="" position="2634,8241" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTE4NTQ4MjBf/rave%20the%20planet%202022.jpg&quot;, width=&quot;700&quot;/&gt;-&gt;together again]]</tw-passagedata><tw-passagedata pid="271" name="Rave the planet 4" tags="" position="2551,8446" size="100,100">
Gentrification, coupled up with the pandemic, putted many clubs out of business, risking all what the club culture is supposed to represent:

[(cycling-link: &quot;free safe spaces&quot;, &quot;cultural recreation&quot;, &quot;musical and artistical development&quot;, &quot;freedom of expression&quot;, &quot;connection&quot;)]  

&lt;img src=&quot;https://od.lk/s/ODNfNTE4NzQ4MzJf/rave%20the%20planet%202022%202.jpg&quot;, width=&quot;600&quot;/&gt;

That is why Rave the Planet is demanding Techno and Club culture to be classified as cultural goods. 
It demands politicians to answer the question: 
[[&quot;What value does culture have in a society?&quot;-&gt;rtp 2022 footage]]</tw-passagedata><tw-passagedata pid="272" name="together again" tags="" position="2800,8260" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTE4NzQ4Mzhf/rave%20the%20planet%20together%20again.jpg&quot;, width =&quot;700&quot;/&gt;

Under the motto
&quot;Together again&quot;
The Parade aimed to be not just a musical event, but also a [[political protest.-&gt;Rave the planet 4]]</tw-passagedata><tw-passagedata pid="273" name="figure it out by myself" tags="" position="1785,8693" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTE4NTM2OTBf/calling-edited.jpg&quot;, width=&quot;350&quot;/&gt;](click:?img1)[(replace:?img1)[|img2&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTE4NTM2OTNf/no%20response-edited.jpg&quot;,  width=&quot;350&quot;/&gt;]]](click:?img2)[(replace:?img2)[[[But I guess I&#39;ll have to figure it out by myself.-&gt;my rave the planet 1]]]]</tw-passagedata><tw-passagedata pid="274" name="planetarium 3" tags="" position="2340,1947" size="100,100">
&lt;img src=&quot;https://od.lk/s/ODNfNTA0NzU5NjNf/architektur-der-ddr-10-89.jpg&quot;/&gt;

The GDR wanted to outstand itself internationally in space exploration, as a way to prove the scientific and technical progress achieved under socialism. 

This motivated the construction of the The Zeiss Major Planetarium in [[1987...-&gt;planetarium 4]]


&lt;img src=&quot;https://od.lk/s/ODNfNTA0NzU5NjJf/11.5-Broschuere-ZGP-1988-klein.jpg&quot;, width=&quot;700&quot;/&gt;
</tw-passagedata><tw-passagedata pid="275" name="planetarium 4" tags="" position="2209,1995" size="100,100">...a domed structure, clad with aluminium,
and with the ultra-modern star projector „Cosmorama“,
which was considered one of the most modern in Europe.

&lt;img src=&quot;https://od.lk/s/ODNfNTA0NzU5NjFf/11.3-Broschuere-ZGP-1988-klein.jpg&quot;/&gt;

Scientists, ingeneers, families, students would come here.

And kids dreamt with traveling beyond the [[stars.-&gt;rocket]]</tw-passagedata><tw-passagedata pid="276" name="rocket" tags="" position="2089,1942" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/nrOy43V.gif&quot;/&gt;-&gt;Ernst Thalmann map]]</tw-passagedata><tw-passagedata pid="277" name="satelite" tags="" position="2104,1794" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/up0QtYE.gif&quot;/&gt;-&gt;planetarium 2]]</tw-passagedata><tw-passagedata pid="278" name=" Ernst Thalmann monument history" tags="" position="2108,2594" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTA1NzU5OTlf/Broschuere-Bauinformation-1986-Baudir.-Berl.-2-klein.jpg&quot;, width=&quot;500&quot;/&gt;

It was the Soviet sculptor Lev Kerbel, commissioned by Erich Honecker, the one to finally honor Thälman by desigining his monument, which was integrated into the park&#39;s architectural planning. 

Despite criticism for not involving local artists, the monument,
monolitic and grandious,
reflected Thälmann&#39;s significance for the [[GDR.-&gt;covered monument]]
</tw-passagedata><tw-passagedata pid="279" name="covered monument" tags="" position="2025,2719" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTE2MjAwMjJf/image095.jpg&quot;, width=&quot;600&quot;/&gt;-&gt;Ernst Thalmann politics]]</tw-passagedata><tw-passagedata pid="280" name="a game about Berlin 2" tags="dialogue" position="1575,3651" size="100,100">&quot;I think I want there to be some kind of story... after the Mauerfall, in the game you have character that has to discover what&#39;s on the other side... I don&#39;t know if you get to choose whether he is a Wessi or an Ossi, but I think I&#39;m leaning towards centering it on an Ossi.&quot;
&quot;Well yeah I think maybe that would be more interesting, because in the end the Ossis are the ones that have to enter the world and discover it.&quot; 
&quot;Yeah... and to be honest I also kinda have a soft spot for Ossis...&quot;
[[&quot;Hmmm, aha...&quot;-&gt;and so summer came]]</tw-passagedata><tw-passagedata pid="281" name="a story about Berlin 2" tags="" position="1760,3648" size="100,100">&quot;Yeah i think I want to write about what happened after the Mauerfall. There would have to be a character that has to discover what&#39;s on the other side... I don&#39;t know if he (or she) would be a Wessi or an Ossi, but I think I&#39;m leaning towards centering it on an Ossi.&quot;
&quot;Well yeah I think maybe that would be more interesting, because in the end the Ossis are the ones that have to enter the world and discover it.&quot; 
&quot;Yeah... and to be honest I also kinda have a soft spot for Ossis...&quot;
[[&quot;Hmmm, aha...&quot;-&gt;and so summer came]]</tw-passagedata><tw-passagedata pid="282" name="footage club" tags="" position="3428,1458" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/iEr5lUb.gif&quot;/&gt;-&gt;my club experience]]</tw-passagedata><tw-passagedata pid="283" name="alexanderplatz opening" tags="" position="3025,76" size="100,100">&lt;img src=&quot;https://i.imgur.com/4COkgo1.gif&quot;/&gt;

[[And so, a whole new area opened-&gt;open mitte]]</tw-passagedata><tw-passagedata pid="284" name="Kit Kat" tags="dialogue" position="2416,878" size="100,100">&lt;img src= &quot;https://od.lk/s/ODNfNTE3ODcwMzJf/kit%20kat%20club.jpeg&quot;, width=&quot;700&quot;/&gt;

&quot;This is the sex club, right?&quot;
&quot;Yeah, the most popular one.
&quot;So you have to get kinky clothes to get in there.&quot;
&quot;Yeah, or no clothes at all.&quot; 
&quot;Yeah... I don&#39;t think I&#39;m ready for that. Let&#39;s try...&quot;

[[Golden Gate]]
[[Kater Blau]]
[[I don&#39;t know, you choose]]</tw-passagedata><tw-passagedata pid="285" name="Golden Gate" tags="dialogue" position="2651,857" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTE3ODcwNDJf/golden%20gate.jpg&quot;/&gt;

How about this one? It looks like it&#39;s under a bridge.
&quot;Yeah that is Golden Gate, it&#39;s a really small club, but I&#39;m not sure if you would like it there.&quot;
Why?
&quot;It&#39;s too... hmmm druggy&quot; 
&quot;ohh ok then...&quot; 

[[Kit Kat]]
[[Kater Blau]]
[[I don&#39;t know, you choose]]</tw-passagedata><tw-passagedata pid="286" name="Kater Blau" tags="dialogue" position="2833,838" size="100,100">&lt;img src= &quot;https://od.lk/s/ODNfNTE3ODcwMzlf/kater%20blau%202.jpg&quot;, width=&quot;700&quot;/&gt;

&quot;Oh! How about this one? It&#39;s so colorful and next to the river.&quot;
&quot;Yeah... but maybe too colorful. Look at me I&#39;m all dressed in black, they won&#39;t let me in.&quot;
&quot;Really that&#39;s a thing? Uff then...&quot;

[[Golden Gate]]
[[Kit Kat]]
[[I don&#39;t know, you choose]]</tw-passagedata><tw-passagedata pid="287" name="I don&#39;t know, you choose" tags="dialogue" position="2661,1009" size="100,100">&quot;Actually I don&#39;t know where to go I&#39;m running out of ideas&quot;
&quot;Wait! I know exactly where we should go. [[Come!-&gt;Tresor]]&quot;
</tw-passagedata><tw-passagedata pid="288" name="Tresor" tags="" position="3009,984" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTE3ODcwMzZf/Tresor2022.jpg&quot;, width=&quot;600&quot;/&gt;

We got to a club called TRESOR.
The queue wasn&#39;t long, and we got in easily.
(I think we were quite lucky)
They just put a stamp on my wrist and stickers on my cellphone. 
[[&quot;No Pictures&quot;-&gt;Tresor inside]]</tw-passagedata><tw-passagedata pid="289" name="why here" tags="dialogue" position="2894,1194" size="100,100">&quot;So, why did you decided for this one?&quot; I said loudly over the heavy bass noises
Somehow he managed to listen
&quot;It&#39;s the oldest one from here, it&#39;s been here from the very beginning.&quot; he said, screaming. &quot;I though it might interest you more. It has more... history!&quot;
&quot;Ohhhh, really? How old?
&quot;Beginning of the 90&#39;s for sure.&quot; 

I kept on dancing, looking at the DJ infornt of me.
From the very beginning huh? [[I wonder how was that exactly...-&gt;tresor footage]]</tw-passagedata><tw-passagedata pid="290" name="tresor footage" tags="" position="2648,1189" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/CjSEi28.gif&quot;/&gt;-&gt;empty spaces]]</tw-passagedata><tw-passagedata pid="291" name="my club experience 2" tags="" position="3267,1723" size="100,100">I danced all night just feeling the music 
not worrying about others
because in the end everyone was doing the same
dancing in their own little worlds
it was amazing
I was to shy to make new friends at that moment
but I had a great time anyway.

The club was a space of liberty, where I could be myself 
[[or at least try.-&gt;my first stamp]] 
</tw-passagedata><tw-passagedata pid="292" name="dr motte love parade 4.5" tags="" position="2800,2444" size="100,100">&lt;img src=&quot;https://i.imgur.com/YfIWGFK.gif&quot;/&gt;

(text-colour:orange)[&quot;Plus this new acid sound that drives you forward almost hypnotically. You felt elitist and you were 
[[doing something that society didn&#39;t understand.&quot;-&gt;And that was just the beginning]]]</tw-passagedata><tw-passagedata pid="293" name="break footage 1" tags="" position="3354,2015" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/WaIzyhD.gif&quot;/&gt;-&gt;comparable to the hippy movement]]</tw-passagedata><tw-passagedata pid="294" name="footage 1999 love parade" tags="" position="2811,3780" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/AqCZcQ7.gif&quot;/&gt;-&gt;Armin Johnert]]</tw-passagedata><tw-passagedata pid="295" name="Wolle XPD 2" tags="" position="3162,3371" size="100,100">(text-colour:cyan)[&quot;You finally had a model that you could base large Techno parties on. You rent a hall and put a sound system there. Then you have a look and say &quot;these 20 DJ&#39;s are currently the most popular&quot;,you book them and 10 000 people come running. 
All of the sudden DJ&#39;s realize this and charge more, the salaries went sky high, and people would pay the entrance fees. 
[[Works brilliantly.-&gt;Thomas Koch]]&quot;]

&lt;img src=&quot;https://i.imgur.com/IGVvHUn.gif&quot;/&gt;</tw-passagedata><tw-passagedata pid="296" name="TEKKNOZID poster" tags="" position="2449,1472" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTE3ODcwNTFf/Tekknozid%20bigger.jpg&quot;/&gt;-&gt;TEKKNOZID]]</tw-passagedata><tw-passagedata pid="297" name="Peace Joy and Pancakes" tags="title" position="2798,2029" size="100,100">|PEACE&gt;[(text-colour:green)[PEACE]](click:?PEACE)[(replace:?PEACE)[|JOY&gt;[(text-colour:yellow)[JOY]]]]
(click:?JOY)[(replace:?JOY)[|and&gt;[and]]]
(click:?and)[(replace:?and)[(text-colour:orange)[[[pancakes?-&gt;love parade logo]]]]]</tw-passagedata><tw-passagedata pid="298" name="frontpage magazine" tags="" position="3026,2677" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTE4MzIzOTBf/frontpage%20june%201990.jpg&quot;, height=&quot;500&quot;/&gt;]
(click:?img1)[
(replace:?img1)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTE4MzIzODlf/frontpage%20june%201990%20%282%29.jpg&quot;, height=&quot;500&quot;/&gt;-&gt;Thomas Koch 2]]]]</tw-passagedata><tw-passagedata pid="299" name="Thomas Koch 2" tags="" position="3176,2643" size="100,100">(text-colour:lime)[&quot;It is not only just about going out on weekends, but it&#39;s rather a whole attitude. It&#39;s desirable to do something on the scene, set up some kind of business like a club wear store or a record store, a booking agency or [[host parties.-&gt;building clubs footage]]]</tw-passagedata><tw-passagedata pid="300" name="techno is" tags="" position="2465,3221" size="100,100">
#techno is:
&lt;span style=&quot;font-size: 200%&quot;&gt; 
|joy&gt;[(text-colour:red)[joy]](click:?joy)[(replace:?joy)[excess]]
|music&gt;[(text-colour:yellow)[music]](click:?music)[(replace:?music)[hedonism]]
|connection&gt;[(text-colour:green)[connection]](click:?connection)[(replace:?connection)[narcisism]]
|freedom&gt;[(text-colour:cyan)[freedom]](click:?freedom)[(replace:?freedom)[escapism]]
|culture&gt;[(text-colour:purple)[culture]](click:?culture)[(replace:?culture)[[[consumism-&gt;Gutmair consumer miles]]]]&lt;/span&gt;</tw-passagedata><tw-passagedata pid="301" name="club game introduction" tags="dialogue" position="2980,3865" size="100,100">We were still in Prenzlauerberg, checking out where should we go tonight.

&quot;So are we sure we want to go out? The parade is next week&quot;
&quot;Oh yeah I almost forgot, but I think it&#39;s fine&quot;
&quot;Wouldn&#39;t it be too much?&quot;
&quot;Neh&quot;, he said while checking his phone, &quot;You know what, last time I took over, this time you should be the guide.&quot;
&quot;What me? but I don&#39;t know anything about the scene.&quot;
&quot;Well, this way you&#39;ll learn.&quot;
[[&quot;Hmmm ok...&quot;-&gt;club navigator game start]]</tw-passagedata><tw-passagedata pid="302" name="club navigator game start" tags="game" position="3111,3904" size="100,100">&lt;span style=&quot;font-size: 400%&quot;&gt;Club navigator game&lt;/span&gt;

welcome to the club navigator game!
your mission is to get into a club and have the night of your life,
(or maybe not, but have a good time at least)

[[start-&gt;club navigator map]]
[[quit-&gt;early quit]]</tw-passagedata><tw-passagedata pid="303" name="early quit" tags="game" position="2401,4438" size="100,100">&quot;Actually... I think I&#39;d rather not go out today. I&#39;m a bit tired.&quot;
&quot;Really? hmm ok, so I&#39;ll just go by myself.&quot;
&quot;Ok... hmm  have fun I guess&quot;
&quot;Sure... I&#39;ll miss you&quot;
&quot;See you&quot;
[[&quot;See you&quot;-&gt;voice of conscience]]</tw-passagedata><tw-passagedata pid="304" name="exit game" tags="game" position="1845,5524" size="100,100">&lt;span style=&quot;font-size: 200%&quot;&gt;[[game over-&gt;techno today?]]&lt;/span&gt;

(align:&quot;&lt;==&quot;)+(box:&quot;=XX=&quot;)[&lt;img src=&quot;https://od.lk/s/ODNfNTE4MTg0NjBf/8%20bit%20ferhseh%20turm.jpg&quot;/&gt;]</tw-passagedata><tw-passagedata pid="305" name="sisyphos entrance" tags="game" position="3102,4304" size="100,100">It was a bit of a long ride, you had to take the SBahn and a tram to get there. 

&quot;Woow, There is nothing around here&quot;
&quot;Yeah.. I think this used to be an industrial area, and the club used to be a factory.&quot;
&quot;Woow! But look at this gate, it looks more like a circus!&quot;
&quot;Haha Yeah... oh... and that&#39;s our queue...&quot;
&quot;Ouff ok, there is some people, but it&#39;s gonna move quickly right?&quot;
&quot;Hmmm we&#39;ll see.&quot;


(text-colour:white)+(background:red)[(align:&quot;=&gt;&lt;=&quot;)+(box:&quot;=======XXXXXXXXXX======&quot;)[Sisyphos
average waiting time: 2 hours]]

&quot;Should do it or just try another one?&quot;

[[stay-&gt;sisyphos queue]]
[[try another club-&gt;try another club sisyphos]]</tw-passagedata><tw-passagedata pid="306" name="sisyphos queue" tags="game" position="3075,4439" size="100,100">You get into the line and just start talking about random stuff.
The queue moves but quite slowly, it looks like it&#39;s gonna take some time.
Gladly there is at least someone with a supermarket cart selling beers. (samrt guy)
You get some and start listening around you some people discussing if it&#39;s easy to get into this club or not. 
Looks like they don&#39;t let everyone in.

it&#39;s been half an hour
wanna wait more?
[[yes-&gt;sisyphos queue 2]]
[[pff nah, let&#39;s go-&gt;try another club sisyphos]]</tw-passagedata><tw-passagedata pid="307" name="try another club berghain" tags="game" position="4652,4358" size="100,100">yeah most likely we wont get in. So where should we go now?

[[Sisyphos]]
[[Watergate]]
[[Renate]]</tw-passagedata><tw-passagedata pid="308" name="sisyphos queue 2" tags="game" position="2976,4581" size="100,100">An hour passed by.
you get beyond the circus gate, but once you cross it you realize there is another indoor queue. This reminds you so much to Disneyland

&quot;Really? more queue? I thought we were almost there...&quot;
&quot;Yeah, should have seen this coming... Wanna give up?&quot;
[[no, not yet...-&gt;sisyphos bouncer]]
[[actually...-&gt;try another club sysiphos b]]</tw-passagedata><tw-passagedata pid="309" name="sisyphos bouncer" tags="game" position="2821,4689" size="100,100">another half an hour passed by.
It&#39;s already 1:00 but you can finally see the bouncer. Looks like most people get in, but some don&#39;t.
&quot;Don&#39;t get nervous pretend you know what you are doing.&quot; You think

A 2 meter high bald dude with piercings and ear extensions stands right in front of you
&quot;Don&#39;t get nervous.&quot; you think again
&quot;So have you been here before?&quot; he asks
[[yes]]
[[no]]</tw-passagedata><tw-passagedata pid="310" name="try another club sysiphos b" tags="game" position="5127,4098" size="100,100">you know what? let&#39;s go to other club, but I guess it&#39;s a bit late already... let&#39;s try something without a long queue
(so no Berghain, please)

[[Watergate-&gt;Watergate b]]
[[Renate-&gt;Renate b]]</tw-passagedata><tw-passagedata pid="311" name="yes" tags="game" position="2757,4828" size="100,100">&quot;Oh really... how many dance floors we have?&quot;
|three&gt;[three]
|four&gt;[four]

(click:?three)[(replace:?three)[The bouncer starts to say no with his head
You are actually getting nervous now. 

&quot;Uhu... maybe you know the line up?&quot;
[[yes-&gt;yes2]] 
[[no-&gt;no2]]]
(hide:?four)]
(click:?four)[(replace:?four)[The bouncer just stares at you with disapproving eyes. 
You are actually getting nervous now. 

&quot;Aha, hmmm... do you know the line up?&quot;
[[yes-&gt;yes2]] 
[[no-&gt;no2]]]
(hide:?three)]</tw-passagedata><tw-passagedata pid="312" name="no" tags="game" position="2863,4831" size="100,100">&quot;No.. not really&quot;
&quot;Hmm ok, did you drink too much beore coming&quot;
&quot;No, just a beer right here at the entrance&quot;
He gives you a disaproving look
&quot;ahh but no, I mean not really&quot;
you start sweating a little
&quot;are you nervous?&quot;
[[yes-&gt;yes3]]
[[no-&gt;no3]]</tw-passagedata><tw-passagedata pid="313" name="yes2" tags="game" position="2702,4949" size="100,100">&quot;Ehh yeah...?&quot;
&quot;Ok... so who is playing today?
&quot;Ahh I don&#39;t remember the name...&quot;

&quot;You&#39;ve never actually been here before right? We don&#39;t like bullshit.&quot;
&quot;But.. I just thought...&quot;
The bouncer jst crosses his arms. You can actually see he is kind of pissed now. 
&quot;It&#39;s ok, let&#39;s just go&quot; you hear behind you.
[[You look down at the floor and just leave.-&gt;sisyphos rejection]]
</tw-passagedata><tw-passagedata pid="314" name="no2" tags="game" position="2823,4956" size="100,100">&quot;No, I actually don&#39;t...&quot; you admit
&quot;Hmm maybe you should have done you&#39;re research before...&quot; he says
You look down at the floor, &quot;I really messed up&quot; you think
&quot;Hey, look up&quot; the bouncer says
You look at him, his eyes look a bit crazy.
&quot;Hey I&#39;m just messing with you, you&#39;ll get in.&quot;
&quot;Uhh?&quot;
He gives you some stickers with a drawing of a duck on them.
&quot;Cover your cellphone.&quot;

This bouncers really like messing with peope huh?

You stick the stickers on your cellphones cameras, they check your pockets and you pay 20euro fee.

[[We&#39;re in!-&gt;sisyphos inside]]
</tw-passagedata><tw-passagedata pid="315" name="yes3" tags="game" position="2945,4963" size="100,100">&quot;Don&#39;t be. I&#39;m just human like you.&quot; He sais giving you quirky smile, then he gives you stickers with a drawing of a duck on them.
&quot;Cover your cellphone.&quot;

You stick the stickers on your cellphones cameras, they check your pockets and you pay 20Euro fee.

[[We&#39;re in!-&gt;sisyphos inside]]
</tw-passagedata><tw-passagedata pid="316" name="no3" tags="game" position="3071,4932" size="100,100">&quot;No&quot;
&quot;Excited?&quot;
&quot;Hmm yeah, sure...&quot; you say, pretending you don&#39;t care too much
&quot;All right&quot; 
He gives you a stickers with a drawing of a duck on them.
&quot;Cover your cellphone.&quot;

You stick the stickers on your cellphones cameras, they check your pockets and you pay 20 euro fee.

[[We&#39;re in!-&gt;sisyphos inside]]</tw-passagedata><tw-passagedata pid="317" name="sisyphos inside" tags="game" position="2973,5189" size="100,100">You enter an open area. More than a club this looks like a little town. There are different buildings: a coffee shop, a pizzeria and the bar of course. Everyone is wearing colorful clothes and you can hear music blasting all over.The vibe is happy.

You grab some drinks and go dancing to the multiple rooms
One looks like a tropical cottage.
Another is closed up, with blue lights.
And the third and bigger one was the hard techno one. 
There are redlights and the basses make your body vibrate.

[[pum pum pum-&gt;sysiphos inside 2]]
</tw-passagedata><tw-passagedata pid="318" name="sysiphos inside 2" tags="game" position="2977,5338" size="100,100">After dancing for a while you go to the chill area where there is a little lake. (Yeah there is even a lake in this club) 

&quot;This place is amaaaazing&quot;
&quot;Haha yeah I guess waiting that long was worth it&quot;&quot;
&quot;I think this will be defenitly one of my favorites
without saying anything he streches and puts his arm around you

you are looking at the people around you
Some people are smoking others drinking, others eating pizza. 
They are all chatting and having a good time. 
Ihe sky is clear and you can see the stars

&quot;I really really like this place&quot;
He kisses your head
&quot;Wanna go dance a bit more.&quot;
[[&quot;Yep let&#39;s go&quot;-&gt;sisyphos morning]]</tw-passagedata><tw-passagedata pid="319" name="sisyphos end success" tags="game" position="3198,5640" size="100,100">Congratulations! you survived the queue, got into the very popular Sisyphos club, and had a great time


(text-colour:white)+(background:red)[(align:&quot;=&gt;&lt;=&quot;)+(box:&quot;=======XXXXXXXXXX======&quot;)[Final score: 200pts
and you win the &quot;Sissy&quot; badge]]


(align:&quot;&lt;==&quot;)+(box:&quot;====XXXXX=&quot;)[
&lt;img src=&quot;https://od.lk/s/ODNfNTE5MDY0MjBf/sisy%20badge.png&quot;/&gt;]

[[exit game]]
[[play again-&gt;club navigator game start]]</tw-passagedata><tw-passagedata pid="320" name="sisyphos rejection" tags="game" position="2731,5218" size="100,100">&quot;It&#39;s ok it happens...&quot;
&quot;I really messed up&quot;
&quot;Nah, this people are assholes, that&#39;s why I don&#39;t like this really popular clubs&quot;
You just continue looking at the floor, while walking towards the Sbahn.
&quot;So anyway... it&#39;s almost 2:00 now, guess we can still try another one?&quot;

[[hmm ok, let&#39;s do it!-&gt;try another club sysiphos b]]
[[no... let&#39;s just go home-&gt;go home sisyphos]]</tw-passagedata><tw-passagedata pid="321" name="watergate entrance" tags="game" position="3837,4326" size="100,100">There are some people at the entrance but not too many.
They are all a bit dressed up, some girls use tight dresses.
They look like tourists.


(text-colour:black)+(background:cyan)[(align:&quot;=&gt;&lt;=&quot;)+(box:&quot;=======XXXXXXXXXX======&quot;)[Watergate
average waiting time: not much]]

&quot;Should we just get in?&quot;

[[yeah let&#39;s go-&gt;watergate queue]]
[[actually...-&gt;try another club watergate]]</tw-passagedata><tw-passagedata pid="322" name="watergate queue" tags="game" position="3818,4476" size="100,100">You get behind the tourists who get in without a problem. 
not mucha after you are right in front of the bouncer.

&quot;Hi! how many people&quot;
&quot;We are two&quot;

&quot;Ok, just put the stamp on your cellphone ok &quot;

We came in, other bouncer checked our pockets
You go to the ticket booth. Its 20 euro

That was easy. 

[[We&#39;re in!-&gt;watergate inside]]
</tw-passagedata><tw-passagedata pid="323" name="watergate inside" tags="game" position="3820,4590" size="100,100">there are a lot of people inside. It&#39;s a bit packed
You get a pair of beers at the bar and go directly to the second floor
&quot;I just want you to check this floor first.&quot;

You go upstairs and find another dancefloor with neon lights on the ceiling. red yellow green blue they have all the colors. 
&quot;Let&#39;s just dance huh&quot;
You start dancing to the beat. It&#39;s not super hard techno but actually housy and more relaxed. It is actually pretty nice. 
Around you there are all kinds of people, from different nationalities and ages. There are some couples, groyps of friends, but there are also people that are by themselves. 

after dancing for a bit you decide to [[chill for a bit in the deck area.]]

</tw-passagedata><tw-passagedata pid="324" name="chill for a bit in the deck area." tags="game" position="3865,4727" size="100,100">you sit in some couches outside and get some fresh air right next to the river.
&quot;So what do you like about this place?&quot;
&quot;I think I like the music. It&#39;s not a very popular club, they say it&#39;s too touristy, but I like it.&quot;
&quot;yeah I think I&#39;m liking it too... I don&#39;t feel stressed at all, I can really feel like myself here&quot;
You look up the sky, [[this coaches are really comfortable-&gt;i love you]]</tw-passagedata><tw-passagedata pid="325" name="i love you" tags="game" position="3916,4871" size="100,100">I love you
|love&gt;[...](click:?love)[(replace:?love)[[[I love you too-&gt;I love you too]]]]</tw-passagedata><tw-passagedata pid="326" name="I love you too" tags="game" position="3895,5017" size="100,100">he smiles and sais
&quot;wanna dance a bit more?&quot;
&quot;yeah! let&#39;s go&quot;

you head towards the main dance floor downstairs and keep up dancing together hugging. The music is just right.

Slowly sunlight comes in
In the background you can see oberbaum brucke through the red glazed windows.

[[For a moment you think you could live in Berlin forever.-&gt;Watergate ending success]]
</tw-passagedata><tw-passagedata pid="327" name="Watergate ending success" tags="game" position="3643,5506" size="100,100">Congratulations! you got into a nice club and had a beautiful time.

Final score: 100pts

and you win the badge
&quot;Watergate&quot;

(text-colour:black)+(background:cyan)[(align:&quot;=&gt;&lt;=&quot;)+(box:&quot;=======XXXXXXXXXX======&quot;)[Final score: 100pts
and you win the &quot;Watergate&quot; badge!]]


(align:&quot;&lt;==&quot;)+(box:&quot;====XXXXX=&quot;)[&lt;img src=&quot;https://od.lk/s/ODNfNTE5MDY0MjJf/watergate%20badge.png&quot;/&gt;]

[[exit game]]
[[play again-&gt;club navigator game start]]</tw-passagedata><tw-passagedata pid="328" name="try another club watergate" tags="game" position="3991,4327" size="100,100">&quot;This looks too touristy I think I&#39;d rather go somewhere else.&quot;
&quot;Ok, where would you like to go?&quot;
[[Berghain]]
[[Sisyphos]]
[[Renate]]
</tw-passagedata><tw-passagedata pid="329" name="try another club sisyphos" tags="game" position="3264,4293" size="100,100">I guess it&#39;s still early, wanna try another one?

[[Berghain]]
[[Watergate]]
[[Renate]]</tw-passagedata><tw-passagedata pid="330" name="berghain cut up" tags="game" position="4539,4677" size="100,100">you stand next to a gay couple
&quot;Hey! been here for too long?&quot;
The couple just looks at each other 
&quot;so...&quot;
[[&quot;Just go to the back dude&quot;-&gt;berghain queue 2]]


</tw-passagedata><tw-passagedata pid="331" name="berghain queue 2" tags="game" position="4577,4888" size="100,100">You go all the way to the back, the building looks pretty far now
&quot;look there is even a kiosk here to buy beers while you wait&quot;
&quot;yeah it&#39;s a whole ecosystem outside here&quot;

you buy some beers and start qeueing

after waiting for pretty much three hours you&#39;re finally close to the entrance.

You see a big guy with beard tatoos and piercings all over. 

&quot;Uhh look, there is the famous bouncer&quot; (he is actually famous)
&quot;Shhh don&#39;t be so loud! that&#39;s so cringy&quot;
&quot;What? I&#39;m just trying to have fun.&quot;
&quot;Look everyone is so serious, you&#39;re supposed to act like you don&#39;t care&quot;
you take a few steps forward
&quot;We&#39;re pretty close now act, don&#39;t talk&quot;

You stand up in front of the entrance,around a meter away from the bouncer.
He looks at you for a few seconds

&quot;Leider heute nicht&quot;
without saying anything you walk inmediatly away

&quot;What that was it? But why? Was it something I said?&quot;
&quot;No don&#39;t worry that&#39;s just how this place is, pff we lost three hours now, wanna try somewhere else?&quot;

[[sure-&gt;try another club berghain b]]
[[nah, let&#39;s just call it the night-&gt;Berghain lets go home]]</tw-passagedata><tw-passagedata pid="332" name="try another club berghain b" tags="game" position="5329,4097" size="100,100">&quot;It&#39;s already a bit late but I guess we can still try another one, but not Sisyphos, the queue there might be too long too...&quot;

Ok then let&#39;s go to
[[Watergate-&gt;Watergate b]]
[[Renate-&gt;Renate b]]</tw-passagedata><tw-passagedata pid="333" name="Renate b" tags="game" position="5616,4422" size="100,100">Before going to the club you buy some beers at some Kebap shop.
&quot;Should we have something to eat first?&quot;
&quot;No let&#39;s just go go&quot;
&quot;ok ok!&quot;

You arrive then to the club
It&#39;s already 2 am but there is still a bit a of a queue

(text-colour:black)+(background:magenta)[(align:&quot;=&gt;&lt;=&quot;)+(box:&quot;=======XXXXXXXXXX======&quot;)[Renate 
average waiting time: 30min- 1 hour]]

Looks like we will have to wait for a bit wanna go for it?
[[Yeah, let&#39;s do it!-&gt;Renate b entrance]]
[[Try something else-&gt;try another club renate b]]</tw-passagedata><tw-passagedata pid="334" name="Watergate b" tags="game" position="5138,4428" size="100,100">You buy another beer in a späti and get going.

You get to the station, walk through Oberbaumbrücke and get to the club.
There is no queue at all. 
It&#39;s already 2 am and you&#39;ve been drinking quite a bit you feel a bit dizzy

&quot;Sksdljkaldldk&quot; says the bouncer in some uncomprehensible German
&quot;What?&quot;
&quot;How many people?&quot;
&quot;ehhh...two&quot;

&quot;Ok, cover your camara with these stickers, you pay over there.&quot;
You follow the protocol and get in

[[That wasn&#39;t too hard-&gt;walergate b inside]]
</tw-passagedata><tw-passagedata pid="335" name="Berghain lets go home" tags="game" position="4404,5048" size="100,100">&quot;I&#39;m actually pretty tired already, should we just go home.&quot;
&quot;Yeah, I&#39;m not in the mood anymore, guess it wasn&#39;t meant to be today.&quot;
&quot;yeah...&quot;
&quot;Want a Döner on the way?&quot;
&quot;Hmm yeah that would actually be great.&quot;
[[&quot;Ok then, let&#39;s go!&quot;-&gt;Berghain end]]</tw-passagedata><tw-passagedata pid="336" name="voice of conscience" tags="game" position="2356,4651" size="100,100">You decided to not go out tonight. 

That&#39;s perfectly fine, it&#39;s good to read your own needs and take a break when you need to :)


(text-colour:black)+(background:white)[(align:&quot;=&gt;&lt;=&quot;)+(box:&quot;=======XXXXXXXXXX======&quot;)[Final score: 20pts for good behaviour 
and the &quot;Voice of Conscience&quot; badge]]


(align:&quot;&lt;==&quot;)+(box:&quot;====XXXXX=&quot;)[
&lt;img src=&quot;https://od.lk/s/ODNfNTE5MDY0MjFf/smart%20cookie%20badge.png&quot;/&gt;]

[[exit game]]
[[try again-&gt;club navigator game start]]</tw-passagedata><tw-passagedata pid="337" name="renate entrance" tags="game" position="3514,4291" size="100,100">You get out the Sbahn and cross the bridge.
You can already see there are some people at the entrance.
&quot;Hmm looks like we&#39;ll have to wait&quot; 


(text-colour:black)+(background:magenta)[(align:&quot;=&gt;&lt;=&quot;)+(box:&quot;=======XXXXXXXXXX======&quot;)[Renate 
average waiting time: 30min- 1 hour]]


[[do the queue-&gt;renate queue]] 
[[try something else-&gt;try another club renate]]


</tw-passagedata><tw-passagedata pid="338" name="renate queue" tags="game" position="3511,4426" size="100,100">You wait there around 45 minutes. You start getting a bit unpatient but manage to get to the entrance. The bouncer woman starts talking to you.

&quot;Hi, two people?&quot;
Yeah

&quot;Ok, today it&#39;s 25 euros&quot;
&quot;Really? Why is it so expensive today?&quot;

&quot;There is a special line up today&quot;
&quot;Pfff, ok, we&#39;re already here&quot;

They give you some stickers to stick on your phone, check your bags and let you go into the cashier.

&quot;Bah! this is getting more and more expensive.&quot;

You take out the cash
Sorry we accept only card today
&quot;What? That&#39;s wierd...&quot;
Thankfully you do have a card with you.

&quot;That is not very german huh&quot;
[[&quot;Doesn&#39;t matter, we&#39;re in!&quot;-&gt;Renate inside]]
</tw-passagedata><tw-passagedata pid="339" name="try another club renate" tags="game" position="3680,4303" size="100,100">&quot;No you know what I think I&#39;d rather go somewhere else let&#39;s go to&quot;

[[Berghain]]
[[Sisyphos]]
[[Watergate]]</tw-passagedata><tw-passagedata pid="340" name="Renate inside" tags="game" position="3554,4603" size="100,100">You get into a club that looks more like a house, there two floors and multiple dance floors.
You try some of them and enjoy the music, then have some drinks and dance a bit more. The usual.

There is anice atmoshere, people are smiling and wearing all kind of colorful clothes. You can see there is pretty much all kinds of people, maybe some tourists too. Most of them are in their 30&#39;s.

What do you want to do next?
[[go to the photobooth]]
[[chill for a bit]]
</tw-passagedata><tw-passagedata pid="341" name="go to the photobooth" tags="game" position="3414,4756" size="100,100">The two of you squeeze into the photobooth
&quot;Hahah there is not much space here&quot;
He hugs you, and then drops in a coin. 
&quot;I think it&#39;s starting now!&quot;

[[Smile to the camara-&gt;picture]]
[[Give him a kiss on the cheek-&gt;picture]]

</tw-passagedata><tw-passagedata pid="342" name="chill 2" tags="game" position="3422,5022" size="100,100">You go up a ladder into a chilling area
&quot;This place is like a playground so many secret places.&quot;
&quot;Hahaha that&#39;s the fun part of it.&quot;
You sit into a couch and simply listen to the music and see people dance
&quot;I like this place&quot;
&quot;Yeah it&#39;s been good today.&quot;
&quot;Do you have any favorite club?&quot;
&quot;No&quot;
&quot;Any favorite DJ?&quot;
&quot;No, I mean, I should know more right? But no...&quot;
&quot;Then what do you like so much about the scene?&quot;
&quot;I just like coming to the clubs, dancing talking with random people, it&#39;s like a hobby for me.&quot;
&quot;A hobby?&quot;
&quot;Yeah... I usually do it alone.&quot;

You gaze into the dance floor.
&quot;Wanna go back?&quot;
[[&quot;Yeah let&#39;s go.&quot;-&gt;dance a bit more]]</tw-passagedata><tw-passagedata pid="343" name="picture" tags="game" position="3423,4882" size="100,100">You hop out of the booth and a picture comes out in a little box. 

&quot;Oh god, I look so funny.&quot;
&quot;You look a bit drunk.&quot;
&quot;Can I keep it?&quot;
&quot;What? no, I want it&quot; 
&quot;Why? you don&#39;t even like pictures&quot;
&quot;Hmmm... maybe we take turns?&quot;
&quot;hahaha alright&quot;

&quot;So, should we take a break now?&quot;
[[&quot;Sure, let&#39;s go&quot;-&gt;chill 2]]</tw-passagedata><tw-passagedata pid="344" name="chill for a bit" tags="game" position="3630,4763" size="100,100">You go up a ladder into a chilling area
&quot;This place is like a playground so many secret places.&quot;
&quot;Hahaha that&#39;s the fun part of it.&quot;
You sit into a couch and simply listen to the music and see people dance
&quot;I like this place&quot;
&quot;Yeah it&#39;s been good today.&quot;
&quot;Do you have any favorite club?&quot;
&quot;No&quot;
&quot;Any favorite DJ?&quot;
&quot;No, I mean, I should know more right? But no...&quot;
&quot;Then what do you like so much about the scene?&quot;
&quot;I just like coming to the clubs, dancing talking with random people, it&#39;s like a hobby for me.&quot;
&quot;A hobby?&quot;
&quot;Yeah... I usually do it alone.&quot;

You gaze into the dance floor.
&quot;Wanna go to the photobooth now?&quot;
[[&quot;Yeah let&#39;s go.&quot;-&gt;photobooth 2]]</tw-passagedata><tw-passagedata pid="345" name="photobooth 2" tags="game" position="3634,4898" size="100,100">The two of you squeeze into the photobooth
&quot;Hahah there is not much space here&quot;
He hugs you, and then drops in a coin. 
&quot;I think it&#39;s starting now!&quot;

[[Smile to the camara-&gt;picture 2]]
[[Give him a kiss on the cheek-&gt;picture 2]]</tw-passagedata><tw-passagedata pid="346" name="picture 2" tags="game" position="3628,5020" size="100,100">You hop out of the booth and a picture comes out in a little box. 

&quot;Oh god, I look so funny.&quot;
&quot;You look a bit drunk.&quot;
&quot;Can I keep it?&quot;
&quot;What? no, I want it&quot; 
&quot;Why? you don&#39;t even like pictures&quot;
&quot;Hmmm... maybe we take turns?&quot;
&quot;hahaha alright&quot;

&quot;So, should we dance a bit more?&quot;
[[&quot;Sure, let&#39;s go&quot;-&gt;dance a bit more]]</tw-passagedata><tw-passagedata pid="347" name="dance a bit more" tags="game" position="3511,5209" size="100,100">After the break you go right back into the dancefloor and start dancing with all the energy.
Everyone is dancing freely, doing all kind of moves and vibing with the DJ. 
&quot;The music is great, huh?&quot;
&quot;Yeah everything is so cool!&quot;
He hugs you from behind and you continue dancing. 
You feel happy and optimistic.
For a moment you forget about all your troubles. 
Maybe what you&#39;ve heard on social media is true after all:
[[&quot;Berlin is the place to be.&quot;-&gt;Renate ending success]]</tw-passagedata><tw-passagedata pid="348" name="Renate ending success" tags="game" position="3434,5505" size="100,100">Congratulations! you got into a nice club and had a beautiful time.

Final score: 100pts
You win the &quot;Renate&quot; badge
and a photobooth picture token!
Great Job!

(text-colour:black)+(background:magenta)[(align:&quot;=&gt;&lt;=&quot;)+(box:&quot;=======XXXXXXXXXX======&quot;)[Final score: 100pts
You win the &quot;Renate&quot; badge
and a photobooth picture!
Great Job!]]


(align:&quot;&lt;==&quot;)+(box:&quot;====XXXXX=&quot;)[&lt;img src=&quot;https://od.lk/s/ODNfNTE5MDY0MjVf/renate%20badge.png&quot;/&gt;

&lt;img src=&quot;
https://od.lk/s/ODNfNTE5MDY2MDZf/83044_photobooth_513x513.png&quot;, width=&quot;228&quot;/&gt;]

[[exit game]]
[[play again-&gt;club navigator game start]]</tw-passagedata><tw-passagedata pid="349" name="consumers" tags="" position="2622,6882" size="100,100">&lt;span style=&quot;font-size: 150%&quot;&gt;Techno is the product
We are its
[[consumers-&gt;tik tok stories]]&lt;/span&gt; </tw-passagedata><tw-passagedata pid="350" name="my rave the planet 1" tags="" position="1990,8671" size="100,100">It&#39;s been certainly one of the hottest days of the year. I prepared myself with colorful clothes but nothing to flashy, I&#39;m a bit nervous but also excited. 

&lt;img src=&quot;https://od.lk/s/ODNfNTE4NTQ4MDhf/IMG_20230708_162157439.jpg&quot;= width=&quot;400&quot;/&gt;

[[I&#39;ll take the s-bahn and go to Brandenburger Gate, where the parade starts.-&gt;walking rtp]]</tw-passagedata><tw-passagedata pid="351" name="walergate b inside" tags="game" position="5138,4576" size="100,100">Suddenly you&#39;re already on the dance floor. 
You don&#39;t remember too much how you got there, but just see there are people everywhere, it is pretty packed.

You move sideways daancing, but your siight starts to get foggy.

[[keep dancing]]
(text-colour:grey)[take a break]</tw-passagedata><tw-passagedata pid="352" name="keep dancing" tags="game" position="5140,4728" size="100,100">You start to trip a bit with your own feet. 
&quot;Are you feeling all right?&quot;
&quot;yeah let&#39;s just&quot;

[[keep dancing-&gt;keep dancing 2]]
(text-colour:grey)[take a break]</tw-passagedata><tw-passagedata pid="353" name="keep dancing 2" tags="game" position="5140,4878" size="100,100">Suddenly you don&#39;t feel too good anymore

(text-colour:grey)[keep dancing]
[[run to the toilet]]</tw-passagedata><tw-passagedata pid="354" name="run to the toilet" tags="game" position="5138,5028" size="100,100">You try to run to the bathroom but end up throwing up on the floor
Now you truly feel bad and just want to lay on the first piece of ground you find. 

&quot;Are you ok, dear?&quot; you hear some random girl saying
&quot;We should get her some air.&quot;
[[You get assisted to the entrance.-&gt; Watergate entrance]]


</tw-passagedata><tw-passagedata pid="355" name=" Watergate entrance" tags="game" position="5168,5199" size="100,100">They find a chair for you and let you sit right at the door. 

&quot;I don&#39;t want to go.&quot;
&quot;We have to go, you don&#39;t feel well.&quot;
&quot;But we just got here, and it was 20 euro.&quot;
&quot;That&#39;s not important&quot;
&quot;But 20 euro...&quot;

Out of nowhere you throw up again.

&quot;Sjdsklsajkklajkldkjlad&quot; the bouncer screams.
[[&quot;Let&#39;s just go.&quot;-&gt;Watergate b end]]</tw-passagedata><tw-passagedata pid="356" name="Watergate b end" tags="game" position="4320,5506" size="100,100">You managed to get inside the club but you didn&#39;t have the best time ever. 
It&#39;s ok, shit happens.
The good thing is that were people there to help you.


(text-colour:black)+(background:white)[(align:&quot;=&gt;&lt;=&quot;)+(box:&quot;=======XXXXXXXXXX======&quot;)[
Final score: 30 pts
]]


[[exit game]]
[[play again-&gt;club navigator game start]]</tw-passagedata><tw-passagedata pid="357" name="Berghain end" tags="game" position="3894,5501" size="100,100">You waited three hours and still didn&#39;t get into the club. 
But at least you tried!


(text-colour:black)+(background:lime)[(align:&quot;=&gt;&lt;=&quot;)+(box:&quot;=======XXXXXXXXXX======&quot;)[Final score: 20 pts for patience
and you win a Döner!]]


(align:&quot;&lt;==&quot;)+(box:&quot;====XXXXX=&quot;)[&lt;img src=&quot;https://od.lk/s/ODNfNTE5MDY0Mjhf/d%C3%B6ner.png&quot;/&gt;]

[[exit game]]
[[play again-&gt;club navigator game start]]</tw-passagedata><tw-passagedata pid="358" name="Sisyphos end fail" tags="game" position="2788,5550" size="100,100">You didn&#39;t manage to get into any club!
That&#39;s ok, at least you tried, 
Sometimes is better just to give up, or it can end up badly. 


(text-colour:white)+(background:red)[(align:&quot;=&gt;&lt;=&quot;)+(box:&quot;=======XXXXXXXXXX======&quot;)[Final score= 10pts for effort
and you win a Döner!]]


(align:&quot;&lt;==&quot;)+(box:&quot;====XXXXX=&quot;)[&lt;img src=&quot;https://od.lk/s/ODNfNTE5MDY0Mjhf/d%C3%B6ner.png&quot;/&gt;]

[[exit game]]
[[try again-&gt;club navigator game start]]</tw-passagedata><tw-passagedata pid="359" name="Renate b entrance" tags="game" position="5612,4593" size="100,100">You get behind the qeue and wait around 15 minutes before getting to the door.  
That wasn&#39;t too bad, but you feel a bit tipsy already

&quot;Dskjdlakdjlkad&quot; says the bouncer in some uncomprehensible German.
&quot;Ehhh...&quot;
&quot;Two people?&quot;
&quot;yeah&quot;
&quot;Ok, cover your cellphone camaras and pay inside&quot;

You put the stickers on your phone (but actually miss the camara) and get into the cashier. 

&quot;25 euro&quot;
You just pay them without thinking to much and they put a stamp on you wrist
&quot;It&#39;s a bit more expensive today isn&#39;t it?&quot;
&quot;Yeah, everything is getting expensier lately.&quot;

[[We&#39;re in!-&gt;Renate b inside]]
</tw-passagedata><tw-passagedata pid="360" name="try another club renate b" tags="game" position="5791,4418" size="100,100">Maybe we try another one?
&quot;Hmmm I guess the only option now is Watergate, you sure?&quot;

[[&quot;Yeah, let&#39;s go there&quot;-&gt;Watergate b]]
[[&quot;Hmm no let&#39;s just stay here&quot;-&gt;Renate b entrance]]</tw-passagedata><tw-passagedata pid="361" name="Renate b inside" tags="game" position="5612,4743" size="100,100">You get into a club that looks more like a house, there two floors and multiple dance floors
You try some of them, have some drinks and then dance a bit more.


It&#39;s been around two hours, and you haven&#39;t really rested. You are both on the dance floor, he is hugging you from behind and starts holding you tighter
&quot;What going on? What&#39;s happening?&quot;
It looks like he is fainting. You try to hold him but he&#39;s pretty heavy. 
&quot;Hey what&#39;s up? are you feeling alright?&quot;
Some people come and help you to find [[a seat nearby.-&gt;Renate b inside 2]]</tw-passagedata><tw-passagedata pid="362" name="Renate b inside 2" tags="game" position="5617,4897" size="100,100">You sit there for some minutes
&quot;I think you need some water&quot;
A girl comes by
&quot;Hello, do you need any help? this is the awareness team.&quot;
&quot;yeah please we need some water&quot;
&quot;Ok be right back.
&quot;I just want you&quot; he babbles
&quot;What?&quot;
The girl comes by and brings you some water.
&quot;Let me know if you need something else.&quot;
[[&quot;Thank you so much.&quot;-&gt;Renate b inside 3]]</tw-passagedata><tw-passagedata pid="363" name="Renate b inside 3" tags="game" position="5617,5047" size="100,100">You sit there for several minutes, just listening at the blasting music and see the people dancing
You try to relax but feel pretty worried
Suddenly he wakes up again
&quot;I feel all right again&quot;
&quot;You sure? What happened?&quot;
&quot;It&#39;s nothing...&quot;
&quot;I&#39;ll take you home&quot;

You slowly help him back to the entrance
&quot;Are we leaving already? why?&quot;
&quot;I told you we should go back.&quot;
&quot;What? When?&quot; 
&quot;Yeah we have to go.&quot; you pull him abit harder
Finally, you reach the entrance order a taxi and [[go.-&gt;Renate b end]]</tw-passagedata><tw-passagedata pid="364" name="Renate b end" tags="game" position="5012,5528" size="100,100">You managed to get into Renate Club but thing&#39;s got a bit out of hand.
It&#39;s good that you were there to help though.



(text-colour:black)+(background:magenta)[(align:&quot;=&gt;&lt;=&quot;)+(box:&quot;=======XXXXXXXXXX======&quot;)[Final score: 50pts
and you earn the &quot;Saviour&quot; badge.]]


(align:&quot;&lt;==&quot;)+(box:&quot;====XXXXX=&quot;)[&lt;img src=&quot;https://od.lk/s/ODNfNTE5MDYxNzhf/I%20was%20helpful.png&quot;/&gt;]

[[exit game]]
[[play again-&gt;club navigator game start]]</tw-passagedata><tw-passagedata pid="365" name="my rave the planet 2" tags="" position="2347,8668" size="100,100">After going through Tierpark I finally reach 17. Juni Straße 
and start marching.

There are countless floats, each of them with their own color, personality and music.

Everywhere you could read the motto:
&#39;&#39;&quot;Music is the answer&quot;&#39;&#39;

I just blend in with the caravana.
Teenagers, people in their 20&#39;s 30&#39;s 40&#39;s
Kids with their parents and even seniours.
[[They all came here to celebrate.-&gt;my pic rtp]] </tw-passagedata><tw-passagedata pid="366" name="my rave the planet 3" tags="" position="2658,8707" size="100,100">Or to demonstrate? 
I don&#39;t even know what we are protesting about. 
I&#39;m not even sure why I came here. 

After more walking and dancing I finally reach the Victory column.
I find a spot on the grass and just lay there.
I feel exhausted.
[[A bit empty, even.-&gt;column of victory]]</tw-passagedata><tw-passagedata pid="367" name="my rave the planet 4" tags="" position="2950,8693" size="100,100">Then the loneliness starts to kick in.
I&#39;m trying to see with who I can chat with. But no one seems very approachable. 
So I just take my phone and start reading an article about the [[love parade from 1992.-&gt;Tillman Love parade 2]] </tw-passagedata><tw-passagedata pid="368" name="my rave the planet 5" tags="" position="3163,8680" size="100,100">Suddenly I hear a voice
&quot;Oh there you are!&quot;

It was a girl I met during the 1st of May Protest. 
We texted about meeting here, but really didn&#39;t organice anything. 
I swore I would never find her here.  

Then another friend from my uni came. 
(We also texted before, but it was all pretty spontaneous)

The three of us just hanged there for a bit, chatting.
[[These girls really saved my day.-&gt;another footage rtp]] 
</tw-passagedata><tw-passagedata pid="369" name="Tillman Love parade 2" tags="" position="3060,8544" size="100,100">|img1&gt;[That&#39;s my thing right? 
Reading 30 year old articles trying to make some sense out of all of this.


&lt;img src=&quot;
https://od.lk/s/ODNfNTE3NDgxMTJf/love%20parade%20article%20%282%29.jpg&quot;, width=&quot;700&quot;/&gt;]
(click:?img1)[(replace:?img1)[|img2&gt;[&lt;img src=&quot;
https://od.lk/s/ODNfNTE4MjI0MjFf/love%20parade%20article%20%283.2%29.jpg&quot;, width=&quot;700&quot;/&gt;]]]
(click:?img2)[(replace:?img2)[After reading I just lay on the grass and let the sun&#39;s vitamin D suck in.

[[&quot;I wonder what he&#39;s doing...&quot;-&gt;my rave the planet 5]]]]</tw-passagedata><tw-passagedata pid="370" name="my rtp review" tags="" position="1866,8970" size="100,100">Can&#39;t really tell what&#39;s my take on Rave the Planet. 

Sure, these parades are not underground anymore,
all of this very is produced.
But should that matter?

Should it really be so exclusive and alternative?  
Should it be so political?

Does it has any meaning to celebrate
[[life, summer and music?-&gt;my rtp review 2]]
</tw-passagedata><tw-passagedata pid="371" name="my rtp review 2" tags="" position="2184,8941" size="100,100">A political manifesto. 
Maybe there is no meaning to this and that is ok.

Maybe that is the political part of it.
We go into the streets and dance for what we believe in.

&#39;&#39;Just because we have the freedom to do it.&#39;&#39;
[[And that is something worth celebrating.-&gt;my rtp review 3]]</tw-passagedata><tw-passagedata pid="372" name="my rtp review 3" tags="" position="2387,8939" size="100,100">For sure there was something magical about experiencing a Berlin Parade.
There was good atmosphere.
The floats were nice to see, the energy was good, as well as the music.

But in the end, it&#39;s the people I connected with that day what truly made it special. 
[[Somethings aren&#39;t meant to be done alone.-&gt;last pic rtp]] 
</tw-passagedata><tw-passagedata pid="373" name="call again?" tags="" position="2137,9155" size="100,100">Should I even try to call again?

[[yes-&gt;no response 3]]
[[no-&gt;no call]]</tw-passagedata><tw-passagedata pid="374" name="Yes call" tags="dialogue" position="1917,9601" size="100,100">&quot;Hello&quot;
&quot;Why haven’t you responded my calls. I got worried...&quot;
&quot;Hmmm&quot;
&quot;I went there by myself...&quot;
&quot;...&quot;
&quot;You won&#39;t say anything?&quot;
&quot;Now it’s not a good time...&quot;
&quot;What? Why?&quot;
&quot;Ugh... I&#39;m in the middle of something, ok?&quot;
&quot;With what? Why couldn&#39;t you reach out for days?&quot;
&quot;Ohhh Why, why, why, so many whys?&quot;
&quot;Well you&#39;re not giving any answers&quot;
[[&quot;I gave you an answer, what else do you want from me?&quot;-&gt;what do you want from me?]]</tw-passagedata><tw-passagedata pid="375" name="no call" tags="" position="2212,9305" size="100,100">[[No, f*ck that-&gt;continue in part 4]]</tw-passagedata><tw-passagedata pid="376" name="what do you want from me?" tags="dialogue" position="1918,9732" size="100,100">|silence&gt;[...]
(click:?silence)[
(replace:?silence)[|what&gt;[&quot;what?&quot;]]]
(click:?what)[
(replace:?what)[[[&quot;what do you want from me?&quot;-&gt;what kind of question]]]]
</tw-passagedata><tw-passagedata pid="377" name="Gudrun Gut" tags="" position="2642,456" size="100,100">(text-colour:magenta)[Gudrun Gut 
(DJ)

“It was chaos. It was total chaos. 
But the good thing about chaos was that there were lots of empty places which were occupied and you know, all the people who moved to Berlin after
- in the 90s- 
[[they always moved to East Berlin.”-&gt;Ulrich Gutmair]]]</tw-passagedata><tw-passagedata pid="378" name="Ulrich Gutmair" tags="" position="2779,432" size="100,100">(text-colour:red)[Ulrich Gutmair 
(writer)

&quot;It was the spirit of the anarchist punk culture a bit. So people went to these places very adventurous places. 
[[Sometimes they were just used for one party and then abandonded again.&quot;-&gt;communities created]]]</tw-passagedata><tw-passagedata pid="379" name="everything is possible" tags="" position="2377,559" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTE4MzIwNTlf/QEBH8131.jpg&quot;, width=&quot;700&quot;/&gt;

(text-colour:purple)[Line Maass
(Artist and performer)

&quot;«Everything is possible»&quot; was a graffiti slogan that a friend of mine painted on the walls of Berlin-Mitte. During that time I discovered how true it was. But within the complexity of all new experiences, the question was where to find it: 
[[in the micro or the macrocosmos.&quot;-&gt;taking spaces]]]</tw-passagedata><tw-passagedata pid="380" name="club map zoom" tags="dialogue" position="2421,750" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTE4MzIwNzNf/club%20map%20google%20%282%29.png&quot;, width=&quot;400&quot;/&gt;

I zoom in the map, and some places call my attention.

[[Golden Gate]]
[[Kit Kat]]
[[Kater Blau]]</tw-passagedata><tw-passagedata pid="381" name="Tresor inside" tags="" position="3234,1028" size="100,100">We went into a dark salon with lights and smoke everywhere. 
I could here the music pumping all over. 
It felt like I have entered somewhere underground and mysterious.

&lt;img src=&quot;https://od.lk/s/ODNfNTE4MzIxMTRf/tresor.JPG&quot;, width=&quot;700&quot;/&gt;

Then we went downstairs to the main dancefloor. 
[[The music got louder, faster, and darker.-&gt;Tresor inside 2]] </tw-passagedata><tw-passagedata pid="382" name="Tresor inside 2" tags="" position="3112,1218" size="100,100">We got into the crowd and started dancing. Around me I see all kinds of people dancing to the same beat. 
Groups of guys and girls, tourists of course, gays, lawers, builders, drag queens, hippies, punks, ravers
[[It really seemed like everyone could fit here.-&gt;why here]] 
</tw-passagedata><tw-passagedata pid="383" name="And that was just the beginning" tags="" position="2582,2518" size="100,100">
#[[And that was just the beginning-&gt;origin of techno]]</tw-passagedata><tw-passagedata pid="384" name="techno where will you go" tags="" position="2832,4022" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTE4MzIzOTFf/Frontpage-Forcing-the-Future%2BDecember-1991-Techno-where-will-you-go.jpg&quot;/&gt;-&gt;club game introduction]]</tw-passagedata><tw-passagedata pid="385" name="building clubs footage" tags="" position="3265,2509" size="100,100">(align:&quot;&lt;==&quot;)[&lt;img src=&quot;https://i.imgur.com/RARXnEt.gif&quot;/&gt;]

(align:&quot;&lt;==&quot;)+(box:&quot;===========================XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX===&quot;)[&lt;img src=&quot;https://i.imgur.com/rM8cgmC.gif&quot;/&gt;]

(align:&quot;&lt;==&quot;)+(box:&quot;XXXXXXXXX=&quot;)[(text-colour:lime)[[[&quot;That&#39;s where extreme actionism suddenly started, 
where everyone wanted to contibute in a small way.&quot;-&gt;more clubs were being created]]]]</tw-passagedata><tw-passagedata pid="386" name="love parade footage" tags="" position="2629,2880" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/K6t4qcn.gif&quot;/&gt;-&gt;Tillman Love parade]]</tw-passagedata><tw-passagedata pid="387" name="money picture" tags="" position="2775,6901" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTE4MjI0NzNf/money.jpg&quot;/&gt;</tw-passagedata><tw-passagedata pid="388" name="Peter Zach 2" tags="" position="3293,2820" size="100,100">(text-colour:navy)[&quot;They went back to Australia, to Barcelona, to France, and they influenced the people there or the Italians. All the people who lived in Mitte at that time, they told them at home, that&#39;s a great place to be. 
And that was the reason why all the people came then afterwards and 
[[this myth of this open and free Berlin was created at this time.&quot;-&gt;clair dj]]]

&lt;img src=&quot;https://od.lk/s/ODNfNTE4MzQ5Njlf/Jim.jpg&quot;, width=&quot;600&quot;/&gt;</tw-passagedata><tw-passagedata pid="389" name="clair dj" tags="" position="3146,2803" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTE4MzQ5NzRf/claire.jpg&quot;, width=&quot;700&quot;/&gt;-&gt;love parade grew too]]</tw-passagedata><tw-passagedata pid="390" name="love parade footage 2" tags="" position="2866,3010" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/0pyEcDx.gif&quot;/&gt;-&gt;would you like to go]]</tw-passagedata><tw-passagedata pid="391" name="footage 1999 love parade 2" tags="" position="2370,3953" size="100,100">
&lt;img src=&quot;https://i.imgur.com/DgIVrTb.gif&quot;/&gt;

[[Is this really what we wanted?-&gt;demonstration revokation]]</tw-passagedata><tw-passagedata pid="392" name="Vogue magazine" tags="" position="2470,6926" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTE4NTM2MTNf/Vogue%20magazine%202022.jpg&quot;, width=&quot;400&quot;/&gt;-&gt;consumers]]</tw-passagedata><tw-passagedata pid="393" name="really big rave" tags="" position="2170,7222" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/fnDmlRi.gif&quot;/&gt;-&gt;no response]]</tw-passagedata><tw-passagedata pid="394" name="tunnel picture" tags="" position="2158,7782" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTE4NTM2MTFf/love%20parade%20tunnel.jpg&quot;, width=&quot;700&quot;/&gt;

[[The venue was a not in a open space but enclosed in an old train station, having a tunnel as the only pathway to enter and exit the party area.-&gt;love parade tragedy 2]]</tw-passagedata><tw-passagedata pid="395" name="Memorial Picture" tags="" position="2844,8080" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTE4NTM1NjRf/love%20parade%20memorial.jpg&quot;, width=&quot;700&quot;/&gt;-&gt;no response 2]]</tw-passagedata><tw-passagedata pid="396" name="suddenly it went ping" tags="" position="2155,8276" size="100,100">Suddenly it went ping:
[[“Let’s do it again, and this time, let’s do it right.”-&gt;Rave the Planet 2]]</tw-passagedata><tw-passagedata pid="397" name="rtp 2022 footage" tags="" position="2315,8456" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/nxzPB01.gif&quot;/&gt;-&gt;so what is techno?]]</tw-passagedata><tw-passagedata pid="398" name="I believe..." tags="" position="1812,8505" size="100,100">
#[[I believe the spirit of techno is still out there.-&gt;figure it out by myself]]</tw-passagedata><tw-passagedata pid="399" name="break footage" tags="" position="2217,6443" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/WuvjH5A.gif&quot;/&gt;-&gt;love parade 2000&#39;s]]</tw-passagedata><tw-passagedata pid="400" name="so what is techno?" tags="" position="2075,8464" size="100,100">So after all this ride
What do you think?
What is techno?

|pop&gt;[pop] || |anti&gt;[anti-pop](click:?pop)[(hide:?anti)](click:?anti)[(hide:?pop)]
|cult&gt;[culture] || |comm&gt;[commerce](click:?cult)[(hide:?comm)](click:?comm)[(hide:?cult)]
|celeb&gt;[celebration] || |demo&gt;[demonstation](click:?celeb)[(hide:?demo)](click:?demo)[(hide:?celeb)]

#&#39;&#39;[[?-&gt;I believe...]]&#39;&#39;</tw-passagedata><tw-passagedata pid="401" name="pictures rave-money" tags="" position="2234,6843" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTE4NzUxODBf/love%20parade%20kudamm%201995.jpg&quot;, width=&quot;600&quot;/&gt;]
(click:?img1)[
(replace:?img1)[|img2&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTE4MjI0NzFf/club%20maria%20.jpg&quot;, width=&quot;600&quot;/&gt;]]]
(click:?img2)[
(replace:?img2)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTE4MjI0NzNf/money.jpg&quot;, width=&quot;600&quot;/&gt;-&gt;entreperneurships taking over]]]]</tw-passagedata><tw-passagedata pid="402" name="excess pic" tags="" position="2736,7529" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTE4NzU4MzVf/excess%203.jpg&quot;/&gt;-&gt;how can you tell]]</tw-passagedata><tw-passagedata pid="403" name="column of victory" tags="" position="2801,8697" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/beyp4qU.gif&quot;, width=&quot;400&quot;/&gt;-&gt;my rave the planet 4]]</tw-passagedata><tw-passagedata pid="404" name="walking rtp" tags="" position="2156,8661" size="100,100">|img1&gt;[&lt;img src=&quot;https://i.imgur.com/erJziAM.gif&quot;, width=&quot;400&quot;/&gt;]
(click:?img1)[
(replace:?img1)[|img2&gt;[&lt;img src=&quot;https://i.imgur.com/bXPQihx.gif&quot;, width=&quot;400&quot;/&gt;]]]
(click:?img2)[
(replace:?img2)[[[&lt;img src=&quot;https://i.imgur.com/a8rgKAY.gif&quot;, width=&quot;400&quot;/&gt;-&gt;my rave the planet 2]]]]</tw-passagedata><tw-passagedata pid="405" name="my pic rtp" tags="" position="2488,8694" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTE4NTQ4MTFf/IMG_20230708_181926769.jpg&quot;, width=&quot;500&quot;/&gt;-&gt;my rave the planet 3]] </tw-passagedata><tw-passagedata pid="406" name="last pic rtp" tags="" position="2310,9103" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTE4ODA3Mzhf/photo_2024-03-25_21-07-06.jpg&quot;, width=&quot;400&quot;/&gt;-&gt;call again?]] </tw-passagedata><tw-passagedata pid="407" name="another footage rtp" tags="" position="1893,8852" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/xGksbQu.gif&quot;, width=&quot;400&quot;/&gt;-&gt;my rtp review]] </tw-passagedata><tw-passagedata pid="408" name="what kind of question" tags="dialogue" position="1918,9882" size="100,100">&quot;What kind of question is that? 
Why should I want something from you?&quot;

He hangs up
</tw-passagedata><tw-passagedata pid="409" name="go home sisyphos" tags="" position="2730,5368" size="100,100">&quot;I think it&#39;s too late and I&#39;m kind of tired now.&quot;
&quot;Yeah, me too. Let&#39;s go then.&quot;
You both start walking a bit quicker. There is really not much in this industrial area.  
&quot;Want to get a on the station? I&#39;m sure that&#39;ll cheer you up.&quot;
&quot;Hmm actually yeah, that would be amazing.&quot;
[[&quot;Ok, then let&#39;s go!&quot;-&gt;Sisyphos end fail]]


</tw-passagedata><tw-passagedata pid="410" name="sisyphos morning" tags="" position="3125,5452" size="100,100">You go back to the room with blue lights and dance for hours. 
The music is giving a great show and everyone is vibing with the music.
After more hours of dancing you finally go back to the oiutdoor area.
You get a bit blinded by the sun light.
&quot;Wooow is it morning already?&quot;
&quot;Ouf, yeah... time to put on my sun glasses.&quot;
&quot;Let&#39;s go to the coffe shop, eh? I wan&#39;t to try the capuccino here.&quot;
&quot;Yeah you can have that. But I think I&#39;ll just have another beer first.&quot;
&quot;Ok, then we go home?&quot;
&quot;Yeah of course&quot;

You get to the cofee shop and sit in a couch while you drink your coffee. Everything is chill now and you feel warm inside.  
[[This was truly a night you will never forget.-&gt;sisyphos end success]]
</tw-passagedata><tw-passagedata pid="411" name="my first stamp" tags="" position="2930,1694" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTE4MzIxMzdf/first%20club%20stamp.jpg&quot;, width=&quot;400&quot;/&gt;-&gt;it fitted the wall perfectly]]</tw-passagedata><tw-passagedata pid="412" name="no response 3" tags="" position="2029,9313" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTE4NTM2OTBf/calling-edited.jpg&quot;, width=&quot;350&quot;/&gt;](click:?img1)[(replace:?img1)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTE4NTM2OTNf/no%20response-edited.jpg&quot;,  width=&quot;350&quot;/&gt;-&gt;continue in part 4]]]]
</tw-passagedata><tw-passagedata pid="413" name="I feel lost" tags="journal" position="3949,214" size="100,100">|So&gt;[So, I haven’t heard from you in a while]
(click:?So)[
(replace:?So)[[[I feel a little bit lost...-&gt;I bike aimlessly]]]]</tw-passagedata><tw-passagedata pid="414" name="continue in part 4" tags="" position="2127,9502" size="100,100">


&lt;span style=&quot;font-size: 150%&quot;&gt;(align:&quot;&lt;==&quot;)+(box:&quot;====XXXXX=&quot;)[continue in &quot;neglection&quot;]&lt;/span&gt;</tw-passagedata><tw-passagedata pid="415" name="Berlin passages 2" tags="" position="1366,29" size="100,100">(align:&quot;&lt;==&quot;)+(box:&quot;=XXXXXXXXXXXXXXXXXXXX====&quot;)[&lt;span style=&quot;font-size: 400%&quot;&gt;Berlin Passages&lt;/span&gt;] 
&lt;span style=&quot;font-size: 200%&quot;&gt;(align:&quot;==&gt;&quot;)+(box:&quot;=======XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX===&quot;)[part 2]&lt;/span&gt; 

&lt;!--&lt;span style=&quot;font-size: 150%&quot;&gt;Welcome to my interactive story through Berlin&#39;s past and present.&lt;/span&gt;--&gt;


(align:&quot;&lt;==&quot;)+(box:&quot;=XXXXXXXXXXXXXXXXXXXX====&quot;)[Before starting take into consideration a few instructions:

1) If you are using mobile version please use your phone horizontallly, but I recommend to use the Desktop version for a better experience.

2) To keep on reading just click any words in blue, and if you don&#39;t see any, try clicking on the images!

3) Some images might take some time to download, so take your time on each passage to make sure you don&#39;t miss anything.]




(align:&quot;==&gt;&quot;)+(box:&quot;=======XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX===&quot;)[that would be all!
thank you for coming back and [[enjoy!-&gt;occupation]]

~June]</tw-passagedata><tw-passagedata pid="416" name="Berlin passages 3" tags="" position="2383,66" size="100,100">(align:&quot;&lt;==&quot;)+(box:&quot;=XXXXXXXXXXXXXXXXXXXX====&quot;)[&lt;span style=&quot;font-size: 400%&quot;&gt;Berlin Passages&lt;/span&gt;] 
&lt;span style=&quot;font-size: 200%&quot;&gt;(align:&quot;==&gt;&quot;)+(box:&quot;=======XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX===&quot;)[part 3]&lt;/span&gt; 

&lt;!--&lt;span style=&quot;font-size: 150%&quot;&gt;Welcome to my interactive story through Berlin&#39;s past and present.&lt;/span&gt;--&gt;


(align:&quot;&lt;==&quot;)+(box:&quot;=XXXXXXXXXXXXXXXXXXXX====&quot;)[Before starting take into consideration a few instructions:

1) If you are using mobile version please use your phone horizontallly, but I recommend to use the Desktop version for a better experience.

2) To keep on reading just click any words that are in (text-colour:blue)[blue] or &#39;&#39;bold&#39;&#39;, and if you don&#39;t see any, try clicking on the images!

3) Some images might take some time to download, so take your time on each passage to make sure you don&#39;t miss anything.

4) Turn on your speakers! Music adn sound is a &quot;nice to have&quot; in this part, but not obligatory :)]




(align:&quot;==&gt;&quot;)+(box:&quot;=======XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX===&quot;)[that would be all!
thank you for coming back and [[have fun!-&gt;celebration]]

~June]</tw-passagedata><tw-passagedata pid="417" name="I bike aimlessly" tags="" position="3970,351" size="100,100">&lt;img src= &quot;https://i.imgur.com/DSO6yF7.gif&quot; /&gt;

[[I just bike aimlessly to those places I think I know.-&gt;Treptow map]]</tw-passagedata><tw-passagedata pid="418" name="Treptow map" tags="" position="3970,501" size="100,100">Where should I even go now?

&lt;img src=&quot;https://od.lk/s/ODNfNTIzMjgwNDJf/treptow%20map.jpg&quot;, width=&quot;600&quot;&gt;

[[Spreepark-&gt;Spreepark map]]
[[Soviet Memorial-&gt;soviet memorial vandalism]]
[[Actually I don&#39;t feel like learning more of these places...-&gt;skip treptow]]</tw-passagedata><tw-passagedata pid="419" name="Spreepark neg" tags="" position="3618,769" size="100,100">After reunification, Berlin’s Senate for Culture decided to reinvent the GDR&#39;s amusement park. This is how it came into the hands of private entrepreneurs: the Witte family.

Norbert Witte, also known as the “King of Carousels” took the challenge of transforming the rusty-old theme park into one that was up to [[Western standards.-&gt;Spreepark neg 2]] </tw-passagedata><tw-passagedata pid="420" name="Soviet Memorial neg" tags="" position="4219,646" size="100,100">In December 1989, around the time when the Berlin Wall was coming down, some people vandalized parts of the memorial with anti-Soviet graffiti. 


A political troskist party called the Spartakist party claimed that these vandals were right-wing extremists. They organized a demonstration on January 3, 1990, [[which was supported by the PDS (Party of Deocratic Socialism).-&gt;soviet memorial demo 1990]]</tw-passagedata><tw-passagedata pid="421" name="Spreepark neg 2" tags="" position="3790,756" size="100,100">In the beginning the park was succesful until the government decided to eliminate 3000 parking spaces around the park to conserve the Plänterwald forest. 

&lt;img src=&quot;https://od.lk/s/ODNfNTIzMjgxMDRf/spreepark-berlin-01.jpg&quot;, width=&quot;600&quot;/&gt;

Visitors had to walk far and sometimes got fined for unathorized parking. Also, economic troubles in the late 90s made people less likely to visit.

Attendance dropped sharply, till the point that the park went completly bankrupt and had to [[close in January 2002.-&gt;Spreepark neg 3]] </tw-passagedata><tw-passagedata pid="422" name="Spreepark neg 3" tags="" position="3830,921" size="100,100">Even after Spreepark&#39;s closure, Norbert wasn&#39;t completly unmotivated. Following his passion and adventurous spirit he moved with his family to Peru,  where he tried to open a new park.

&lt;img src=&quot;https://od.lk/s/ODNfNTIzMjgyOTRf/spreepark%204.jpg&quot;, width=&quot;650&quot;/&gt;

But the Peruvian venture turned out to be more than just ferriwheels and carrousels. Norbert was contacted by an old friend from Berlin who had [[other kind of businesses in mind...-&gt;Spreepark break footage]]</tw-passagedata><tw-passagedata pid="423" name="Spreepark neg 4" tags="" position="3652,1158" size="100,100">Back in Berlin Sabrina, Norbert’s daugher, heard shocking news: her dad and brother had smuggled drugs! 

&lt;img src=&quot;https://od.lk/s/ODNfNTIzMjgyOTVf/spreepark%205.jpg&quot;, width=&quot;650&quot;/&gt;

Desperate and in debt Norbert had agreed to ship €10 million worth of cocaine inside a ride called the “Flying Carpet”.

He was then arrested and forced to serve a 7-year prison sentence in germany, [[while his son had to serve a 20 year sentence in Peru.-&gt;who is there to blame?]]</tw-passagedata><tw-passagedata pid="424" name="Schuld" tags="" position="3733,1386" size="100,100">



|Schuld&gt;[Es war deine Schuld]
(click:?Schuld)[
(replace:?Schuld)[[[It was your fault-&gt;Vive la distopia]]]]</tw-passagedata><tw-passagedata pid="425" name="Soviet Memorial neg 2" tags="" position="4221,806" size="100,100">The chairman of the PDS used this opportunity to suggest the creation of a &quot;Constitution Protection&quot; agency for East Germany. 

He also questioned whether the Office for National Security (the successor of the Stasi) should be changed or dissolved.

[[However this wasn’t taken lightly...-&gt;anti stasi poster]]</tw-passagedata><tw-passagedata pid="426" name="anti stasi poster" tags="" position="4254,988" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTIzMjgwNjBf/gegen%20stasi%20uns%20nasi.jpg&quot;, width=&quot;500&quot;/&gt;]
(click:?img1)[
(replace:?img1)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTIzMjgwNTlf/anti%20stasi%20manifestation%20translated.jpeg&quot;, width=&quot;500&quot;/&gt;-&gt;two sides]]]]
</tw-passagedata><tw-passagedata pid="427" name="skip treptow" tags="" position="3861,2031" size="100,100">[[The weather is just too bad to got out, right?-&gt;lonely]]</tw-passagedata><tw-passagedata pid="428" name="two sides" tags="journal" position="4387,1058" size="100,100">[[There are always two sides of the story...-&gt;Soviet Memorial neg 3]]</tw-passagedata><tw-passagedata pid="429" name="Soviet Memorial neg 3" tags="" position="4285,1193" size="100,100">On January 3, 1990, there was a troskist protest because of anti-Soviet graffity in the Memorial. It seemed like someone wanted to stir up trouble.

This made everyone realize that even though things were changing, the old GDR government still had power. [[Apparently the whole graffiti pantomine was just an excuse to try to keep the Stasi (the secret GDR police).-&gt;losers and winners]] </tw-passagedata><tw-passagedata pid="430" name="losers and winners" tags="journal" position="4429,1214" size="100,100">[[and there are always losers and winners...-&gt;Soviet Memorial neg 3.2]] </tw-passagedata><tw-passagedata pid="431" name="who was right?" tags="journal" position="4367,1715" size="100,100">But who was right at the end?

[[You or me?-&gt;soviet memorial vandalism 2]]</tw-passagedata><tw-passagedata pid="432" name="SM continue biking?" tags="" position="4052,1824" size="100,100">&lt;img src=&quot;https://i.imgur.com/uszuhwZ.gif&quot;/&gt;

continue biking?
[[yes, let&#39;s just bike-&gt;Spreepark map]]
[[no, I don&#39;t feel like it anymore...-&gt;lonely]]</tw-passagedata><tw-passagedata pid="433" name="lonely" tags="" position="4115,1999" size="100,100">These days have been pretty lonely
I have reached out to friends but all of them are out.
The only person I&#39;ve had [[human contact]] with is with |Frau&gt;[Frau Netto]
(click:?Frau)[(replace:?Frau)[Frau Netto (the meme name Berliners have given to the cashier ladies at the Netto supermarkets)]] from my supermarket.
</tw-passagedata><tw-passagedata pid="434" name="SP contiue biking?" tags="" position="3921,1833" size="100,100">&lt;img src=&quot;https://i.imgur.com/uszuhwZ.gif&quot;/&gt;

continue biking?

[[yes, let&#39;s just bike-&gt;soviet memorial vandalism]]
[[no, I don&#39;t feel like it anymore...-&gt;lonely]]</tw-passagedata><tw-passagedata pid="435" name="raiding" tags="" position="4715,364" size="100,100">
#[[raiding-&gt;opening BHB]]</tw-passagedata><tw-passagedata pid="436" name="opening BHB" tags="" position="4738,553" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/rd0OIvS.gif&quot;/&gt;-&gt;east or west neg]]</tw-passagedata><tw-passagedata pid="437" name="east or west neg" tags="" position="4738,703" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTIzMjgwNDZf/berlin%20east%20west.jpg&quot;, width=&quot;600&quot;/&gt;

[[West-&gt;XB in map]]/[[East-&gt;FH in map]]</tw-passagedata><tw-passagedata pid="438" name="XB in map" tags="" position="4598,811" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTIzMjgwNDRf/berlin%20east%20west%20XB.jpg&quot;, width=&quot;600&quot;/&gt;-&gt;XB 1st of mai]]</tw-passagedata><tw-passagedata pid="439" name="FH in map" tags="" position="4928,779" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTIzMjgwNDNf/berlin%20east%20west%20FH.jpg&quot;, width=&quot;600&quot;/&gt;-&gt;squatting east]]</tw-passagedata><tw-passagedata pid="440" name="raiding in XB" tags="" position="4610,1131" size="100,100">By the 1980’s the squatting movement in Kreuzberg had becomed and important symbol to counterculture resistance. 

Of course this led to constant tension with the authorities. Disputes ran over property ownership and urban development plans conflicting with the grassroots ethos of the community. Sometimes the squats were negotiable, but others they were evicted inmediatly. 

[[And not through the most pacific methods.-&gt;hockenos raiding XB]]</tw-passagedata><tw-passagedata pid="441" name="hockenos raiding XB" tags="" position="4612,1263" size="100,100">
|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTIzNzI4NTNf/raiding%201.jpg&quot;, width=&quot;700&quot;/&gt;]
(click:?img1)[
(replace:?img1)[|img2&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTIzNzI4NjJf/raiding.jpg&quot;, width=&quot;700&quot;/&gt;]]]
(click:?img2)[
(replace:?img2)[|img3&gt;[[[&lt;img src=&quot;https://od.lk/s/ODNfNTIzNzI4NThf/raiding%202.jpg&quot;, width=&quot;700&quot;/&gt;-&gt;raiding XB footage]]]]]
</tw-passagedata><tw-passagedata pid="442" name="raiding XB footage" tags="" position="4636,1427" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/dgDOiui.gif&quot;/&gt;-&gt;XB 1st mai 2]]</tw-passagedata><tw-passagedata pid="443" name="how occupy" tags="" position="4776,2159" size="100,100">How could I even think I could just occupy this place?

[[This city is not mine-&gt;BHB closing]]</tw-passagedata><tw-passagedata pid="444" name="squatting east" tags="" position="5098,909" size="100,100">Like in the West, finding a place to live in East Berlin was hard, despite the fact that the authorities control the housing situation. Even after waiting a long time, many young people still couldn&#39;t get a flat.

&lt;img src=&quot;https://i.imgur.com/a8dsnJS.gif&quot;/&gt;

Artists and students decide to bypass the official route and break the rules by moving into empty pre-war buildings. [[The GDR calls this “rent dodging”.-&gt;squatting east 2]]
</tw-passagedata><tw-passagedata pid="445" name="squatting east 2" tags="" position="5156,1047" size="100,100">Being the squats places where oppositionists, enviromentalists, and other threats to the regime would meet, they were particularly focus point for the Stasi, and of course for conflict. 

In the GDRs big event days like [[1st of may-&gt;footage mai vs squat]] the Stasi would make sure the squatters wouldn&#39;t leave the building.</tw-passagedata><tw-passagedata pid="446" name="footage mai vs squat" tags="" position="5306,1094" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/TEpGLHq.gif&quot;/&gt;-&gt;after reunification reunification]]</tw-passagedata><tw-passagedata pid="447" name="housing war" tags="" position="5146,1350" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTIzODA4NTdf/mainzer.jpg&quot;/&gt;-&gt;Mainzer Strasse]]</tw-passagedata><tw-passagedata pid="448" name="Mainzer Strasse" tags="" position="5294,1364" size="100,100">On Mainzer Straße in Friedrichshain, the old buildings were planned to be demolished by 1989. Residents were relocated, but when the Berlin Wall fell the demolition was rescheduled. 

&lt;img src=&quot;https://od.lk/s/ODNfNTIzODA4MTdf/mainzer%202.jpg&quot;, width=&quot;700&quot;/&gt;

[[In May 1990 squatters occupied the empty buildings-&gt;Mainzer Strasse 2]] 

</tw-passagedata><tw-passagedata pid="449" name="Mainzer Strasse 2" tags="" position="5461,1385" size="100,100">
Most of the street was occupied and around 250 squatters lived there, mainly from them from West Berlin and the left-wing autonomous movement. 

&lt;img src=&quot;https://od.lk/s/ODNfNTIzODA4MjNf/mainzer%203.jpg&quot;, width=&quot;700&quot;/&gt;

House number 4 was occupied by gays and queers and other houses were turned into a pub, an infoshop, and a community cafe. 

[[This was one of the over 130 squatted buildings in East Berlin during that time.-&gt;Mainzer Strasse 3]]</tw-passagedata><tw-passagedata pid="450" name="Mainzer Strasse 3" tags="" position="5313,1526" size="100,100">The squatter council attempted to negotiate with the magistrate of East Berlin in order to legalize the squats. 

&lt;img src=&quot;https://od.lk/s/ODNfNTIzODA4NTVf/mainzer%205.jpg&quot;, width=&quot;700&quot;/&gt;

But by that time the magistrate had already decided to apply the 
|bl&gt;[&quot;Berlin Line&quot;](click:?bl)[(replace:?bl)[[[&quot;Berlin Line&quot;-&gt;Mainzer Strasse 4]]
a policy which stipulated that squats had to be dissolved as soon as they were discovered.]]</tw-passagedata><tw-passagedata pid="451" name="Mainzer Strasse 4" tags="" position="5171,1469" size="100,100">On November 12th, a number of nearby buildings were cleared by the police. 
The squatters from Mainzer Straße knew they were next, and decided that they were going to fight back. 

&lt;img src=&quot;https://od.lk/s/ODNfNTIzODA4NTRf/mainzer%204.jpg&quot;, width=&quot;700&quot;/&gt;

[[They built up barricades, dag anti-vehicle trenches and armed themselves with rocks and Molotov Cocktails.-&gt;battle began]]</tw-passagedata><tw-passagedata pid="452" name="MS footage 3" tags="" position="4903,1686" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTIzODM1ODZf/4.jpg&quot;/&gt;]
(click:?img1)[
(replace:?img1)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTIzODM1OTJf/5.jpg&quot;, width=&quot;700&quot;/&gt;-&gt;Mainzer Strasse Conclusion]]]]</tw-passagedata><tw-passagedata pid="453" name="go west?" tags="" position="4863,1997" size="100,100">Go west?

[[Yes-&gt;XB in map]]
[[Neh, let&#39;s just continue-&gt;how occupy]]</tw-passagedata><tw-passagedata pid="454" name="go east?" tags="" position="4667,1994" size="100,100">Go east?

[[Yes-&gt;FH in map]]
[[Neh, let&#39;s just continue-&gt;how occupy]]</tw-passagedata><tw-passagedata pid="455" name="reunifcation not happiness" tags="" position="4819,2483" size="100,100">Reunification was not just a moment of happiness.It was also a moment of crisis and conflict that didn’t bring positive consequences to everyone.

[[Wessis and Ossis were affected alike.-&gt;Xb after mauerfall]]</tw-passagedata><tw-passagedata pid="456" name="Xb after mauerfall" tags="" position="4539,2354" size="100,100">After the fall of the Wall, Kreuzberg found itself in the middle of the city again. And what used to be a workers-class neighborhood, suddenly became attractive for a much [[wider (and richer) variety of people.-&gt;gentrification]]
</tw-passagedata><tw-passagedata pid="457" name="gentrification" tags="" position="4459,2523" size="100,100">The prices rised and the  working class residents had to move out. 

This was just the beginning of the mayor [[gentrification-&gt;gent2]] that Kreuzberg would experience in the 2000&#39;s.</tw-passagedata><tw-passagedata pid="458" name="meanwhile in the east" tags="" position="4593,2644" size="100,100">(align:&quot;&lt;==&quot;)+(box:&quot;X=&quot;)[meanwhile...]

|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTIzOTE1MTdf/gent%204.jpg&quot;, width=&quot;700&quot;/&gt;]
(click:?img1)[(replace:?img1)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTIzOTE1MTJf/gent%205.jpg&quot;, width=&quot;700&quot;/&gt;-&gt;money for the east]]]]</tw-passagedata><tw-passagedata pid="459" name="money for the east" tags="" position="4516,2837" size="100,100">The East was being absorved by the West, not only politically and culturally, but also (and most importantly economically).

Money was being injected into the ex-sovietic land. 

Then neighborhoods such as Prenzlauer Berg were [[gentrified as well.-&gt;affected the west]] 

</tw-passagedata><tw-passagedata pid="460" name="affected the west" tags="" position="4523,2983" size="100,100">[[and westeners were affected by this too.-&gt;extreme changes]] 

&lt;img src=&quot;https://od.lk/s/ODNfNTIzOTE1MTVf/gent%203.jpg&quot;, width=&quot;700&quot;/&gt;</tw-passagedata><tw-passagedata pid="461" name="extreme changes" tags="" position="4523,3133" size="100,100">So yes, 
the reunification was a moment of extreme changes and freedom. 

But it also came with fear to the unknown, discrimination and neglection of the other.

Some things could be accepted into the new order

[[others simply had to be cut out.-&gt;demolition]]</tw-passagedata><tw-passagedata pid="462" name="demolition" tags="" position="5735,309" size="100,100">
#[[demolition-&gt;traces of stone]]</tw-passagedata><tw-passagedata pid="463" name="traces of stone" tags="" position="5945,341" size="100,100">After the reunification, multiple monuments and buildings from the GDR were [[erased from the landscape.-&gt;lenin]] </tw-passagedata><tw-passagedata pid="464" name="sasha quote" tags="" position="5505,784" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTI0MTkyNjVf/sash%20waltz%20quote.jpg&quot;, width=&quot;500&quot;/&gt;-&gt;last demolition pic]]</tw-passagedata><tw-passagedata pid="465" name="not meant to be together" tags="journal" position="5565,1056" size="100,100">|neglect&gt;[all this neglection]
(click:?neglect)[(replace:?neglect)[|hurts&gt;[it just hurts]]]
(click:?hurts)[(replace:?hurts)[[[maybe it&#39;s better not to be together after all-&gt;footage wall]]]]
</tw-passagedata><tw-passagedata pid="466" name="footage wall" tags="" position="5759,1081" size="100,100">

[[&lt;img src=&quot;https://i.imgur.com/6igNkpU.gif&quot;, width=&quot;400&quot;/&gt;-&gt;ignore existance]]</tw-passagedata><tw-passagedata pid="467" name="ignore existance" tags="journal" position="5695,1204" size="100,100">[[maybe I should just ignore your existance-&gt;hockenos quotes]]

</tw-passagedata><tw-passagedata pid="468" name="voicemail?" tags="" position="5642,1392" size="100,100">
&lt;img src=&quot;https://od.lk/s/ODNfNTI0MTkyNjdf/-voicemail-notification.png&quot;, width=&quot;400&quot;/&gt;


a [[voicemail]]?
I haven&#39;t recieved one of these in years
</tw-passagedata><tw-passagedata pid="469" name="church division" tags="" position="5689,1813" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTI0MjA0OTNf/chapel%20reconciliation%202.jpg&quot;, width=&quot;700&quot;/&gt;

During the years of division, no one could access the church because it stood right inside the [[death strip.-&gt;no reconciliation]]</tw-passagedata><tw-passagedata pid="470" name="no reconciliation" tags="" position="5579,1951" size="100,100">


&lt;span style=&quot;font-size: 200%&quot;&gt;|pff&gt;[pff please]&lt;span/&gt;
(click:?pff)[(replace:?pff)[[[I&#39;m too proud for that-&gt;church demolition]]]]</tw-passagedata><tw-passagedata pid="471" name="grey summer" tags="" position="4219,79" size="100,100">It&#39;s still summer, but days haven&#39;t been as bright.
Apparently it&#39;s cloudlier than most summers.
It has to be this swamp city shitty weather.

Even my WG roomie says,
[[&quot;Agh, Berlin just doesn&#39;t stop to dissapoint me!&quot;-&gt;I feel lost]]</tw-passagedata><tw-passagedata pid="472" name="not welcomed" tags="" position="4035,2166" size="100,100">I go back home on my bike. 
&quot;sldkñaslkdñasñd&quot; a german guy scolds me.
I&#39;m not even sure what i was doing wrong.

I don&#39;t understand this language, this culture, this city.

[[What made me think I would be welcomed here anyway?-&gt;raiding]]</tw-passagedata><tw-passagedata pid="473" name="plattenbau" tags="" position="6525,253" size="100,100">My new home is a renovated [[Plattenbau-&gt;plattenbauten]] (literally &quot;concrete slab buildings&quot;) from the 70’s.

&lt;img src=&quot;https://od.lk/s/ODNfNTI1MTE0MDFf/plattenbauern%20%283%29.jpg&quot;, width=&quot;500&quot;/&gt;

</tw-passagedata><tw-passagedata pid="474" name="biking friederichsfelde" tags="" position="6874,434" size="100,100">There is not much here, but there is a park where I can bike.

&lt;img src=&quot;https://i.imgur.com/8zjPHze.gif&quot;, width=&quot;400&quot;/&gt;

and a [[cementary]] nearby.</tw-passagedata><tw-passagedata pid="475" name="emptyness inside" tags="nostalgie" position="6262,441" size="100,100">The change has been good...

but I cannot help to feel [[emptyness inside.-&gt;HWL pictures and text]]
</tw-passagedata><tw-passagedata pid="476" name="HWL pictures and text" tags="" position="6371,558" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI1MTE5Njdf/QOLP5512.jpg&quot;, width=&quot;650&quot;/&gt;]
(click:?img1)[
(replace:?img1)[|img2&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI1Mzg0NTVf/ddr%20museum%20%283%29.jpg&quot;, width=&quot;450&quot;/&gt;]]]
(click:?img2)[
(replace:?img2)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTI1MTE5NjZf/DUPN6544.jpg&quot;, width=&quot;650&quot;/&gt;-&gt;spreepark nostalgie picture]]]]</tw-passagedata><tw-passagedata pid="477" name="spreepark nostalgie picture" tags="newspaper" position="6541,546" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTI1MTIwMzRf/Bundesarchiv_Bild_183-1985-0404-021%2C_Berlin%2C_Kulturpark_Pl%C3%A4nterwald%2C_Riesenrad.jpg&quot;, width=&quot;450&quot;/&gt;-&gt;german sunday vibe]]

VEB Kulturpark 1985</tw-passagedata><tw-passagedata pid="478" name="volkspark friedrichshain" tags="" position="6490,748" size="100,100">One of those first days of summer we went to another park
Volkspark Friedrichshain.

&lt;img src=&quot;https://od.lk/s/ODNfNTI1MzQyMDFf/VPFH2bw.jpg&quot;, width=&quot;650&quot;/&gt;


The weather was glorious, and everyone seemed so happy. There were lots of families and groups of friends having picnics, sunbathing and even signing karaoke. [[I&#39;ve never seen a Park so alive!-&gt;VP FH 2]]</tw-passagedata><tw-passagedata pid="479" name="SEZ" tags="" position="6659,828" size="100,100">We started walking back to Landsberger Alle from the park and came across
an [[abandoned building.-&gt;SEZ1]]

&lt;img src=&quot;https://od.lk/s/ODNfNTI1MzUwNTNf/SEZbw.jpg&quot;, width=&quot;700&quot;/&gt;

</tw-passagedata><tw-passagedata pid="480" name="memories are killing me" tags="nostalgie" position="5974,1016" size="100,100">These memories are killing me

I wonder if I’ll ever see Berlin [[the same way.-&gt;tuesday]]</tw-passagedata><tw-passagedata pid="481" name="patience" tags="nostalgie" position="6865,1023" size="100,100">Patience...
Yeah...
I am not very [[patient-&gt;memories are killing me]]</tw-passagedata><tw-passagedata pid="482" name="Die Ostalgie route" tags="" position="6132,1271" size="100,100">
&lt;img src=&quot;https://i.imgur.com/bRj5ZaD.gif&quot;/&gt;


Starting from Lichtenberg 
Just ride along the street 
following the television tower 
[[at the horizon.-&gt;Frankfurter Alle]]</tw-passagedata><tw-passagedata pid="483" name="Frankfurter Alle" tags="" position="6278,1269" size="100,100">This part of the street is also filled with Plattenbauern. But it&#39;s also pretty lively.By Samariterstraße Station you can see more businesses: vietnamese restaurants, döner shops, cafes, tatoo studios, stores...

&lt;img src=&quot;https://i.imgur.com/Imsjivp.gif&quot;/&gt;

Lots of young people live in [[Friedrichshain-&gt;frankfurter alle pics]], many of them Ausländern.</tw-passagedata><tw-passagedata pid="484" name="Frankfurter Tor" tags="" position="6629,1266" size="100,100">This is the famous frankfurter Tor. After crossing it Frankfruter Alle becomes [[Karl Marx Alle]]. 

&lt;img src=&quot;https://od.lk/s/ODNfNTI2MDY0MTVf/photo_2024-04-25_00-29-23.jpg&quot;, width=&quot;400&quot;/&gt;</tw-passagedata><tw-passagedata pid="485" name="Karl Marx Alle" tags="" position="6764,1267" size="100,100">In time of the GDR this boulevard was where the most important
parades and marches took place. The majority of the buildings were built in a sovietic neoclassic architecture, [[the so-called confectioner&#39;s style of the 1950s.-&gt;KM Alle pics]]

&lt;img src=&quot;https://i.imgur.com/5VD57Tp.gif&quot;/&gt;</tw-passagedata><tw-passagedata pid="486" name="Kino International" tags="newspaper" position="7214,1266" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTI1Mzc1MDRf/kino%20international%20%281%29.jpg&quot;, width=&quot;650&quot;/&gt;

BERLIN 06.03.1973

The INTERNATIONAL cinema with the poster for the Soviet film &quot;We&#39;re waiting for you boy&quot; on [[Karl-Marx-Allee-&gt;Alexanderplatz]] in Berlin, the former capital of the GDR, German Democratic Republic. Hotel BEROLINA in the background. 

Photo: Siegfried Bonitz</tw-passagedata><tw-passagedata pid="487" name="Alexanderplatz" tags="" position="7349,1266" size="100,100">After some more biking you will be finally reach Alexanderplatz. 

&lt;img src=&quot;https://i.imgur.com/uHc6fSq.gif&quot;/&gt;


I guess we don&#39;t think too much about it now but the popular comercial Platz also used to be [[part of the GDR.-&gt;Alexanderplatz pics]] </tw-passagedata><tw-passagedata pid="488" name="heart of the city" tags="" position="6100,1438" size="100,100">[[So we reach the heart of the city again.-&gt;ostalgie nostalgie]]
</tw-passagedata><tw-passagedata pid="489" name="nostalgia greek definition" tags="definition" position="6442,2315" size="100,100">&lt;span style=&quot;font-size: 150%&quot;&gt;nostalgia&lt;/span&gt; noun
/nɑːˈstæl.dʒə/

in greek, &quot;nostalgia&quot; literally means &quot;the pain from an old wound&quot;
it goes backwards ad forwards, it takes us to a place we ache to [[go again.-&gt;drove back to adlershof]]</tw-passagedata><tw-passagedata pid="490" name="Großgaststätte Ahornblatt" tags="" position="6258,1740" size="100,100">The Großgaststätte Ahornblatt, located in Berlin&#39;s Mitte district, was built between 1971 and 1973 as part of a residential project.

&lt;img src=&quot;https://od.lk/s/ODNfNTI1Mzg1MzJf/ahblatt.jpeg&quot;, width=&quot;700&quot;/&gt;

It was a self-service restaurant and shopping arcade primarily for [[East German Ministry of Construction employees.-&gt;kein abriss]]</tw-passagedata><tw-passagedata pid="491" name="ostalgie questions" tags="" position="7373,1925" size="100,100">|ost&gt;[Ostalgie?]
(click:?ost)[
(replace:?ost)[[[for what?-&gt;ostalgie questions2]]]]</tw-passagedata><tw-passagedata pid="492" name="Palast der Republik nostalgie" tags="" position="7267,1763" size="100,100">Palast der Republik
&quot;Palace of the People&quot; 

&lt;img src=&quot;https://od.lk/s/ODNfNTI1Mzg1MzRf/palast%20der%20republic%20nostalgia%203.jpg&quot;, width=&quot;700&quot;/&gt;

Spread over 15,300 square meters, der Palast der republik was possibly the most emblematic [[building of the GDR.-&gt;Palast 2]]</tw-passagedata><tw-passagedata pid="493" name="BWL enitre country missing" tags="" position="6842,1975" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTI1MTE5NjVf/VRXV4684.jpg&quot;, width=&quot;650&quot;/&gt;

[[&quot;an entire country suddenly went missing&quot;-&gt;feel sad about]]</tw-passagedata><tw-passagedata pid="494" name="feel sad about" tags="nostalgie" position="5909,1945" size="100,100">

(align:&quot;&lt;==&quot;)+(box:&quot;XXXXXXX===&quot;)[It’s funny... maybe stupid 
that I feel kind of sad about a time I didn’t even experience...]

(align:&quot;==&gt;&quot;)+(box:&quot;====XXXXX=&quot;)[[[I&#39;ll just go back to Lichtenberg now-&gt;footage tuesday]]]</tw-passagedata><tw-passagedata pid="495" name="Another grey day" tags="nostalgie" position="6055,2265" size="100,100">Another grey day

I just feel too down now

Can’t really focus on anything...
I don’t know what to do,
[[I wish I could be back home now...-&gt;footage wednesday]]

</tw-passagedata><tw-passagedata pid="496" name="drove back to adlershof" tags="" position="6433,2467" size="100,100">&lt;img src=&quot;https://i.imgur.com/xQ3S3Ib.gif&quot;/&gt;

I drove to Adlershof just for the nostalgia
and I discovered a new place [[I have not seen before...-&gt;Landschaft Johannistal]]</tw-passagedata><tw-passagedata pid="497" name="tuesday" tags="nostalgie" position="6126,1099" size="100,100">[[&lt;span style=&quot;font-size: 170%&quot;&gt;tuesday&lt;/span&gt;-&gt;go to Mitte]]
</tw-passagedata><tw-passagedata pid="498" name="wednesday" tags="nostalgie" position="6194,2083" size="100,100">&lt;span style=&quot;font-size: 170%&quot;&gt;[[wednesday-&gt;Another grey day]]&lt;/span&gt;
</tw-passagedata><tw-passagedata pid="499" name="thursday" tags="nostalgie" position="6231,2279" size="100,100">[[&lt;span style=&quot;font-size: 170%&quot;&gt;thursday&lt;/span&gt;-&gt;yesterday]]
</tw-passagedata><tw-passagedata pid="500" name="Landschaft Johannistal airfield" tags="" position="6232,2645" size="100,100">This place is called Landschaft Johannistal

&lt;img src=&quot;https://od.lk/s/ODNfNTI1NTgwNjZf/landshaft%20johannistal%201952-airfield-map.jpg&quot;, width=&quot;700&quot;/&gt;

In the begining of the twentieth century it was used as an[[airfield-&gt;planes LJ]] and as a military base during the World Wars.

After WW2 regular air traffic ceased, and the airfield closed in 1995.
Now, it&#39;s considered part of the Adlershof Landscape Park. </tw-passagedata><tw-passagedata pid="501" name="heading back" tags="" position="6230,2926" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTI1ODcwMDNf/adlreshof%20station.jpg&quot;, width=&quot;650&quot;/&gt;

I&#39;ll ride till Ostkreuz and take the [[Sbahn-&gt;Ost Sbahn]] to Lichtenberg Station.</tw-passagedata><tw-passagedata pid="502" name="nostalgia is an empty feeling" tags="nostalgie" position="5764,3143" size="100,100">[[nostalgia is an empty feeling-&gt;something that is missing]]
</tw-passagedata><tw-passagedata pid="503" name="nostalgia definition" tags="definition" position="6687,989" size="100,100">&lt;span style=&quot;font-size: 150%&quot;&gt;nostalgia&lt;/span&gt; noun
/nɑːˈstæl.dʒə/ 

a wistful or excessively sentimental yearning for return to or of |past&gt;[some past period or irrecoverable condition](click:?past)[(replace:?past)[[[a time where we were once happy-&gt;SEZ]]]] </tw-passagedata><tw-passagedata pid="504" name="an empty nest" tags="nostalgie" position="6091,3305" size="100,100">a no one land
[[a temporary autonomous zone]]</tw-passagedata><tw-passagedata pid="505" name="empty nest empty ness" tags="" position="6081,3114" size="100,100">an emptyness
an empty nest...
</tw-passagedata><tw-passagedata pid="506" name="friday" tags="nostalgie" position="5996,3784" size="100,100">&lt;span style=&quot;font-size: 170%&quot;&gt;[[friday-&gt;night footage]]&lt;/span&gt;
</tw-passagedata><tw-passagedata pid="507" name="Spreepark map" tags="" position="3739,594" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTIzMjgxMDlf/spreepark%20lageplan.jpg&quot;/&gt;-&gt;Spreepark neg]]</tw-passagedata><tw-passagedata pid="508" name="Spreepark break footage" tags="" position="3660,1004" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTIzMjgxMzZf/spreepark%20tunnel.jpg&quot;/&gt;-&gt;Spreepark neg 4]]</tw-passagedata><tw-passagedata pid="509" name="soviet memorial vandalism" tags="" position="4174,507" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTIzMjgyMTBf/0628_1989_Berlin_%2828_dec%29_%2814122050538%29.jpg&quot;, width=&quot;700&quot;/&gt;-&gt;Soviet Memorial neg]] </tw-passagedata><tw-passagedata pid="510" name="Soviet Memorial neg 3.2" tags="" position="4384,1355" size="100,100">Protests to eliminate the last bit of the GDR power started.

&lt;img src=&quot;https://od.lk/s/ODNfNTIzMjgyNzZf/rhg-fo-rowa-05-25-01.jpg&quot;, width=&quot;700&quot;/&gt;

However the GDR&#39;s main headquarter building was discovered active, possibly because they were trying to destroy evidence.

This lit the fuse, and protesters decided to take [[drastic measures-&gt;Soviet Memorial neg 4]]</tw-passagedata><tw-passagedata pid="511" name="Soviet Memorial neg 4" tags="" position="4459,1502" size="100,100">On January 15, 1990,a protest was organized to shut down the secret police building.

But surprisely the gates opened. So the protesters just rushed in. 

&lt;img src=&quot;https://od.lk/s/ODNfNTIzMjgyNzNf/january%2015%20stasi%202.jpg&quot;/, width=&quot;700&quot;&gt;


[[There was confusion, papers flying out of windows, furniture being thrown... -&gt;Soviet Memorial neg 4.2]]
</tw-passagedata><tw-passagedata pid="512" name="soviet memorial vandalism 2" tags="newspaper" position="4195,1782" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTIzMjgyMTBf/0628_1989_Berlin_%2828_dec%29_%2814122050538%29.jpg&quot;, width=&quot;700&quot;/&gt;
28 December 1989]
(click:?img1)[
(replace:?img1)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTIzMjgyMDlf/april%208%202022.png&quot;, width=&quot;700&quot;/&gt;
4 April 2022-&gt;SM continue biking?]]]]
</tw-passagedata><tw-passagedata pid="513" name="Soviet Memorial neg 4.2" tags="" position="4229,1484" size="100,100">TV news even suggested that chaos was coming and only the government could stop it. But this backfired, and the protest actually strengthened the democracy movement. 
After that night, a citizens comitee was formed and the government&#39;s most secretive files were opened, [[indicating the fall of the Stasi.-&gt;protest image]]</tw-passagedata><tw-passagedata pid="514" name="protest image" tags="" position="4216,1625" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTIzMjgyNzRf/january%2015%20stasi.jpg&quot;, width=&quot;500&quot;/&gt;-&gt;who was right?]] </tw-passagedata><tw-passagedata pid="515" name="Vive la distopia" tags="" position="3703,1508" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTIzMjgyOTNf/spreepark%206.jpg&quot;. width=&quot;700&quot;/&gt;

[[LIVE THE DISTOPIA-&gt;closing image SP]] </tw-passagedata><tw-passagedata pid="516" name="closing image SP" tags="" position="3671,1646" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTIzMjgxMDZf/spreepark%202.jpg&quot;, width=&quot;700&quot;/&gt; -&gt;SP contiue biking?]] </tw-passagedata><tw-passagedata pid="517" name="XB 1st of mai" tags="" position="4610,981" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTIzMzA2NzZf/QEFW7560.jpg&quot;, width=&quot;1000&quot;/&gt;-&gt;raiding in XB]] </tw-passagedata><tw-passagedata pid="518" name="Mainzer Strasse Conclusion" tags="" position="4851,1849" size="100,100">By 8am, most of the buildings had been cleared and the residents evicted. 417 people were arrested and 70 police officers suffered injuries. 
Nobody was killed but the event would be never forgotten. 


&lt;img src=&quot;https://od.lk/s/ODNfNTIzODQxMzFf/6.jpg&quot;, width=&quot;700&quot;/&gt;

[[Today the Mainzer Straße Evictions are considered one of the largest manoevers in post-war Berlin history.-&gt;MS last footage]] </tw-passagedata><tw-passagedata pid="519" name="MS last footage" tags="" position="5004,1880" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTIzMzA2NzJf/KABP0599.JPG&quot;, width=&quot;1000&quot;/&gt;-&gt;go west?]]</tw-passagedata><tw-passagedata pid="520" name="after reunification reunification" tags="" position="5398,1243" size="100,100">
After reunification &#39;&#39;squatting&#39;&#39; was still happening.

And the [[&#39;&#39;raiding&#39;&#39;-&gt;housing war]] turned even more violent.</tw-passagedata><tw-passagedata pid="521" name="battle began" tags="" position="4973,1409" size="100,100">[[Two days later the battle began.-&gt;MS footage 1]]</tw-passagedata><tw-passagedata pid="522" name="MS footage 1" tags="" position="4967,1538" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTIzODM1NTFf/1.jpg&quot;, width=&quot;700&quot;/&gt;]
(click:?img1)[
(replace:?img1)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTIzODM5OTVf/2.jpg&quot;, width=&quot;1000&quot;/&gt;-&gt;MS footage 2]]]]</tw-passagedata><tw-passagedata pid="523" name="MS footage 2" tags="" position="5086,1663" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTIzODM1NThf/3.1.jpg&quot;, height=&quot;800&quot;/&gt;]
(click:?img1)[
(replace:?img1)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTIzODM1NjNf/3.2.jpg&quot;, height=&quot;800&quot;/&gt; -&gt;MS footage 3]]]]</tw-passagedata><tw-passagedata pid="524" name="XB 1st mai 2" tags="" position="4674,1648" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTIzODA2MThf/DKFL8817.JPG&quot;, width=&quot;700&quot;/&gt;-&gt;go east?]]</tw-passagedata><tw-passagedata pid="525" name="BHB closing" tags="" position="4771,2305" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/L257lCW.gif&quot;/&gt;-&gt;reunifcation not happiness]]</tw-passagedata><tw-passagedata pid="526" name="gent2" tags="" position="4423,2651" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTIzOTE1MTRf/gent%202.jpg&quot;, width=&quot;700&quot;/&gt;-&gt;meanwhile in the east]]</tw-passagedata><tw-passagedata pid="527" name="hockenos quotes" tags="" position="5896,1235" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI0MjAxMzlf/neglecting1.jpg&quot;, width=&quot;650&quot;/&gt;]
(click:?img1)[(replace:?img1)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTI0MjAxNDBf/neglecting2.jpg&quot;, width=&quot;650&quot;/&gt;-&gt;footage wall 2]]]]</tw-passagedata><tw-passagedata pid="528" name="church of reconciliation" tags="" position="5496,1664" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTI0MjA0OTJf/Vers%C3%B6hnungskirche_Berlin_1899.jpg&quot;, width=&quot;400&quot;/&gt;

The Church of Reconcilitation
a XIX century protestant church stood on the eastern side along [[Bernauer Strasse.-&gt;reconciliate?]]
</tw-passagedata><tw-passagedata pid="529" name="reconciliate?" tags="" position="5498,1794" size="100,100">&lt;span style=&quot;font-size: 200%&quot;&gt;
[[to reconciliate?-&gt;church division]]&lt;/span&gt; 
</tw-passagedata><tw-passagedata pid="530" name="church demolition" tags="" position="5579,2101" size="100,100">
[[&lt;img src=&quot;https://i.imgur.com/CDdk7LX.gif&quot;/&gt;-&gt;end it before it ends you]]</tw-passagedata><tw-passagedata pid="531" name="german sunday vibe" tags="nostalgie" position="6699,585" size="100,100">Everything seems so gloomy...
maybe it&#39;s just this German Sunday vibe
I hope [[tomorrow-&gt;monday]] I&#39;ll feel better.</tw-passagedata><tw-passagedata pid="532" name="monday" tags="nostalgie" position="6044,652" size="100,100">[[&lt;span style=&quot;font-size: 170%&quot;&gt;monday&lt;/span&gt;-&gt;familiar places]]</tw-passagedata><tw-passagedata pid="533" name="vollkspark image" tags="" position="6350,698" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTI1MzQxOTlf/VPFH1bw.jpg&quot;, width=&quot;700&quot;/&gt;-&gt;volkspark friedrichshain]]</tw-passagedata><tw-passagedata pid="534" name="pictures sculptures" tags="" position="6098,855" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTI1MTIwOTRf/IMG_20240402_132855804.jpg&quot;, width=&quot;500&quot;/&gt;-&gt;memories come back]]</tw-passagedata><tw-passagedata pid="535" name="memories come back" tags="" position="6240,800" size="100,100">All this [[memories-&gt;vollkspark image]] start coming back.</tw-passagedata><tw-passagedata pid="536" name="nostalgie german def" tags="definition" position="6391,1541" size="100,100">&lt;span style=&quot;font-size: 150%&quot;&gt;Nos·t·al·gie&lt;/span&gt;
/Nostalgié/
*Substantiv, feminin [die]*
|german&gt;[vom Unbehagen an der Gegenwart ausgelöste, von unbestimmter Sehnsucht erfüllte Gestimmtheit, die sich in der Rückwendung zu einer vergangenen, in der Vorstellung verklärten Zeit äußert, deren Mode, Kunst, Musik o. Ä. man wieder belebt]
(click:?german)[(replace:?german)[A mood triggered by discomfort with the present and filled with an indefinite longing, which is expressed in a return to a past time transfigured in the imagination, whose fashion, art, music, etc. is [[revived-&gt;Ahornblatt pic]].]]</tw-passagedata><tw-passagedata pid="537" name="ostalgie definition" tags="definition" position="6450,1119" size="100,100">&lt;span style=&quot;font-size: 150%&quot;&gt;[[Os·t·al·gie-&gt;Die Ostalgie route]]&lt;/span&gt;
/Ostalgié/
*Substantiv, feminin [die]*
(a portmanteau of &quot;East&quot; or &quot;East Germany&quot; and &quot;nostalgia&quot;)
Term used to describe the nostalgic perception of the GDR among the population of East Germany since reunification.

&lt;!--|nos&gt;[&lt;span style=&quot;font-size: 150%&quot;&gt;Nos·t·al·gie&lt;/span&gt;
(text-colour:white)[/Nostalgié/
*Substantiv, feminin [die]*]]
(click:?nos)[
(replace:?nos)--&gt;</tw-passagedata><tw-passagedata pid="538" name="Ahornblatt pic" tags="newspaper" position="6085,1737" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTI1Mzg1MzNf/ahornblatt2.jpg&quot;, width=&quot;700&quot;/&gt;-&gt;Großgaststätte Ahornblatt]]

BERLIN 01.06.1970

Construction site for the new Ahornblatt restaurant on the corner of Gertraudenstraße and Fischerinsel in Berlin, the former capital of the GDR, German Democratic Republic. 
Photo: Siegfried Bonitz</tw-passagedata><tw-passagedata pid="539" name="footage tuesday" tags="" position="6027,2093" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTI2MDY0MTlf/IMG_20231107_105011294.jpg&quot;, width=&quot;700&quot;/&gt;-&gt;wednesday]]</tw-passagedata><tw-passagedata pid="540" name="lenin" tags="" position="5879,510" size="100,100">The Lenin monument was [[removed-&gt;PdR demolished]]

&lt;img src=&quot;https://od.lk/s/ODNfNTI0MTg2Njdf/lenin.jpg&quot;, width=&quot;500&quot;/&gt;</tw-passagedata><tw-passagedata pid="541" name="PdR demolished" tags="" position="5895,664" size="100,100">the emblematic Palast der Republik was [[destroyed-&gt;arnhornblatt]]

&lt;img src=&quot;https://od.lk/s/ODNfNTI0MTkxMTdf/palast%20der%20republic%20demolition%202.jpg&quot;, width&quot;700&quot;/&gt;</tw-passagedata><tw-passagedata pid="542" name="arnhornblatt" tags="" position="5750,734" size="100,100">[[even the comunitary restaurant of Großgaststätte Ahornblatt [[didn’t fit into the new Berlin.-&gt;ahb pics]]</tw-passagedata><tw-passagedata pid="543" name="last demolition pic" tags="" position="5659,922" size="100,100">
[[&lt;img src=&quot;https://od.lk/s/ODNfNTI0MTg2Njlf/palast%20demolished.jpg&quot;, width=&quot;900&quot;/&gt;-&gt;not meant to be together]]</tw-passagedata><tw-passagedata pid="544" name="voicemail" tags="" position="5768,1494" size="100,100">


(align:&quot;=&gt;&lt;=&quot;)+(box:&quot;===XXXX===&quot;)[&quot;Hey, ive been trying to call you and message you but nothing comes out, did you block me? Im very sorry.. I would like to explain... [[I hope we can talk...&quot;-&gt;hang up]]]
</tw-passagedata><tw-passagedata pid="545" name="hang up" tags="" position="5618,1516" size="100,100">




|silence&gt;[&lt;span style=&quot;font-size: 200%&quot;&gt;...&lt;/span&gt; ]
(click:?silence)[(replace:?silence)[|talk&gt;[really? wanna to talk now?]]]
(click:?talk)[(replace:?talk)[[[for what?-&gt;church of reconciliation]]]]
</tw-passagedata><tw-passagedata pid="546" name="ahb pics" tags="" position="5629,634" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI0MTg2NjNf/ahb%201.jpg&quot;, width=&quot;650&quot;/&gt;]
(click:?img1)[
(replace:?img1)[|img2&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI0MTg2NjRf/ahb%202.jpg&quot;, width=&quot;650&quot;/&gt;]]]
(click:?img2)[
(replace:?img2)[|img3&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI0MTg2NjVf/ahb%203.jpg&quot;, width=&quot;650&quot;/&gt;]]]
(click:?img3)[
(replace:?img3)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTI0MTg2NjZf/ahb%204.jpg&quot;, width=&quot;650&quot;/&gt;-&gt;sasha quote]]]]</tw-passagedata><tw-passagedata pid="547" name="end it before it ends you" tags="" position="5579,2251" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTI0MTkxMThf/palast%20der%20republic%20demolition1.jpg&quot;, width=&quot;900&quot;/&gt;

end it before it ends with you


&lt;span style=&quot;font-size: 150%&quot;&gt;(align:&quot;==&gt;&quot;)+(box:&quot;=========XXXXXXXXXX=&quot;)[continue in &quot;nostalgie&quot;]&lt;/span&gt;</tw-passagedata><tw-passagedata pid="548" name="footage wall 2" tags="" position="5760,1370" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/lYQW6Ts.gif&quot;, width=&quot;400&quot;/&gt;-&gt;voicemail?]]</tw-passagedata><tw-passagedata pid="549" name="plattenbauten" tags="" position="6685,197" size="100,100">Actually pretty much all the buildings here are Plattenbauten. Building these was the urbanistic strategy from the GDR. Functional, egalitarian, and easy to control. 

&lt;img src=&quot;https://od.lk/s/ODNfNTI1MTEzOTZf/plattenbauern%20%285%29.jpg&quot;, width=&quot;500&quot;/&gt;

Perhaps it’s not as picturesque, but there is something colorful about these [[lego buildings-&gt;PB pics]], I think they are not as ugly as people say.</tw-passagedata><tw-passagedata pid="550" name="PB pics" tags="" position="6671,396" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI1MTEzOTdf/plattenbauern.jpg&quot;, width=&quot;700&quot;/&gt;]
(click:?img1)[(replace:?img1)[|img2&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI1MTEzOTlf/plattenbauern%20%281%29.jpg&quot;, width=&quot;500&quot;/&gt;]]]
(click:?img2)[(replace:?img2)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTI1MTE0MTFf/file_0000c752.jpg&quot;, width=&quot;700&quot;/&gt;-&gt;biking friederichsfelde]]]]</tw-passagedata><tw-passagedata pid="551" name="cementary" tags="" position="7142,379" size="100,100">Looks like there is [[something special here.-&gt;graves]]

&lt;img src=&quot;https://od.lk/s/ODNfNTI1MTE0NTZf/IMG_20240304_143227175.jpg&quot;, width=&quot;700&quot;/&gt;</tw-passagedata><tw-passagedata pid="552" name="another soviet memorial" tags="" position="7162,591" size="100,100">ohh another [[memorial...-&gt;die toten]]

&lt;img src=&quot;https://od.lk/s/ODNfNTI1MTE0NjRf/revolutions%20denkmal.jpg&quot;2121, width=&quot;500&quot;/&gt;</tw-passagedata><tw-passagedata pid="553" name="familiar places" tags="" position="5980,802" size="100,100">I was biking today
and came across some [[familiar places-&gt;pictures sculptures]]</tw-passagedata><tw-passagedata pid="554" name="VP FH 2" tags="dialogue" position="6354,868" size="100,100">
&quot;I used to come a lot with my dad to this park.&quot;
&quot;Really? and which was your favorite part?&quot;
&quot;I think winter...&quot;
&quot;What?&quot;
&quot;Yeah, when it was snowing there would be perfect hills to go down the slide it was great&quot;
&quot;I see.. but...its funny that your mentioning it now, we&#39;re in plain Summer!&quot;
[[&quot;Haha guess you’re right.&quot;-&gt;VPFH lake images]]</tw-passagedata><tw-passagedata pid="555" name="SEZ2" tags="dialogue" position="6845,842" size="100,100">&quot;What why? They should renovate these places, would be amazing to have an
indoor pool like that.&quot;
&quot;Well I don’t know, there is some negligence. They’ve been discussing
forever what to do with this place. And since no one seems to come up with a solution they decided it’s better to demolish it and do [[flats instead.&quot;-&gt;new flats]]

&lt;img src=&quot;https://od.lk/s/ODNfNTI1MzQ4Mjdf/Sez%20nostalgie.jpg&quot;, width=&quot;700&quot;/&gt;</tw-passagedata><tw-passagedata pid="556" name="new flats" tags="dialogue" position="7022,818" size="100,100">&quot;Well, we do need more flats Berlin...&quot;
&quot;So when are you gonna move by the way?&quot;
&quot;I’m still looking...&quot;
&quot;Hard, huh?&quot;
&quot;Yeah...&quot; 
&quot;But you do like Adlershof right?&quot;
&quot;Yeah, but I need something closer&quot;
&quot;I&#39;m sure you&#39;ll find something soon. &quot;
&quot;Really?&quot;
&quot;For sure, just be [[patient-&gt;SEZ last pic]].&quot;</tw-passagedata><tw-passagedata pid="557" name="go to Mitte" tags="" position="6291,1113" size="100,100">Today I&#39;ll go to Mitte, a 30 min route on bike that has also been called [[Die Ostalgie-&gt;ostalgie definition]] Route.
 
 
&lt;img src&quot;https://od.lk/s/ODNfNTI1MzUxNDZf/ostalgieroute.jpg&quot;/&gt;</tw-passagedata><tw-passagedata pid="558" name="street view2" tags="" position="6509,1269" size="100,100">
&lt;img src=&quot;https://i.imgur.com/iokxSCo.gif&quot;/&gt;

After some km you will  reach [[two buildings with green domes.-&gt;Frankfurter Tor]]</tw-passagedata><tw-passagedata pid="559" name="KM Alle street view" tags="" position="7069,1272" size="100,100">&lt;img src=&quot;https://i.imgur.com/v5yrcQn.gif&quot;/&gt;

The street then turns monumental, with huge green widespaces and some highlights like the [[Kino international.-&gt;Kino International]] 

</tw-passagedata><tw-passagedata pid="560" name="Alexanderplatz pics" tags="" position="7132,1449" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI1Mzg0OTdf/presse%20caf%C3%A9.jpg&quot;, width=&quot;700&quot;/&gt;]
(click:?img1)[(replace:?img1)[|img2&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI1MTIwOTVf/IMG_20240404_121016878.jpg&quot;, width=&quot;500&quot;/&gt;]]]
(click:?img2)[(replace:?img2)[|img3&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI2NzE1ODJf/alexanderplatz.jpg&quot;, width=&quot;700&quot;/&gt;]]]
(click:?img3)[(replace:?img3)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTI1Mzg0NTZf/IMG_20240306_103944678.jpg&quot;, width=&quot;500&quot;/&gt;-&gt;heart of the city]]]]


</tw-passagedata><tw-passagedata pid="561" name="ostalgie nostalgie" tags="definition" position="6210,1546" size="100,100">|os&gt;[&lt;span style=&quot;font-size: 150%&quot;&gt;Os·t·al·gie&lt;/span&gt;
/Ostalgié/
*Substantiv, feminin [die]*]
(click:?os)[
(replace:?os)[&lt;span style=&quot;font-size: 150%&quot;&gt;[[Nos·t·al·gie-&gt;nostalgie german def]]&lt;/span&gt;
/Nostalgié/
*Substantiv, feminin [die]*]]</tw-passagedata><tw-passagedata pid="562" name="GAhb 2" tags="" position="6408,1745" size="100,100">After German reunification, it became a nightclub called Exit, hosting DJ Tanith&#39;s early events. Eventually, it fell into disuse and was sold to a private firm in 1997. 

&lt;img src=&quot;https://od.lk/s/ODNfNTI1NTY0OTFf/ONMI6227smaller.jpg&quot;/&gt;

Although the restaurant received monument status in 1995, the Senate administration approved its demolition in 1999. 

Despite protests, the Arnhornblatt was finally demolished in 2000. A [[hotel-&gt;hotel today]] was built in it&#39;s place.




</tw-passagedata><tw-passagedata pid="563" name="hotel today" tags="" position="6544,1736" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/FJaSvFn.gif&quot;, width=&quot;650&quot;/&gt;-&gt;lets go spree]]</tw-passagedata><tw-passagedata pid="564" name="humboldt forum" tags="" position="6797,1742" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI1Mzg4OTBf/spree.jpg&quot;, width=&quot;650&quot;/&gt;]
(click:?img1)[
(replace:?img1)[&lt;img src=&quot;https://od.lk/s/ODNfNTI1Mzg4ODhf/humboldt%20forum.jpg&quot;width=&quot;650&quot;/&gt;

Ah... this is the Humboldt Forum, maybe there is some [[interesting exhibition today...-&gt;palast postcard]]]]
</tw-passagedata><tw-passagedata pid="565" name="lets go spree" tags="" position="6655,1753" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTI1Mzg4ODlf/spree%202.jpg&quot;, width=&quot;650&quot;/&gt;

[[let&#39;s go right along the Spree-&gt;humboldt forum]]</tw-passagedata><tw-passagedata pid="566" name="humboldt palast" tags="" position="7128,1765" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/FEX5R4O.gif&quot;, width=&quot;700&quot;/&gt;-&gt;Palast der Republik nostalgie]]</tw-passagedata><tw-passagedata pid="567" name="Palast 2" tags="" position="7394,1760" size="100,100">Built in 1976 over the Old City Palace&#39;s ruins, The venue was meant to be a space for political activity, but also a place for people to meet and [[enjoy themselves.-&gt;Palast 3]]

&lt;img src=&quot;https://od.lk/s/ODNfNTI1Mzk2MTNf/palast%20der%20republic%20nostalgia%205%20bw.jpg&quot;, width=&quot;650&quot;/&gt;</tw-passagedata><tw-passagedata pid="568" name="Palast 3" tags="" position="7505,1773" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTI1Mzg1MzVf/palast%20der%20republic%20nostalgia%204.jpg&quot;, width=&quot;700&quot;/&gt;

With 13 restaurants, a bowling alley, a concert hall, a theater, two discos, a gallery, and more, the Palast quickly became a favorite meeting spot. A place to create happy [[memories...-&gt;Palast demolition]]</tw-passagedata><tw-passagedata pid="569" name="ostalgie questions2" tags="" position="7385,2075" size="100,100">what is being missed?

|txt1&gt;[the architecture?]
(click:?txt1)[(replace:?txt1)[[[the fashion?-&gt; ostalgie questions3]]]]
</tw-passagedata><tw-passagedata pid="570" name=" ostalgie questions3" tags="" position="7368,2225" size="100,100">|txt1&gt;[or is it perhaps the simpleness?]
(click:?txt1)[(replace:?txt1)[|txt2&gt;[the lack of consumerism?]]]
(click:?txt2)[(replace:?txt2)[[[the sense of community?-&gt;ostalgie questions4]]]]
</tw-passagedata><tw-passagedata pid="571" name="went missing" tags="" position="7202,2147" size="100,100">but definitively 
[[something pretty big went missing-&gt;BWL enitre country missing]]</tw-passagedata><tw-passagedata pid="572" name="ostalgie questions4" tags="" position="7368,2375" size="100,100">|txt1&gt;[maybe there was a sense of social security]
(click:?txt1)[(replace:?txt1)[[[(that has to be questioned)-&gt;went missing]]]]</tw-passagedata><tw-passagedata pid="573" name="footage wednesday" tags="" position="6055,2415" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/599olPb.gif&quot;, width=&quot;400&quot;/&gt;-&gt;thursday]]</tw-passagedata><tw-passagedata pid="574" name="yesterday" tags="" position="6231,2395" size="100,100">yesterday I didn&#39;t do much...
but today I think I know exactly what to do [[to feel better-&gt;nostalgia greek definition]]</tw-passagedata><tw-passagedata pid="575" name="this place is empty" tags="" position="6520,2662" size="100,100">&lt;img src=&#39;https://i.imgur.com/lRgj8oc.gif&#39;, width=&quot;400&quot;&gt;

This place
it&#39;s just so
[[empty]]

it&#39;s kind of mesmerizing
</tw-passagedata><tw-passagedata pid="576" name="empty" tags="" position="6467,2796" size="100,100">but
I&#39;m not sure what I feel inside
[[it&#39;s kind of empty too...-&gt;head back]]</tw-passagedata><tw-passagedata pid="577" name="Ost Sbahn" tags="" position="6147,2799" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI1ODY5NDhf/coke%20can%20%282%29.jpg&quot;, width=&quot;650&quot;/&gt;]
(click:?img1)[(replace:?img1)[&lt;img src=&quot;https://od.lk/s/ODNfNTI1ODY5NTlf/coke%20can%20inside.jpg&quot;, width=&quot;650&quot;/&gt;
The wagons today look so old.
[[I wonder...-&gt;Ost Sbahn cans]]]]</tw-passagedata><tw-passagedata pid="578" name="Ost Sbahn cans" tags="" position="6028,2710" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTI1ODY5NTBf/coke%20can%203.jpg&quot;, width=&quot;650&quot;/&gt;

All though one could see them all over the city, the old 485 Sbahn train series were actually a child of the east. 

After World War Two, S-Bahn production in Berlin stopped until 1979 when |DR&gt;[Deutsche Reichsbahn](click:?DR)[
(replace:?DR)[Deutsche Reichsbahn (the state railway of East Germany, which ran S-Bahn trains in both East and West Berlin)]]began designing a new generation of trains. But it wasn&#39;t until the early 1990s when these new models could be seen [[running.-&gt;Ost Sbahn cans2]]
</tw-passagedata><tw-passagedata pid="579" name="head back 2" tags="" position="5642,2808" size="100,100">&lt;img src=&quot;https://i.imgur.com/8gSdP2e.gif&quot;/&gt;

This long train ride, just make me feel so [[nostalgic-&gt;I have to admit]]</tw-passagedata><tw-passagedata pid="580" name="I still miss you" tags="nostalgie" position="5963,2942" size="100,100">[[I still miss you-&gt;nostalgie footage]]</tw-passagedata><tw-passagedata pid="581" name="something that is missing" tags="nostalgie" position="5764,3285" size="100,100">Something inside you that occupied a space
[[it&#39;s no longer there anymore-&gt;an emptyness]]</tw-passagedata><tw-passagedata pid="582" name="an emptyness" tags="nostalgie" position="5917,3308" size="100,100">|txt1&gt;[an emptyness](click:?txt1)[
(replace:?txt1)[[[an empty nest-&gt;an empty nest]]]]</tw-passagedata><tw-passagedata pid="583" name="a temporary autonomous zone" tags="nostalgie" position="5998,3455" size="100,100">but the good thing about emptyness 
is that you have the opportunity to [[fill it in]]</tw-passagedata><tw-passagedata pid="584" name="fill it in" tags="nostalgie" position="5996,3605" size="100,100">and from that empty nest 
[[fly again anew-&gt;lichtenberg station]]</tw-passagedata><tw-passagedata pid="585" name="lichtenberg station" tags="" position="6188,3608" size="100,100">|img1&gt;[&lt;img src=&quot;https://i.imgur.com/oyYmEj8.gif&quot;/&gt;]
(click:?img1)[
(replace:?img1)[Coming out of the station the day suddenly turned so sunny.

I guess this day wasn&#39;t so bad after all.

[[And I hope tomorrow is even better-&gt;pigeons planes]]]]</tw-passagedata><tw-passagedata pid="586" name="pigeons planes" tags="" position="6415,3660" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI2NzExNDFf/Bundesarchiv_Bild_183-R37016%2C_Berlin-Johannisthal%2C_Flugzeuge.jpg&quot;, width=&quot;650&quot;/&gt;]
(click:?img1)[
(replace:?img1)[[[&lt;img src=&quot;https://i.imgur.com/qnu3lgw.gif&quot;/&gt;-&gt;friday]]]]
</tw-passagedata><tw-passagedata pid="587" name="night footage" tags="" position="6038,3935" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/huvWgW8.gif&quot;, width=&quot;400&quot;/&gt;-&gt;alone on the dance floor]]</tw-passagedata><tw-passagedata pid="588" name="oxi 2" tags="" position="6232,3980" size="100,100">I started talking to some guy. He seemed a bit older like around his late fourties. I couldn&#39;t talk too well English and I couldn&#39;t talk too well German. But we did our best. 

He told me he worked in a Medienkooperative outside of Berlin. 

So I showed him a [[video-&gt;oxi 3]] I made for class back in 2022.</tw-passagedata><tw-passagedata pid="589" name="oxi 3" tags="dialogue" position="6232,4130" size="100,100">&lt;img src=&quot;https://i.imgur.com/XaVzXoD.gif&quot;/&gt;


&quot;It&#39;s too personal&quot; I admited
&quot;Ohh but it&#39;s abstract and it looks pretty cool&quot; 

Then we talked a bit about my thesis.

&quot;I want to do something about Berlin, but I don&#39;t know what. I don&#39;t think there is anything about Berlin I can say, I&#39;m not from here, I know nothing.&quot; 
&quot;Hmm...But that is ok! 
I think you should just do your thesis like how you did your video.
Make it personal, [[talk about your own experiences.&quot;-&gt;oxi 4]] </tw-passagedata><tw-passagedata pid="590" name="oxi 4" tags="" position="6232,4280" size="100,100">I don&#39;t remember much else about this conversation. I don&#39;t remember the name of this guy, we didn&#39;t exchange contacts or anything. In fact most likely I won&#39;t see him ever again in my life. 

[[But this conversation inside a club, got stuck in my head.-&gt;oxi 5]]</tw-passagedata><tw-passagedata pid="591" name="oxi 5" tags="" position="6232,4430" size="100,100">In fact

[[none of this would have happend if I didn&#39;t go clubbing that day.-&gt;nostalgie last footage]]</tw-passagedata><tw-passagedata pid="592" name="graves" tags="" position="7315,404" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTI1MTE0NjFf/IMG_20240304_143220021.jpg&quot;, width=&quot;700&quot;/&gt;


|KL&gt;[Karl Liebknecht]
(click:?KL)[(replace:?KL)[German socialist leader and co-founder of the Spartacus League, known for his anti-war activism during World War I and his role in the German Revolution of 1918-1919.]]

|RL&gt;[Rosa Luxemburg]
(click:?RL)[(replace:?RL)[Marxist theorist, economist, and revolutionary socialist, known for her influential writings on capitalism, imperialism, and democracy, as well as her active involvement in the German and international socialist movements of the early 20th century.]]

[[continue biking-&gt;another soviet memorial]]






</tw-passagedata><tw-passagedata pid="593" name="die toten" tags="" position="7162,741" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTI1MTE2MTBf/Gedenkstaette_der_Sozialisten.jpg&quot;,width=&quot;700&quot;/&gt;

|toten&gt;[DIE TOTEN MAHNEN UNS]
(click:?toten)[(replace:?toten)[[[THE DEAD REMIND US-&gt;emptyness inside]]]]</tw-passagedata><tw-passagedata pid="594" name="VPFH winter" tags="newspaper" position="6528,980" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTI1MzQyMDNf/ddrba_000f435.jpg&quot;, width=&quot;650&quot;/&gt;

BERLIN 05.01.1968
Tobogganing in Volkspark Friedrichshain in Berlin, the former capital of the GDR, German Democratic Republic. 
[[Berlin youth with their sledges on the wintry Mont-Klamott.-&gt;nostalgia definition]] 

</tw-passagedata><tw-passagedata pid="595" name="VPFH lake images" tags="" position="6385,993" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI1MzQxOThf/VPFHbw.jpg&quot;, width &quot;700&quot;/&gt;](click:?img1)[(replace:?img1)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTI1MzQxOTdf/VPFH3bw.jpg&quot;, width=&quot;700&quot;/&gt;-&gt;VPFH winter]]]]</tw-passagedata><tw-passagedata pid="596" name="SEZ1" tags="dialogue" position="6763,723" size="100,100">&quot;What&#39;s up with this place?&quot;
&quot;This used to be a public pool I used to go as a kid with my friends. There was an indoor pool, and tobogans, it was pretty cool.&quot;
&quot;But now it&#39;s just abandoned, huh?&quot;
&quot;Yeah.. I think soon they are going to [[demolish-&gt;SEZ2]] it.&quot;


&lt;img src=&quot;https://od.lk/s/ODNfNTI1MzQ4MjRf/berlin-sez-sport-und-erholungszentrum-1987-scaled.jpeg&quot;, width=&quot;600&quot;/&gt;</tw-passagedata><tw-passagedata pid="597" name="SEZ last pic" tags="" position="7022,968" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTI1MzUwNTRf/SEZbw2.jpg&quot;, width=&quot;700&quot;/&gt;-&gt;patience]]</tw-passagedata><tw-passagedata pid="598" name="frankfurter alle pics" tags="" position="6397,1264" size="100,100">
|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI1Mzc0OTRf/frankfurter%20alle%202.jpg&quot;, width=&quot;700&quot;/&gt;]
(click:?img1)[
(replace:?img1)[|img2&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI1Mzc0OTVf/frankfurter%20alle%203.jpg&quot;, width=&quot;700&quot;/&gt;]]]
(click:?img2)[
(replace:?img2)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTI1Mzc0OTZf/frankfurter%20alle.png&quot;, width=&quot;700&quot;/&gt;-&gt;street view2]]]]</tw-passagedata><tw-passagedata pid="599" name="KM Alle pics" tags="" position="6919,1260" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI1Mzc1MDVf/karl%20marx%20alle.jpg&quot;, width=&quot;700&quot;/&gt;]
(click:?img1)[(replace:?img1)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTI1Mzc2MjRf/karl%20marx%20alle%202.jpg&quot;, width=&quot;700&quot;/&gt;-&gt;KM Alle street view]]]]</tw-passagedata><tw-passagedata pid="600" name="kein abriss" tags="" position="6258,1890" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTI1Mzg4NDNf/5.-Protest-Erhalt-Ahornblatt_Anne-Scha%CC%88fer-Junker.jpg&quot;, width=&quot;650&quot;/&gt;

|txt1&gt;[Kein Abriss Baudenkmal! Erhalt des Ahornblatt!]
(click:?txt1)[(replace:?txt1)[[[No demolition of the landmark! Preservation of the Ahornblatt!-&gt;GAhb 2]]]]</tw-passagedata><tw-passagedata pid="601" name="Palast demolition" tags="" position="7782,1821" size="100,100">But after reunification the Palast was closed supposedly due to an asbestos contamination. A few years later the city decided to [[demolish-&gt;Palast protests]] it and build the old city palace instead.</tw-passagedata><tw-passagedata pid="602" name="Palast last pic" tags="" position="7531,2119" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTI1Mzg1MzZf/palast%20der%20republik%20nostagia%201%20%28bw%29.jpg&quot;, width=&quot;700&quot;/&gt;-&gt;ostalgie questions]]</tw-passagedata><tw-passagedata pid="603" name="Palast protests" tags="" position="7608,1974" size="100,100">This of course lead with multiple protests by Ossis which considered the Palast had cultural and historical value. 
Regardless the government decided to demolish the Palace in 2006 and to construct a new bulding with an imitation of the old palaces facade on its place.[[This is how we have Humboldt Forum today.-&gt;Palast last pic]]  

&lt;img src=&quot;https://od.lk/s/ODNfNTI1Mzk2Mjhf/palast%20besetz.jpg&quot;, width=&quot;650&quot;/&gt;

</tw-passagedata><tw-passagedata pid="604" name="head back" tags="" position="6400,2941" size="100,100">[[I guess I should just head back now.-&gt;heading back]]</tw-passagedata><tw-passagedata pid="605" name="nostalgie footage" tags="" position="5925,3110" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/uP83xLg.gif&quot;/&gt;-&gt;nostalgia is an empty feeling]]</tw-passagedata><tw-passagedata pid="606" name="palast postcard" tags="" position="6934,1779" size="100,100">I just got into the souvenir shop adn got this post card

&lt;img src=&quot;https://od.lk/s/ODNfNTI1Mzg0NTlf/CJDE2228.jpg&quot;, width=&quot;650&quot;/&gt;

So this is what the [[Palast der Republik-&gt;humboldt palast]] used to look like...

</tw-passagedata><tw-passagedata pid="607" name="Ost Sbahn cans2" tags="" position="5884,2638" size="100,100">The trains were know as Coke Can because of their paintwork.
For a while, these trains were red with a dark gray strip on the windows. In 2002, they were repainted in the classic S-Bahn colors of red-brown and gold. However the nickname remained between old school locals. 

&lt;img src=&quot;https://od.lk/s/ODNfNTI1ODY5NTRf/coke%20can%204.jpg&quot;, width=&quot;650&quot;/&gt;

2023 is the last year where you could see these trains on S8 and S46. They&#39;re last day is scheduled for the 12 of November of [[2023.-&gt;Ost Sbahn can pic]] </tw-passagedata><tw-passagedata pid="608" name="I have to admit" tags="nostalgie" position="5762,2964" size="100,100">I guess I just have to [[admit it-&gt;I still miss you]]</tw-passagedata><tw-passagedata pid="609" name="Ost Sbahn can pic" tags="" position="5764,2678" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTI1ODY5NTdf/coke%20can%205%20bw.jpg&quot;, width=&quot;650&quot;/&gt;-&gt;head back 2]]</tw-passagedata><tw-passagedata pid="610" name="planes LJ" tags="" position="6378,2673" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTI2NzExNDJf/Flugplatz-Johannisthal-Start-Deutscher-Rundflug-%201911.jpg&quot;, width=&quot;800&quot;/&gt;-&gt;this place is empty]]</tw-passagedata><tw-passagedata pid="611" name="nostalgie last footage" tags="" position="6232,4580" size="100,100">&lt;img src=&quot;https://i.imgur.com/T94z16X.gif&quot;/&gt;

&lt;span style=&quot;font-size: 150%&quot;&gt;(align:&quot;==&gt;&quot;)+(box:&quot;=========XXXXXXXXXX=&quot;)[continue in &quot;reconnection&quot;]&lt;/span&gt;</tw-passagedata><tw-passagedata pid="612" name="alone on the dance floor" tags="" position="6247,3797" size="100,100">[[I was again alone on the dance floor-&gt;oxi club]]</tw-passagedata><tw-passagedata pid="613" name="september opening stations" tags="" position="8047,340" size="100,100">In september 1990 more ghost stations from the sbahn Line 1 reopened:

&lt;img src=&quot;https://i.imgur.com/ErDqsqq.gif&quot;, width=&quot;700&quot;/&gt;


[[Unten den Linden]]
and
[[Nordbahnhof]]
</tw-passagedata><tw-passagedata pid="614" name="Unten den Linden" tags="newspaper" position="7822,515" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTI3NjE4NTFf/unten%20den%20linden.jpg&quot;, width=&quot;600&quot;/&gt;

Press picture 32071
S-Bahn train of line S2 and class 475 entering the tracks of the S-Bahn station &quot;Unter den Linden&quot; in the district of Mitte in Berlin East Berlin in the area of the former GDR, German Democratic Republic
[[BERLIN 04.09.1990-&gt;Unten den Linden exit]]

</tw-passagedata><tw-passagedata pid="615" name="Nordbahnhof" tags="" position="8165,511" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTI3NjE4NTRf/nordbahnhof%20%282%29.jpg&quot;, width=&quot;500&quot;/&gt;-&gt;Nordbahnhof exhibition]]

</tw-passagedata><tw-passagedata pid="616" name="Nordbahnhof exhibition" tags="" position="8055,679" size="100,100">Today in Nordbahnhof there is a permanent [[exhibition-&gt;Nordbahnhof exhibition pics]] about the ghost stations.

&lt;img src=&quot;https://od.lk/s/ODNfNTI3NjUwNzJf/ghost%20station%20exhibiton%201.JPG&quot;, width=&quot;700&quot;/&gt;</tw-passagedata><tw-passagedata pid="617" name="Nordbahnhof exhibition pics" tags="" position="8063,835" size="100,100">The exhibition gives a very illustrative view on the division showing maps and photographs on the condition of the stations. 

[[&lt;img src=&quot;https://od.lk/s/ODNfNTI3NjUwNjlf/ghost%20station%20exhibition%202.jpg&quot;, width=&quot;650&quot;/&gt;-&gt;Nordbahnhof exhibition pics 2]]</tw-passagedata><tw-passagedata pid="618" name="Nordbahnhof exit" tags="" position="8028,994" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTI3NjE4NDlf/nordbahnhof.jpg&quot;, width=&quot;500&quot;/&gt;

[[Check out Unten den Linden?-&gt;Unten den Linden]]
[[Continue-&gt;september image]]</tw-passagedata><tw-passagedata pid="619" name="Unten den Linden exit" tags="" position="7846,988" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTI3NjkxODVf/unten%20den%20linden%20sbahn.jpg&quot;, width=&quot;500&quot;/&gt;

[[Check out Nordbahnhof?-&gt;Nordbahnhof]]
[[Continue-&gt;september image]]</tw-passagedata><tw-passagedata pid="620" name="september image" tags="" position="7878,1290" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTI1MTEzOThf/IMG_20230918_190735709.jpg&quot;, width=&quot;650&quot;/&gt;

[[And so september came]]</tw-passagedata><tw-passagedata pid="621" name="And so september came" tags="" position="7878,1440" size="100,100">

One would think that summer would by dying out by now.
But it hasn&#39;t
In fact, I think it’s in its [[highest point.]]</tw-passagedata><tw-passagedata pid="622" name="highest point." tags="" position="8035,1568" size="100,100">You know how the sun is the redest when it&#39;s about to set?
That&#39;s how I feel this month like:
The dusk of summer

&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODA0Mjhf/red%20sunset.jpg&quot;, width=&quot;500&quot;/&gt;

It&#39;s about to end
but the sun is giving it all
[[there hasn&#39;t been any gray days in a while]] </tw-passagedata><tw-passagedata pid="623" name="there hasn&#39;t been any gray days in a while" tags="" position="8035,1720" size="100,100">I suddenly feel alive again
I&#39;m working again on my thesis
and I think I know exactly [[what I want to do-&gt;A story and a game about Berlin]]</tw-passagedata><tw-passagedata pid="624" name="A story and a game about Berlin" tags="" position="8035,1870" size="100,100">A story and a game of Berlin
A bit of both
Because
History has its playful part too
[[Don&#39;t you think?-&gt;there was no east or west]]</tw-passagedata><tw-passagedata pid="625" name="there was no east or west" tags="" position="8035,2020" size="100,100">(align:&quot;==&gt;&quot;)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODM1ODlf/There%20was%20no%20east....jpg&quot;/&gt;-&gt;choose your streaming]]]</tw-passagedata><tw-passagedata pid="626" name="choose your streaming" tags="" position="8035,2168" size="100,100">(text-style:&quot;bold&quot;)[Choose your playlist]
(or streaming service)

&lt;a href=&quot;https://open.spotify.com/playlist/798HTvvTGV5JEqRvdWbLAY?si=5ce29a0d294445b0&quot; target=&quot;_blank&quot;&gt;spotify&lt;/a&gt;

&lt;a href=&quot;https://soundcloud.com/june-audi-rac/sets/berlin-passages-reconnection?si=f47938e1a74845268e67a29b7fcbb225&amp;utm_source=clipboard&amp;utm_medium=text&amp;utm_campaign=social_sharing&quot; target=&quot;_blank&quot;&gt;soudcloud&lt;/a&gt;

Oh! and remember to come back to
[[continue-&gt;last two stations]]</tw-passagedata><tw-passagedata pid="627" name="last two stations" tags="" position="8035,2318" size="100,100">The last two ghost stations to reopen were Bornholmer Strasse in December 1990

and Postdamer Platz in March [[1992]]

&lt;img src=&quot;https://i.imgur.com/hPJRhpL.gif&quot;, width=&quot;700&quot;/&gt;</tw-passagedata><tw-passagedata pid="628" name="1992" tags="" position="8035,2469" size="100,100">With that the transport system was completly reconnected again.

But reunification was still in its making

[[There were still pathways that needed to be rebuilt.-&gt;tillman last page article 1]]</tw-passagedata><tw-passagedata pid="629" name="tillman last page article 1" tags="" position="8035,2616" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODM2NDdf/love%20parade%20last%20page%201.jpg&quot;, width=&quot;700&quot;/&gt;]
(click:?img1)[
(replace:?img1)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODM2NDhf/love%20parade%20last%20page%202.jpg&quot;, width=&quot;700&quot;/&gt;-&gt;oberbaumbrucke reconstruction]]]]

</tw-passagedata><tw-passagedata pid="630" name="oberbaumbrucke reconstruction" tags="" position="8033,2766" size="100,100">Oberbaumbrücke was on of the main crossing points during the first days of the reunification. 
After that emblematic night of 
&#39;&#39;8th of November of 1989&#39;&#39;
Thousands of East Berliners crossed the [[bridge-&gt;oberbaumbrucke reconstruction 3]] to get to the West.

&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODM2NTZf/oberbaumbrucke%201989.jpg&quot;,width=&quot;600&quot;/&gt;</tw-passagedata><tw-passagedata pid="631" name="closing of the famous Ring" tags="" position="8035,2916" size="100,100">It sounded great, but surprisingly enough, 
this reconstruction confronted [[resistance-&gt;ob plakats]]</tw-passagedata><tw-passagedata pid="632" name="ob plakats" tags="" position="8035,3068" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODM4OTBf/plakat.jpg&quot;, width=&quot;650&quot;/&gt;]
(click:?img1)[
(replace:?img1)[|img2&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODM4ODlf/plakat%20trad.jpg&quot;, width=&quot;650&quot;/&gt;]]]
(click:?img2)[
(replace:?img2)[|img3&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODM4ODhf/plakat%203.jpg&quot;, width=&quot;650&quot;/&gt;]]]
(click:?img3)[
(replace:?img3)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODM4ODdf/plakat%203%20trad.jpg&quot;, width=&quot;650&quot;/&gt;-&gt;Bruckenini]]]]</tw-passagedata><tw-passagedata pid="633" name="Bruckenini" tags="" position="8035,3218" size="100,100">On July 4, 1992, the Oberbaum Bridge became a symbol of resistance, occupied by the group known as the &quot;Brückenini.&quot;

&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODM2Njhf/occupation%20oberbaum%204.jpg&quot;/&gt;

Their mission: to prevent the completion of the inner city ring, a development that would signal Berlin&#39;s transformation into the capital and potentially [[displace long-standing Kreuzberg residents-&gt;Bruckenini pic]].</tw-passagedata><tw-passagedata pid="634" name="Bruckenini 2" tags="" position="8035,3368" size="100,100">The occupation of the Oberbaum Bridge was just one of many actions that aimed to stop gentrification. 

&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODM5Mzlf/oberbaum%20sink%20ship.jpg&quot;/&gt;


From loud demonstrations to the bold act of burning excavators and even sinking a construction ship, the movement lasted [[till 1994.-&gt;ob plakat 2]]</tw-passagedata><tw-passagedata pid="635" name="Bruckenini 3" tags="" position="8035,3516" size="100,100">The movement was of course repressed, and on November 9, 1994, 
the bridge was ceremoniously opened to car traffic. 

[[It was inevitable.-&gt;Bruckenini raid pics]] </tw-passagedata><tw-passagedata pid="636" name="Bruckenini 4" tags="" position="8031,3668" size="100,100">But the occupation of the Oberbaumbrücke will be remembered an outstanding point in the history of squatting and counterculture resistance against gentrification in Berlin.

&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODM5NDBf/occupation%20oberbaum%207.jpg&quot;/&gt;

[[In an anarchic time where everything was possible-&gt;Bruckenini last pic]].</tw-passagedata><tw-passagedata pid="637" name="Changes would continue" tags="" position="8033,3818" size="100,100">After those &quot;first days of Berlin&quot;
Changes would continue, 
and Berlin would become the [[capital-&gt;tillman last page article 2]] it is today.</tw-passagedata><tw-passagedata pid="638" name="XB FH unified" tags="" position="8033,4118" size="100,100">In 2001 Kreuzberg from the West and Frierichshain from the Eastern were united into a single Bezirk.
Geographicly and perhaps culturally, this didn’t seem to make much sense 
Some residents were even comfortable about this.

Even the two areas couldn’t really agree on where to place the future borough&#39;s city hall. [[So it was decided by flipping a five-Mark coin.-&gt; XB FH unified 2]]</tw-passagedata><tw-passagedata pid="639" name="2000&#39;s" tags="title" position="8034,3971" size="100,100">[[2000&#39;s-&gt;XB FH unified]]

&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODQzNzJf/Oberbaumbr%C3%BCcke_neues_Mittelteil.jpeg&quot;, width=&quot;900&quot;/&gt;</tw-passagedata><tw-passagedata pid="640" name=" XB FH unified 2" tags="" position="8033,4268" size="100,100">Anyway, the official decision was made
the political map changed. 
And a funny thing.
XB and FH together
They kind of look like a [[heart-&gt;XB FH map]]</tw-passagedata><tw-passagedata pid="641" name="XB FH map" tags="" position="8032,4418" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/2DRxvL7.gif&quot;, width=&quot;700&quot;/&gt;-&gt;bridge]]</tw-passagedata><tw-passagedata pid="642" name="Warschauer Strasse" tags="" position="8032,4568" size="100,100">And yes, Oberbaumbrücke has not been occupied again. Gentrification happened, and [[Warschauer Strasse-&gt;the real symbol of Berlin]] is possibly the number-one touristic hotspot for party. 

&lt;img src=&quot;https://i.imgur.com/TrROSfT.gif&quot;/&gt;</tw-passagedata><tw-passagedata pid="643" name="the real symbol of Berlin" tags="" position="8032,4718" size="100,100">But still the bridge is a beloved landmark.

It may not be as popular as the Brandeburger Gate, nor the column of Victory, or the Television tower. 
But for me, it represents the union of East and West.
[[And this is the real symbol of Berlin.-&gt;Oberbaumbrucke postcard]]</tw-passagedata><tw-passagedata pid="644" name="Oberbaumbrucke postcard" tags="" position="8032,4868" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODQzMDZf/ETXP7102.JPG&quot;, width=&quot;650&quot;/&gt;-&gt;30 years of reunification]]</tw-passagedata><tw-passagedata pid="645" name="2023..." tags="title" position="8017,5211" size="100,100">|txt1&gt;[2023](click:?txt1)[(replace:?txt1)[|txt2&gt;[2024]]]
(click:?txt2)[(replace:?txt2)[|txt3&gt;[2025]]]
(click:?txt3)[(replace:?txt3)[|txt4&gt;[...]]]
(click:?txt4)[(replace:?txt4)[[[?-&gt;choose a story]]]]</tw-passagedata><tw-passagedata pid="646" name="30 years of reunification" tags="" position="8015,5023" size="100,100">So It’s been more than 35 years of reunification already

We’ve had our ups and downs, and the city continues to change constantly.

Of course it’s not perfect, but we’re hanging here, and there are many things to look forward in the future

[[Do you want to know whats been going on lately?-&gt;2023...]]</tw-passagedata><tw-passagedata pid="647" name="choose a story" tags="" position="9581,1955" size="100,100">Choose a sticker?

[[&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODQ3MTFf/sticker%20spreepark%20tlt.png&quot;/&gt;-&gt;spreepark]]

[[&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODQ3MTJf/sticker%20squatting.png&quot;/&gt;-&gt;squatting today]]

[[&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODQ3MTNf/sticker%20techno%20tilt.png&quot;/&gt;-&gt;club unesco heritage]]

[[Hmm no thank you-&gt;berlin wall down]]</tw-passagedata><tw-passagedata pid="648" name="squatting today" tags="" position="9565,2142" size="100,100">Today we can still see squatted buildings here and there in Berlin. 

&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODQ1ODhf/squatt.png&quot;, width=&quot;500&quot;/&gt;

This actually one I found randomly while biking in the [[city center.-&gt;Linienstrasse]]
</tw-passagedata><tw-passagedata pid="649" name="club unesco heritage" tags="" position="10115,2225" size="100,100">In 2019 according to the Clubcommission Berlin, dance clubs in the city currently generate around €1.5 billion ($1.66 billion) annually.

&lt;img src=&quot;https://i.imgur.com/Ktzf8KQ.gif&quot;/&gt;

However, the city&#39;s nightlight faced increased struggles due to the Covid-19 pandemic, [[rising costs and stagnant wages.-&gt; club unseco heritage 2]]</tw-passagedata><tw-passagedata pid="650" name="spreepark" tags="" position="9097,2218" size="100,100">In 2014, Berlin regained ownership of Spreepark and kickstarted a project to revitalize it. 
In 2016, they began planning, inviting citizens to share ideas. 
This collaborative effort led to the renovation of the park and set the stage for [[further development.-&gt;spreepark 2]]

&lt;img src=&quot;https://od.lk/s/ODNfNTIzMjgxMTBf/spreepark.jpg&quot;, width=&quot;700&quot;/&gt;</tw-passagedata><tw-passagedata pid="651" name="spreepark 2" tags="" position="9097,2370" size="100,100">Meticulous planning and preparatory construction started, paying particular attention to safety and environmental concerns. Among the objectives of the project were to remediate arsenic damage, and do a proper economic feasibility study and [[traffic planning.-&gt;spreepark 3]]

&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODcyNjhf/spreepark%20future.jpg&quot;, width=&quot;650&quot;/&gt;</tw-passagedata><tw-passagedata pid="652" name="spreepark 3" tags="" position="9095,2520" size="100,100">By December 2023, the iconic Eierhäuschen was refurbished, serving as a combined restaurant and art space. [[Perfect to nurture creativity and community engagement.-&gt;spreepark 4]]

&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODcyNzBf/Lokal-Eierh%C3%A4uschen-Spreepark-Berlin.jpg&quot;, width=&quot;700&quot;/&gt;</tw-passagedata><tw-passagedata pid="653" name="spreepark 4" tags="" position="9098,2670" size="100,100">The vision is to complete the transformed Spreepark by 2026: with restored attractions, green spaces, and cultural activities. 

&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODcyNjNf/spreepark%20future%203.jpg&quot;, width=&quot;700&quot;/&gt;

The new Spreepark hopes to create a vibrant, sustainable destination for locals and visitors alike, marking a significant milestone in [[Berlin&#39;s urban renewal efforts.-&gt;choose another story]]</tw-passagedata><tw-passagedata pid="654" name="choose another story" tags="" position="9592,4119" size="100,100">choose another sticker (story)?

[[&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODQ3MTFf/sticker%20spreepark%20tlt.png&quot;/&gt;-&gt;spreepark]]

[[&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODQ3MTJf/sticker%20squatting.png&quot;/&gt;-&gt;squatting today]]

[[&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODQ3MTNf/sticker%20techno%20tilt.png&quot;/&gt;-&gt;club unesco heritage]]


[[No, let&#39;s just continue-&gt;berlin wall down]]</tw-passagedata><tw-passagedata pid="655" name=" club unseco heritage 2" tags="" position="10164,2459" size="100,100">For this reason Rave The Planet in 2021 applied to have it listed as part of [[UNESCO&#39;s Intangible Cultural Heritage.-&gt;application video]]</tw-passagedata><tw-passagedata pid="656" name="and finally it happened" tags="" position="10125,2609" size="100,100">|txt1&gt;[&lt;span style=&quot;font-size: 120%&quot;&gt;And finally&lt;/span&gt;](click:?txt1)[(replace:?txt1)[|txt2&gt;[&lt;span style=&quot;font-size: 170%&quot;&gt;on the 13th of march 2024&lt;/span&gt;]](click:?txt2)[(replace:?txt2)[[[&lt;span style=&quot;font-size: 270%&quot;&gt;it happened!&lt;/span&gt;-&gt;Unesco added it]]]]]
</tw-passagedata><tw-passagedata pid="657" name="news were announces" tags="" position="10164,2759" size="100,100">The news were announced in [[social media-&gt;social media club comission]] and celebrated between ravers. 
</tw-passagedata><tw-passagedata pid="658" name="Linienstrasse" tags="" position="9565,2292" size="100,100">
&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODQ1ODNf/linienstrasse%20206.jpeg&quot;, width=&quot;600&quot;/&gt;

[[Linienstrasse 206, Mitte]]</tw-passagedata><tw-passagedata pid="659" name="beyond empty buildings" tags="" position="9565,2442" size="100,100">But beyond empty buildings the squatting movement is still alive and resisting on 
[[both hemispheres of Berlin-&gt;squatting today East West]]. </tw-passagedata><tw-passagedata pid="660" name="squatting today East West" tags="" position="9563,2592" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTIzMjgwNDZf/berlin%20east%20west.jpg&quot;, width=&quot;650&quot;/&gt;

[[West-&gt;XB squatting]]/[[East-&gt;PB squatting]]</tw-passagedata><tw-passagedata pid="661" name="XB squatting" tags="" position="9490,2742" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTIzMjgwNDRf/berlin%20east%20west%20XB.jpg&quot;, width=&quot;650&quot;/&gt;

[[Kreuzberg-&gt;Liebig 34 pic]]</tw-passagedata><tw-passagedata pid="662" name="PB squatting" tags="" position="9641,2742" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODcyODZf/berlin%20east%20west%20PB.jpg&quot;, width=&quot;650&quot;/&gt;

[[Prenzlauer Berg-&gt;Tuntenhaus]]</tw-passagedata><tw-passagedata pid="663" name="Liebig 34 quote" tags="" position="9481,2900" size="100,100">

(text-colour:red)[“We will not surrender. And even if they drag us out of our homes. We will return. And we will take back what is taken from us.”

Words from the [[Liebig 34 squatt-&gt;Liebig 14 2011]] on October 9, 2020, at 04:00 am.]</tw-passagedata><tw-passagedata pid="664" name="Liebig 14 2011" tags="" position="9490,3038" size="100,100">On February 2, 2011, the house project Liebig14 was [[raided.-&gt;Liebig 34 2020]]

&lt;img src=&quot;https://od.lk/s/ODNfNTI3OTIzNDNf/liebig%2014%202011.jpg&quot;, width=&quot;600&quot;/&gt;</tw-passagedata><tw-passagedata pid="665" name="Liebig 34 quote 2" tags="" position="9490,3192" size="100,100">(text-colour:red)[“The evictions were attacks on our struggles to shape our lives and places of living in a self-determined way and from below. They were attacks on our collective organizing against sexist violence and capitalist patriarchy.”

Liebig 34 [[2020-&gt;Liebig 2]]]</tw-passagedata><tw-passagedata pid="666" name="Liebig 2" tags="" position="9490,3342" size="100,100">On October 9, 2023, activists commemorated the third anniversary of the eviction of Liebig34 by occupying two vacant apartments in Liebig14.

&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODQ1ODBf/Liebigstrasse.jpg&quot;, width=&quot;600&quot;/&gt;

They erected barricades in the streets, expressed solidarity with other squatters and affirmed their commitment to creating spaces based on [[mutual aid, self-organization, and autonomy.-&gt;liedig 2023 raiding]]</tw-passagedata><tw-passagedata pid="667" name="Liebig quote 3" tags="" position="9507,3787" size="100,100">(text-colour:red)[“We cannot turn back time, but the memory of struggles that were fought lives in our steps today. We draw strength from the awareness of our history, not because we wish the past back but because in what we do today, tomorrow shines through. Because we seek new ways and spaces to put our ideas of self-organization, [[mutual aid and autonomy into practice-&gt;go east squats]].”

- Liebig 34 October 22nd, 2023]</tw-passagedata><tw-passagedata pid="668" name="go east squats" tags="" position="9522,3937" size="100,100">go East?

[[Yes!-&gt;PB squatting]]
[[Ne-&gt;choose another story]]</tw-passagedata><tw-passagedata pid="669" name="Tuntenhaus" tags="" position="9640,2892" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODcyOTFf/tuntenhaus%20kastanienalle.jpg&quot;, width=&quot;400&quot;/&gt;

The [[Tuntenhaus-&gt;first Tuntenhaus]] is one of the currently active alternative housing projects, which is also a significant part of Berlin&#39;s LGBTQ+ community.</tw-passagedata><tw-passagedata pid="670" name="Tuntenhaus today" tags="" position="9640,3042" size="100,100">Currently, Tuntenhaus is situated at Kastanienallee 86 in the Prenzlauer Berg district. Originally a squatted building, it was legalized and now serves as an alternative residential project. 

&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODcyOTJf/tuntehaus%20heute%202.jpg&quot;, width=&quot;500&quot;/&gt;

Despite being less politically oriented than its predecessors, residents engage in various [[political and cultural initiatives.-&gt;Tuntenhaus threatened]]</tw-passagedata><tw-passagedata pid="671" name="Tuntenhaus threatened" tags="" position="9640,3192" size="100,100">But now in 2024, the Tuntenhaus is being threatened to be [[evicted again.-&gt;Tuntenhaus feb 2024]]</tw-passagedata><tw-passagedata pid="672" name="Tuntenhaus feb 2024" tags="" position="9640,3342" size="100,100">|txt1&gt;[February 2024]
(click:?txt1)[
(replace:?txt1)[The legal owner did not make an offer to buy the house themselves, but nstead, decided to sell the house to an unknown private person. Since then, the [[activists have been fighting to avoid being evicted from their house again.-&gt;Tuntenhaus march 2024]]]]</tw-passagedata><tw-passagedata pid="673" name="Tuntenhaus march 2024" tags="" position="9640,3492" size="100,100">|txt1&gt;[March 2024]
(click:?txt1)[
(replace:?txt1)[Public support for preserving the Tuntenhaus started to grow quickly. There were discussions with politicians from various parties are ongoing and calls for Senate support. The cooperative&#39;s financing plan has been submitted, but there&#39;s still a [[significant funding gap to address.-&gt;Tuntenhaus april 2024]]]]</tw-passagedata><tw-passagedata pid="674" name="Tuntenhaus april 2024" tags="" position="9640,3642" size="100,100">|txt1&gt;[April 2024]
(click:?txt1)[
(replace:?txt1)[The “Urban Development, Building and Housing Committee&quot; had a meeting on April 8 and  April 10. 
But without reaching a clear proposal.

Tuttenhaus demands that the Berlin Senate ensures the proteccion of the [[Tutenhaus by the end of April at the latest!-&gt;tuntenhaus last plakat]]]]</tw-passagedata><tw-passagedata pid="675" name="tuntenhaus end" tags="" position="9640,3792" size="100,100">By 30.04.2024

We still have no news on what the Senate decided to do with the 
[[Tuntenhaus.-&gt;tuntenhaus 2024 pic]]</tw-passagedata><tw-passagedata pid="676" name="go west squats" tags="" position="9640,3942" size="100,100">go West?

[[Yes!-&gt;XB squatting]]
[[Ne-&gt;choose another story]]</tw-passagedata><tw-passagedata pid="677" name="walls were torn down" tags="" position="9567,4523" size="100,100">|txt1&gt;[Walls were torn down](click:?txt1)[
(replace:?txt1)[|txt2&gt;[Ghost stations were reopened]]](click:?txt2)[
(replace:?txt2)[[[Bridges were reconstructed-&gt;but beyond all]]]]</tw-passagedata><tw-passagedata pid="678" name="BC last quote" tags="" position="9279,4701" size="100,100">(text-colour:cyan)[&quot;Only much later did I come to realize how East and West Ber- lin were linked in ways invisible to the eye. And in both Berlins, subculture, everyday life, and against-the-grain politics were tightly intertwined. The political context of the Cold War lent painting, fashion, and experimental music urgency and rele- vance. In Berlin, squats were art, and art was part of a larger political project.&quot;

Paul Hockenos, [[//Berlin Calling//-&gt;BWL last pic]]]

</tw-passagedata><tw-passagedata pid="679" name="BWL last pic" tags="" position="9425,4718" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTI3OTIzNDZf/QLSO0845.JPG&quot;, width=&quot;750&quot;/&gt;-&gt;So on both sides]]</tw-passagedata><tw-passagedata pid="680" name="it took me a while" tags="" position="9782,4871" size="100,100">&lt;span style=&quot;font-size: 150%&quot;&gt;So it took me a while...
[[but I really like this city-&gt;I don&#39;t live]]&lt;span/&gt;</tw-passagedata><tw-passagedata pid="681" name="i do belong here" tags="" position="9574,5150" size="100,100">But I do think I belong here
and I’m not planning to leave any time soon. 
I do have to finish a thesis after all. 
[[I’m working on it-&gt;something to fix]]</tw-passagedata><tw-passagedata pid="682" name="something to fix" tags="" position="9574,5300" size="100,100">&lt;span style=&quot;font-size: 150%&quot;&gt;[[But there is something else I need to fix as well.-&gt;death strip pic]]&lt;span/&gt;</tw-passagedata><tw-passagedata pid="683" name="death strip pic" tags="" position="9884,5033" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTI3OTM5NTJf/deathstrip.jpeg&quot;, width=&quot;700&quot;/&gt;-&gt;chapel of reconciliation]]

</tw-passagedata><tw-passagedata pid="684" name="chapel of reconciliation" tags="" position="9884,5185" size="100,100">In the summer of 1990 the removal of the border fortifications began, soon enough nature took over, and the death strip was overgrown with grass and shrubs.
 
The Reconciliation Parish decided to use the land where Church of Reconciliation once stood, [[to commemorate its past and willst towards the future.-&gt;chapel of reconciliation 2]]

&lt;img src=&quot;https://od.lk/s/ODNfNTI4MDAzNDFf/chapel%20of%20reconciliation%20plano.jpg&quot;, width=&quot;700&quot;/&gt;</tw-passagedata><tw-passagedata pid="685" name="chapel of reconciliation 2" tags="" position="9884,5335" size="100,100">The result was to build a Chapel on the site; a modern construction that considered [[ecological and historical-&gt;chapel of reconciliation 2.2]] concerns as well as the needs of its parishioners.

&lt;img src=&quot;https://od.lk/s/ODNfNTI4MDAzMzlf/chapel%20of%20reconciliation%20%283%29.jpg&quot;, width=&quot;600&quot;/&gt;


</tw-passagedata><tw-passagedata pid="686" name="reconciliation pic" tags="" position="9884,5635" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTI3OTM5NTBf/chapel%20sculpture.jpeg&quot;, width=&quot;650&quot;/&gt;-&gt;going to lake]]</tw-passagedata><tw-passagedata pid="687" name="going to lake" tags="" position="10102,5910" size="100,100">That month of september we went to a lake in the western side of the city. 
We took the Ringbahn to go to a station called Messe Nord and from there waited for our bus to take the route [[number 218]].

&lt;img src=&quot;https://od.lk/s/ODNfNTI4MTEzMTdf/Grunewald.jpg&quot;, width=&quot;400&quot;/&gt;

</tw-passagedata><tw-passagedata pid="688" name="going to lake 3" tags="" position="10102,6360" size="100,100">There by the tower we walked a bit and took a spot right next to  the lake.
It was so empty and quiet.
There were even swans there.

[[I guess this side of the city is pretty too.-&gt;lake pic]] </tw-passagedata><tw-passagedata pid="689" name="lake pic" tags="" position="10097,6510" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTI4MTEyMzNf/lake.jpg&quot;, width=&quot;700&quot;/&gt;

We stayed there till the sun set. 
beyond the lake over the [[horizon.-&gt;Fun fact about the sun]]

</tw-passagedata><tw-passagedata pid="690" name="going to lake 4" tags="" position="10099,6689" size="100,100">It was already dark when we walked back to the station and waited for our bus. 

&lt;img src=&quot;https://od.lk/s/ODNfNTI4MTEyNjhf/messe%20bus%20nacht.jpg&quot;, width=&quot;600&quot;/&gt;

It was again an old one. Later I learned that this model is actually called the [[Tradition Bus.-&gt;going to lake 5]]</tw-passagedata><tw-passagedata pid="691" name="going to lake 5" tags="" position="10108,6870" size="100,100">It started to rain, but it was not cold at all.
I really like these warm rains. 
We left the forest and got again into the [[city.-&gt;happy]]
</tw-passagedata><tw-passagedata pid="692" name="last lake pic" tags="" position="10124,7170" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTI4MTEzMjJf/oberbaumbrucke%20night.jpg&quot;, width=&quot;800&quot;/&gt;-&gt;Menschen]]</tw-passagedata><tw-passagedata pid="693" name="Menschen" tags="" position="11111,3165" size="100,100">|txt1&gt;[&lt;span style=&quot;font-size: 150%&quot;&gt;Menschen&lt;/span&gt;](click:?txt1)[(replace:?txt1)[&lt;span style=&quot;font-size: 150%&quot;&gt;Menschen&lt;/span&gt;
|txt2&gt;[humans]]](click:?txt2)[(replace:?txt2)[
|txt3&gt;[siblings]]](click:?txt3)[(replace:?txt3)[
|txt4&gt;[friends]]](click:?txt4)[(replace:?txt4)[
|txt5&gt;[family]]](click:?txt5)[(replace:?txt5)[
[[lovers-&gt;there will always be confrontation]]]]</tw-passagedata><tw-passagedata pid="694" name="there will always be confrontation" tags="" position="11106,3325" size="100,100">
There will always be confrontation
and these may lead to [[separation-&gt;something I&#39;ve learned]].</tw-passagedata><tw-passagedata pid="695" name="sepparation is not the end" tags="" position="11113,3465" size="100,100">&#39;&#39;Separation&#39;&#39;
|txt1&gt;[is not the end]
(click:?txt1)[
(replace:?txt1)[is an opportunity to channel with [[yourself]]]]</tw-passagedata><tw-passagedata pid="696" name="once you are ready" tags="" position="11113,3615" size="100,100">and once you are ready
you can try to |txt1&gt;[find the other]
(click:?txt1)[
(replace:?txt1)[find [[connection]] again]]
</tw-passagedata><tw-passagedata pid="697" name="am I too idealistic" tags="" position="11113,3766" size="100,100">[[am I too idealistic?-&gt;maybe]]

</tw-passagedata><tw-passagedata pid="698" name="and sure" tags="" position="11583,3818" size="100,100">|txt1&gt;[And sure](click:?txt1)[(replace:?txt1)[conflict will [[come back again]]]]
</tw-passagedata><tw-passagedata pid="699" name="circles" tags="" position="11113,4065" size="100,100">|txt1&gt;[you disconnect](click:?txt1)[(replace:?txt1)[|txt2&gt;[and then]]](click:?txt2)[(replace:?txt2)[
|txt3&gt;[relocate]]](click:?txt3)[(replace:?txt3)[
|txt4&gt;[discover]]](click:?txt4)[(replace:?txt4)[
|txt5&gt;[occupy]]](click:?txt5)[(replace:?txt5)[
[[[[celebrate-&gt;face difficult moments]]]]]]
</tw-passagedata><tw-passagedata pid="700" name="face difficult moments" tags="" position="11113,4215" size="100,100">|txt1&gt;[face difficult moments](click:?txt1)[(replace:?txt1)[
|txt2&gt;[neglection]]](click:?txt2)[(replace:?txt2)[|txt3&gt;[nostalgia]]](click:?txt3)[(replace:?txt3)[
|txt4&gt;[Then you come back]]](click:?txt4)[(replace:?txt4)[|txt5&gt;[reconnect a new]]](click:?txt5)[(replace:?txt5)[|txt6&gt;[a different and grown individual]]](click:?txt6)[(replace:?txt6)[[[[[and let the cycle come back again.-&gt;can be madening right?]]]]]]</tw-passagedata><tw-passagedata pid="701" name="can be madening right?" tags="" position="11113,4365" size="100,100">&lt;span style=&quot;font-size: 150%&quot;&gt;|txt1&gt;[Can be madening right?]&lt;/span&gt; 
(click:?txt1)[
(replace:?txt1)[[[but isn&#39;t it fascinating as well?-&gt;life and history]]]]
</tw-passagedata><tw-passagedata pid="702" name="life and history" tags="" position="11113,4515" size="100,100">Life and History 
|txt1&gt;[They are not a straight line]
(click:?txt1)[
(replace:?txt1)[[[They are a neverending flow of ups and downs-&gt;but as humans]]]]

</tw-passagedata><tw-passagedata pid="703" name="but as humans" tags="" position="11113,4665" size="100,100">but as humans
we can [[always]] overcome these</tw-passagedata><tw-passagedata pid="704" name="always" tags="" position="11113,4815" size="100,100">


|txt1&gt;[&lt;span style=&quot;font-size: 250%&quot;&gt;always&lt;/span&gt;]
(click:?txt1)[
(replace:?txt1)[&lt;span style=&quot;font-size: 150%&quot;&gt;[[and find-&gt;peace joy and pancakes??]]&lt;/span&gt;]]</tw-passagedata><tw-passagedata pid="705" name="peace joy and pancakes??" tags="title" position="11111,4965" size="100,100">|JOY&gt;[joy](click:?JOY)[(replace:?JOY)[|PEACE&gt;[peace](click:?PEACE)[(replace:?PEACE)[|and&gt;[and]]](click:?and)[(replace:?and)[[[pancakes??-&gt;last love parade footage]]]]]]</tw-passagedata><tw-passagedata pid="706" name="last love parade footage" tags="" position="11113,5115" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/XuLesdl.gif&quot;/&gt;-&gt;love is the only way and techno]]</tw-passagedata><tw-passagedata pid="707" name="love is the only way and techno" tags="" position="11113,5265" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTI4MTE0MDVf/love%20is%20the%20way.jpg&quot;, width=&quot;650&quot;/&gt;-&gt;kiss pic]]</tw-passagedata><tw-passagedata pid="708" name="kiss pic" tags="newspaper" position="11113,5415" size="100,100">(align:&quot;==&gt;&quot;)+(box:&quot;===========================XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX===&quot;)[&lt;img src=&quot;https://od.lk/s/ODNfNTI4MTE0Mjlf/Liebende%20Love%20parade%201999.jpg&quot;, width=&quot;500&quot;/&gt;
[[Liebende-&gt;thank you]] in Berlin
July 1999]</tw-passagedata><tw-passagedata pid="709" name="last oberbaumbrucke pic" tags="" position="11113,5565" size="100,100">[[thank you]]</tw-passagedata><tw-passagedata pid="710" name="thank you" tags="" position="11113,5715" size="100,100">(align:&quot;&lt;==&quot;)+(box:&quot;=XXXXXXXXXXXXXXX=========&quot;)[&lt;span style=&quot;font-size: 200%&quot;&gt;Thank you for reading and playing my story/game!&lt;/span&gt; 

I know it was a really long ride. But it means the world to me to know this story has reached your interest and heart in any way.

Remember this is still a Beta version, so if you have any comments or suggestions please don&#39;t doubt to write me:

june.audirac.k@gmail.com]

(align:&quot;==&gt;&quot;)+(box:&quot;========XXXXXXXXXXXXXXX==&quot;)[Thanks again 
and remember
music is the way!

with love

~June &lt;3]</tw-passagedata><tw-passagedata pid="711" name="something I&#39;ve learned" tags="" position="11240,3320" size="100,100">But if there is something I have learned 
in these two years in [[Berlin-&gt;the history has taught me]]</tw-passagedata><tw-passagedata pid="712" name="the history has taught me" tags="" position="11383,3320" size="100,100">what the [[history]] of this city has taught me</tw-passagedata><tw-passagedata pid="713" name="history" tags="" position="11533,3315" size="100,100">is that there is always opportunity for [[reconnection-&gt;sepparation is not the end]]</tw-passagedata><tw-passagedata pid="714" name="yourself" tags="" position="11263,3465" size="100,100">|txt1&gt;[your own identity]
(click:?txt1)[(replace:?txt1)[[[know what is important for you-&gt;once you are ready]]]]</tw-passagedata><tw-passagedata pid="715" name="connection" tags="" position="11271,3615" size="100,100">|txt1&gt;[and from that reconnection]
(click:?txt1)[
(replace:?txt1)[[[a brighter and more optimistic future can come up-&gt;am I too idealistic]]]]</tw-passagedata><tw-passagedata pid="716" name="maybe" tags="" position="11288,3778" size="100,100">|txt1&gt;[maybe]
(click:?txt1)[
(replace:?txt1)[[[but-&gt;what is life]]]]</tw-passagedata><tw-passagedata pid="717" name="what is life" tags="" position="11421,3800" size="100,100">what is life if we don&#39;t let ourselves |txt1&gt;[dream a little?]
(click:?txt1)[(replace:?txt1)[[[dream of bigger and better futures-&gt;and sure]]]]</tw-passagedata><tw-passagedata pid="718" name="come back again" tags="" position="11721,3828" size="100,100">life sometimes runs in [[circles]]</tw-passagedata><tw-passagedata pid="719" name="berlin wall down" tags="" position="9587,4335" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI4MTA2NDdf/wall%201.jpg&quot;, width=&quot;700&quot;/&gt;]
(click:?img1)[
(replace:?img1)[|img2&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI4MTA2NDhf/wall%202.jpg&quot;,width=&quot;450&quot;/&gt;]]]
(click:?img2)[
(replace:?img2)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTI4MTA2NDlf/wall%203.jpg&quot;, width=&quot;800&quot;/&gt;-&gt;walls were torn down]]]]</tw-passagedata><tw-passagedata pid="720" name="Nordbahnhof exhibition pics 2" tags="" position="8281,826" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI3NjUwNzBf/ghost%20station%20exhibition%203.jpg&quot;, width=&quot;600&quot;/&gt;]
(click:?img1)[
(replace:?img1)[|img2&gt;[[[&lt;img src=&quot;https://od.lk/s/ODNfNTI3NjUwNzFf/ghost%20station%20exhibition.jpg&quot;, width=&quot;600&quot;/&gt;-&gt;Nordbahnhof exhibition pics 3]]]]]
</tw-passagedata><tw-passagedata pid="721" name="Nordbahnhof exhibition pics 3" tags="" position="8497,823" size="100,100">Something particularly interesting are the stories of both failed and successful escape attempts from Eastern citizens and even from border guards who tried to escape to West Berlin through the U-Bahn and S-Bahn tunnels.

&lt;img src=&quot;https://od.lk/s/ODNfNTI3NjY5MjNf/IMG_3232.JPG&quot;, width=&quot;700&quot;/&gt;

[[It is certainly a must see if you want to learn more about this topic.-&gt;Nordbahnhof exit]]</tw-passagedata><tw-passagedata pid="722" name="oberbaumbrucke reconstruction 3" tags="" position="8203,2763" size="100,100">However the bridge was still [[damaged-&gt;ob 3]] from WW2. 

&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODM2NjVf/oberbaum.jpg&quot;/&gt;</tw-passagedata><tw-passagedata pid="723" name="tillman last page article 2" tags="" position="8196,3846" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODM2NDlf/love%20parade%20last%20page%203.jpg&quot;, width=&quot;700&quot;/&gt;]
(click:?img1)[
(replace:?img1)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODM2NTBf/love%20parade%20last%20page%204.jpg&quot;, width=&quot;700&quot;/&gt;-&gt;2000&#39;s]]]]</tw-passagedata><tw-passagedata pid="724" name="tillman article last page 3" tags="" position="9884,4705" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODM2NTJf/love%20parade%20last%20page%205.jpg&quot;, width=&quot;650&quot;/&gt;]
(click:?img1)[
(replace:?img1)[|img2&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODM2NTRf/love%20parade%20last%20page%206.jpg&quot;, width=&quot;650&quot;/&gt;]]]
(click:?img2)[
(replace:?img2)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTE3NDgxMTVf/love%20parade%20article%20%285%29.jpg&quot;, width=&quot;650&quot;/&gt;-&gt;it took me a while]]]]</tw-passagedata><tw-passagedata pid="725" name="ob 3" tags="" position="8370,2772" size="100,100">It’s reconstruction began in &#39;&#39;January 1992.&#39;&#39; 
The project was to renovate the historical bridge and add a highway for cars to cross freely between Friedrichain and Kreuzberg districs, 
thus [[closing of the famous Ring]].
</tw-passagedata><tw-passagedata pid="726" name="ob plakat 2" tags="" position="8368,3382" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODM4ODZf/plakat%202.jpg&quot;, width=&quot;500&quot;/&gt;]
(click:?img1)[
(replace:?img1)[|img2&gt;[[[&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODM4ODVf/plakat%202%20trad.jpg&quot;, width=&quot;500&quot;/&gt;-&gt;Bruckenini 3]]]]]</tw-passagedata><tw-passagedata pid="727" name="Bruckenini pic" tags="" position="8234,3208" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODM5MjJf/occupation%20oberbaum%2010.jpg&quot;/&gt;

|txt1&gt;[AUTO-WAHN SMOG-ALARM. VERHINDERN WIR DIE AUTOBAHN!]
(click:?txt1)[
(replace:?txt1)[[[CAR MADNESS SMOG ALERT. LET&#39;S PREVENT THE HIGHWAY!-&gt;Bruckenini pic 2]]]]</tw-passagedata><tw-passagedata pid="728" name="Bruckenini pic 3" tags="" position="8554,3221" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODM2NjZf/occupation%20oberbaum%202.jpg&quot;/&gt;-&gt;Bruckenini 2]]</tw-passagedata><tw-passagedata pid="729" name="Bruckenini last pic" tags="" position="8209,3676" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODM5NDFf/occupation%20oberbaum%209.jpg&quot;/&gt;-&gt;Changes would continue]]</tw-passagedata><tw-passagedata pid="730" name="Bruckenini raid pics" tags="" position="8233,3518" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODM5NDJf/occupation%20oberbaum%20raid%203.jpg&quot;/&gt;]
(click:?img1)[
(replace:?img1)[[[[&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODM2NzFf/occupation%20oberbaum%20raid.jpg&quot;/&gt;-&gt;Bruckenini 4]]]]]</tw-passagedata><tw-passagedata pid="731" name="Bruckenini pic 2" tags="" position="8401,3208" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODM2Njlf/occupation%20oberbaum%205.jpg&quot;/&gt;

|txt1&gt;[KEIN INNENSTADTRING DIE BRÜCKE BLEIBT ZU]
(click:?txt1)[
(replace:?txt1)[[[NO INNER CITY RING ROAD THE BRIDGE REMAINS CLOSED-&gt;Bruckenini pic 3]]]]
</tw-passagedata><tw-passagedata pid="732" name="bridge" tags="" position="8208,4418" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODQzNzFf/oberbaumbrucke.jpg&quot;, width=&quot;700&quot;/&gt;

A heart splitted in East and West by the Spree
But united by a[[reconstructed bridge-&gt;Warschauer Strasse]]
</tw-passagedata><tw-passagedata pid="733" name="Linienstrasse 206, Mitte" tags="" position="9731,2308" size="100,100">The squat in itself its dissolved, but the building is still kept with its grey, tattered façade, and banners and graffiti. 

&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODQ1ODJf/linienstrasse%20206%203.jpg&quot;, width=&quot;700&quot;/&gt;

In 2016, shortly after the eviction, a resident said that the mere fact that the house still existed in this area was [[political-&gt;beyond empty buildings]].</tw-passagedata><tw-passagedata pid="734" name="first Tuntenhaus" tags="" position="9778,2903" size="100,100">The first Tuntenhaus was established in 1981 at Bülowstrasse 55. It was mainly, but not exclusively, inhabited by [[homosexual men.-&gt;Tuntenhaus Mainzer]]

&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODcyODhf/tuntenhaus%20erste.png&quot;, width=&quot;600&quot;/&gt;</tw-passagedata><tw-passagedata pid="735" name="Tuntenhaus Mainzer" tags="" position="9806,3045" size="100,100">In May 1, 1990 the &quot;Haus&quot; relocated at Mainzer Straße 4 in the Friedrichshain district. It was one of the first occupied houses on Mainzer Strasse. 

&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODcyODlf/tuntenhaus%20mainzer.jpg&quot;, width=&quot;600&quot;/&gt;

The Tuntenhaus was one of the squats that were evicted after the violent street quarrels between the police and autonomists on that emblamatic battle of [[November 1990.-&gt;Tuntenhaus today]] </tw-passagedata><tw-passagedata pid="736" name="tuntenhaus last plakat" tags="" position="9833,3642" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODcyOTNf/tuntenhaus%20plakat.jpeg&quot;, width=&quot;500&quot;/&gt;

|txt1&gt;[QUEERE RÄUME RETTEN!
VERDRÄNUNG STOPPEN!]
(click:?txt1)[
(replace:?txt1)[SAVE QUEER SPACES!
[[STOP DISPLACEMENT!-&gt;tuntenhaus end]]]]</tw-passagedata><tw-passagedata pid="737" name="tuntenhaus 2024 pic" tags="" position="9816,3870" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODQ1NzZf/tuntenhouse%20bleibt.jpg&quot;, width=&quot;500&quot;/&gt;-&gt;go west squats]]</tw-passagedata><tw-passagedata pid="738" name="Liebig 34 pic" tags="" position="9330,2902" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTI3OTIzMTRf/liebig%2034.png&quot;, width=&quot;600&quot;/&gt;-&gt;Liebig 34 quote]]</tw-passagedata><tw-passagedata pid="739" name="Liebig raiding pics" tags="" position="9503,3647" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODQ1Nzlf/liebig%2034%20raiding.jpg&quot;, width=&quot;700&quot;/&gt;]
(click:?img1)[
(replace:?img1)[|img2&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI3OTIzNDRf/liebig%2034%20raiding%201.jpg&quot;, width=&quot;700&quot;/&gt;]]]
(click:?img2)[
(replace:?img2)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODQ1Nzhf/liebig%2034%20raiding%202.jpg&quot;, width=&quot;700&quot;/&gt;-&gt;Liebig quote 3]]]]
</tw-passagedata><tw-passagedata pid="740" name="liedig 2023 raiding" tags="" position="9475,3482" size="100,100">[[This occupation was confronted by the police as well.-&gt;Liebig raiding pics]]</tw-passagedata><tw-passagedata pid="741" name="Liebig 34 2020" tags="" position="9266,3102" size="100,100">Ten years later, on October 9, 2020, the anarcha queer feminist project Liebig34 was violently [[raided as well.-&gt;Liebig 34 quote 2]].

&lt;img src=&quot;https://od.lk/s/ODNfNTI3ODczMDJf/liebig%202020%20eviction.jpg&quot;, width=&quot;650&quot;/&gt;</tw-passagedata><tw-passagedata pid="742" name="Because..." tags="" position="9717,4721" size="100,100">&lt;span style=&quot;font-size: 150%&quot;&gt;What is the point of [[ideologies-&gt;tillman article last page 3]] if it’s not to make the world better?&lt;/span&gt; </tw-passagedata><tw-passagedata pid="743" name="So on both sides" tags="" position="9562,4718" size="100,100">On both sides subcultures were born 
emerging from the imagination
of better possibilities and futures. 
[[Because...]]</tw-passagedata><tw-passagedata pid="744" name="I don&#39;t live" tags="" position="9195,5121" size="100,100">|txt1&gt;[I don’t live in a cool hipster neighborhood](click:?txt1)[
(replace:?txt1)[|txt2&gt;[I am not squatter]]](click:?txt2)[
(replace:?txt2)[[[I’m not even a real raver-&gt;I feel comfortable]]]]</tw-passagedata><tw-passagedata pid="745" name="I feel comfortable" tags="" position="9234,5268" size="100,100">But I feel comfortable here
And I&#39;m sure getting to know its &#39;&#39;history&#39;&#39; 
has helped me grow my roots here
[[(That&#39;s something I&#39;ll have to prove)-&gt;i do belong here]]</tw-passagedata><tw-passagedata pid="746" name="but beyond all" tags="" position="9782,4515" size="100,100">But beyond all
[[culture]] has reunified this city</tw-passagedata><tw-passagedata pid="747" name="culture" tags="" position="9941,4535" size="100,100">A culture born from two different worlds
that in the end
[[didn’t seem to be so different after all.-&gt;BC last quote]]</tw-passagedata><tw-passagedata pid="748" name="chapel of reconciliation 2.2" tags="" position="10074,5333" size="100,100">The modern chapel was constructed in 1999 under the leadership of the Austrian clay artist Martin Rauch. Volunteers from |txt1&gt;[&quot;Open Houses&quot;](click:?txt1)[(replace:?txt1)[ (a German charity founded in 1989 that specialises in preserving endangered historical monuments in east Germany, with the help of foreign volunteers)]]came from fourteen eastern and western European countries to support the building project.

&lt;img src=&quot;https://od.lk/s/ODNfNTI4MDA5MzNf/chapel%20of%20reconciliation.jpg&quot;, width=&quot;700&quot;/&gt;

Then pon 9 November 2000, on the eleventh anniversary of the fall of the Berlin Wall, the Chapel of Reconciliation was [[consecrated.-&gt;chapel of reconciliation 3]]</tw-passagedata><tw-passagedata pid="749" name="chapel of reconciliation 3" tags="" position="10042,5488" size="100,100">The site has become not only a religious space but also a symbol of remembrance and forgiveness, honoring the original church and the [[meaning of its name.-&gt;reconciliation pic]]

&lt;img src=&quot;https://od.lk/s/ODNfNTI4MDAzNDBf/chapel%20of%20reconciliation%20%285%29.jpg&quot;, width=&quot;500&quot;/&gt;</tw-passagedata><tw-passagedata pid="750" name="Grunewaldtrum" tags="" position="10243,6111" size="100,100">
|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI4MTEyMzdf/grunewald%20trum.jpeg&quot;, width=&quot;500&quot;/&gt;]
(click:?img1)[
(replace:?img1)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTI4MTEyMzZf/grunewald%20trum%20old.jpg, width=&quot;500&quot;/&gt;-&gt;going to lake 3]]]]</tw-passagedata><tw-passagedata pid="751" name="number 218" tags="dialogue" position="10240,5883" size="100,100">-Ouff these buses take forever, don&#39;t they?
-I know, I hate buses so much.
-So how much longer do we have to wait? I&#39;m boiling here!
-I think it&#39;s coming... Isn&#39;t that one over there?
-What? [[That one??-&gt;old bus]]</tw-passagedata><tw-passagedata pid="752" name="old bus" tags="dialogue" position="10393,5881" size="100,100">&lt;img src=&quot;https://i.imgur.com/xHRMUIV.gif&quot;/&gt;

-It looks so old... are you sure?
-Yeah, yeah, it&#39;s this one, come!
-Ok ok, but I want to sit at the [[upper deck]]!
-Yeah, yeah, of course! Hurry!</tw-passagedata><tw-passagedata pid="753" name="bus ride in the forest" tags="" position="10517,6044" size="100,100">[[&lt;img src=&quot;https://i.imgur.com/KJIJYJr.gif&quot;/&gt;-&gt;arrive station]]</tw-passagedata><tw-passagedata pid="754" name="Fun fact about the sun" tags="" position="10292,6561" size="100,100">Fun fact about about the sun:
It rises from the East and sets in the [[West-&gt;going to lake 4]]</tw-passagedata><tw-passagedata pid="755" name="happy" tags="" position="10269,6980" size="100,100">I just looked to the city&#39;s lights from outside the window.
I was so tired.

&lt;img src=&quot;https://od.lk/s/ODNfNTI4MTEyNzhf/rain-town-city-car.jpg&quot;, width=&quot;700&quot;/&gt;

We didn’t chat much, but that was ok.
There was silence, 
the kind you can enjoy when you&#39;re with someone special. 

It was still Summer
[[and happyness couldn&#39;t be more simple.-&gt;last lake pic]]</tw-passagedata><tw-passagedata pid="756" name="upper deck" tags="" position="10593,5861" size="100,100">&lt;img src=&quot;https://od.lk/s/ODNfNTI4MTEyMDVf/messe%20bus%20upper%20deck.jpg&quot;, width=&quot;700&quot;/&gt;

-Ahh nice, it&#39;s empty.
-Let&#39;s sit right at the front. [[The view most be amazing there.-&gt;bus ride in the forest]]</tw-passagedata><tw-passagedata pid="757" name="social media club comission" tags="" position="10365,2749" size="100,100">|img1&gt;[&lt;img src=&quot;https://od.lk/s/ODNfNTI4MDk2MTJf/facebook%20announcement.png&quot;, width=&quot;600&quot;/&gt;]
(click:?img1)[
(replace:?img1)[[[&lt;img src=&quot;https://od.lk/s/ODNfNTI4MDk2MTNf/facebook%20announcement%20translate.png&quot;, width=&quot;600&quot;/&gt;-&gt;social media RTP]]]]</tw-passagedata><tw-passagedata pid="758" name="but how will this change" tags="" position="10349,2944" size="100,100">But how will this change the clubbing scene?
[[This is yet to be seen.-&gt;clubbing unseco heritage end]]</tw-passagedata><tw-passagedata pid="759" name="social media RTP" tags="" position="10562,2772" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTI4MDk2MTBf/facebook%20announcement%20RTP%20translate.png&quot;, width=&quot;600&quot;/&gt;-&gt;but how will this change]]</tw-passagedata><tw-passagedata pid="760" name="application video" tags="" position="10369,2502" size="100,100">&lt;img src=&quot;https://i.imgur.com/WZWGPPY.gif&quot;/&gt;


watch application video on &lt;a href=&quot;https://www.youtube.com/watch?v=jAmT11KRvcM&amp;t=1s&amp;ab_channel=RaveThePlanet&quot; target=&quot;_blank&quot;&gt;YouTube&lt;/a&gt;

[[continue-&gt;hans cousto quote]] </tw-passagedata><tw-passagedata pid="761" name="hans cousto quote" tags="" position="10530,2505" size="100,100">(text-colour:magenta)[Hans Cousto
Musicologis/ cofounder Eve and Rave

&quot;What is sticking about technoculture is that there are not only young people at the parties. 
It&#39;s a culture where older people educate younger ones. There is a transfer of knowledge from generation to generation. This transmission of knowledge in the party culture is something that has to be [[protected.&quot;-&gt;RTP UNESCO pic]]]</tw-passagedata><tw-passagedata pid="762" name="clubbing unseco heritage end" tags="" position="10349,3094" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTI4MDk4NzJf/techno%20culture%203.jpg&quot;, width=&quot;800&quot;/&gt;-&gt;choose another story]]</tw-passagedata><tw-passagedata pid="763" name="Unesco added it" tags="" position="10015,2759" size="100,100">&lt;span style=&quot;font-size: 250%&quot;&gt;UNESCO
added
[[Techno-&gt;news were announces]]
to the Cultural Heritage list!
&lt;/span&gt; </tw-passagedata><tw-passagedata pid="764" name="RTP UNESCO pic" tags="" position="10725,2595" size="100,100">[[&lt;img src=&quot;https://od.lk/s/ODNfNTI4MDk4NzNf/techno%20culture.jpg&quot;, width=&quot;700&quot;/&gt;-&gt;and finally it happened]]</tw-passagedata><tw-passagedata pid="765" name="arrive station" tags="" position="10517,6194" size="100,100">From the upper floor one clould see the green forest all the way. 
I don&#39;t think Summer has ever looked so beautiful. 

&lt;img src=&quot;https://i.imgur.com/QbqnoRw.gif&quot;/&gt;

After some minutes we hopped off at [[Grunewaldtrum]] station.</tw-passagedata><tw-passagedata pid="766" name="human contact" tags="dialogue" position="4155,2166" size="100,100">&quot;15 euro bitte&quot;
&quot;Mit karte bitte&quot;
&quot;Beleg?&quot;
&quot;Nein Danke&quot;
&quot;Schönen tag noch&quot; she says without giving a smile
[[&quot;Danke shön&quot;-&gt;not welcomed]]</tw-passagedata></tw-storydata>
<script title="Twine engine code" data-main="harlowe">"use strict";var _slicedToArray=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}!function(){
/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */var requirejs,require,define,root,factory;!function(e){var t,n,r,a,i={},o={},s={},c={},u=Object.prototype.hasOwnProperty,l=[].slice,p=/\.js$/;function f(e,t){return u.call(e,t)}function d(e,t){var n,r,a,i,o,c,u,l,f,d,h,y=t&&t.split("/"),m=s.map,g=m&&m["*"]||{};if(e){for(o=(e=e.split("/")).length-1,s.nodeIdCompat&&p.test(e[o])&&(e[o]=e[o].replace(p,"")),"."===e[0].charAt(0)&&y&&(e=y.slice(0,y.length-1).concat(e)),f=0;f<e.length;f++)if("."===(h=e[f]))e.splice(f,1),f-=1;else if(".."===h){if(0===f||1===f&&".."===e[2]||".."===e[f-1])continue;f>0&&(e.splice(f-1,2),f-=2)}e=e.join("/")}if((y||g)&&m){for(f=(n=e.split("/")).length;f>0;f-=1){if(r=n.slice(0,f).join("/"),y)for(d=y.length;d>0;d-=1)if((a=m[y.slice(0,d).join("/")])&&(a=a[r])){i=a,c=f;break}if(i)break;!u&&g&&g[r]&&(u=g[r],l=f)}!i&&u&&(i=u,c=l),i&&(n.splice(0,c,i),e=n.join("/"))}return e}function h(t,r){return function(){var a=l.call(arguments,0);return"string"!=typeof a[0]&&1===a.length&&a.push(null),n.apply(e,a.concat([t,r]))}}function y(e){return function(t){i[e]=t}}function m(n){if(f(o,n)){var r=o[n];delete o[n],c[n]=!0,t.apply(e,r)}if(!f(i,n)&&!f(c,n))throw new Error("No "+n);return i[n]}function g(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function v(e){return e?g(e):[]}r=function(e,t){var n,r,a=g(e),i=a[0],o=t[1];return e=a[1],i&&(n=m(i=d(i,o))),i?e=n&&n.normalize?n.normalize(e,(r=o,function(e){return d(e,r)})):d(e,o):(i=(a=g(e=d(e,o)))[0],e=a[1],i&&(n=m(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},a={require:function(e){return h(e)},exports:function(e){var t=i[e];return void 0!==t?t:i[e]={}},module:function(e){return{id:e,uri:"",exports:i[e],config:function(e){return function(){return s&&s.config&&s.config[e]||{}}}(e)}}},t=function(t,n,s,u){var l,p,d,g,b,w,T,S=[],x=void 0===s?"undefined":_typeof(s);if(w=v(u=u||t),"undefined"===x||"function"===x){for(n=!n.length&&s.length?["require","exports","module"]:n,b=0;b<n.length;b+=1)if("require"===(p=(g=r(n[b],w)).f))S[b]=a.require(t);else if("exports"===p)S[b]=a.exports(t),T=!0;else if("module"===p)l=S[b]=a.module(t);else if(f(i,p)||f(o,p)||f(c,p))S[b]=m(p);else{if(!g.p)throw new Error(t+" missing "+p);g.p.load(g.n,h(u,!0),y(p),{}),S[b]=i[p]}d=s?s.apply(i[t],S):void 0,t&&(l&&l.exports!==e&&l.exports!==i[t]?i[t]=l.exports:d===e&&T||(i[t]=d))}else t&&(i[t]=s)},requirejs=require=n=function(i,o,c,u,l){if("string"==typeof i)return a[i]?a[i](o):m(r(i,v(o)).f);if(!i.splice){if((s=i).deps&&n(s.deps,s.callback),!o)return;o.splice?(i=o,o=c,c=null):i=e}return o=o||function(){},"function"==typeof c&&(c=u,u=l),u?t(e,i,o,c):setTimeout(function(){t(e,i,o,c)},4),n},n.config=function(e){return n(e)},requirejs._defined=i,(define=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),f(i,e)||f(o,e)||(o[e]=[e,t,n])}).amd={jQuery:!0}}(),define("almond",function(){}),
/*!
 * https://github.com/paulmillr/es6-shim
 * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)
 *   and contributors,  MIT License
 * es6-shim: v0.35.4
 * see https://github.com/paulmillr/es6-shim/blob/0.35.3/LICENSE
 * Details and documentation:
 * https://github.com/paulmillr/es6-shim/
 */
root=this,factory=function(){var e,t,n=Function.call.bind(Function.apply),r=Function.call.bind(Function.call),a=Array.isArray,i=Object.keys,o=function(e){try{return e(),!1}catch(e){return!0}},s=function(e){try{return e()}catch(e){return!1}},c=(e=o,function(){return!n(e,this,arguments)}),u=!!Object.defineProperty&&!o(function(){return Object.defineProperty({},"x",{get:function(){}})}),l="foo"===function(){}.name,p=Function.call.bind(Array.prototype.forEach),f=Function.call.bind(Array.prototype.reduce),d=Function.call.bind(Array.prototype.filter),h=Function.call.bind(Array.prototype.some),y=function(e,t,n,r){!r&&t in e||(u?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n}):e[t]=n)},m=function(e,t,n){p(i(t),function(r){var a=t[r];y(e,r,a,!!n)})},g=Function.call.bind(Object.prototype.toString),v="function"==typeof/abc/?function(e){return"function"==typeof e&&"[object Function]"===g(e)}:function(e){return"function"==typeof e},b=function(e,t,n){if(!u)throw new TypeError("getters require true ES5 support");Object.defineProperty(e,t,{configurable:!0,enumerable:!1,get:n})},w=function(e,t,n){if(!u)throw new TypeError("getters require true ES5 support");var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,{configurable:r.configurable,enumerable:r.enumerable,get:function(){return e[t]},set:function(n){e[t]=n}})},T=function(e,t,n){if(u){var r=Object.getOwnPropertyDescriptor(e,t);r.value=n,Object.defineProperty(e,t,r)}else e[t]=n},S=function(e,t,n){u?Object.defineProperty(e,t,n):"value"in n&&(e[t]=n.value)},x=function(e,t){t&&v(t.toString)&&y(e,"toString",t.toString.bind(t),!0)},k=Object.create||function(e,t){var n=function(){};n.prototype=e;var r=new n;return void 0!==t&&i(t).forEach(function(e){S(r,e,t[e])}),r},O=function(e,t){return!!Object.setPrototypeOf&&s(function(){var n=function t(n){var r=new e(n);return Object.setPrototypeOf(r,t.prototype),r};return Object.setPrototypeOf(n,e),n.prototype=k(e.prototype,{constructor:{value:n}}),t(n)})},j=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}(),A=j.isFinite,C=Function.call.bind(String.prototype.indexOf),E=Function.apply.bind(Array.prototype.indexOf),_=Function.call.bind(Array.prototype.concat),N=Function.call.bind(String.prototype.slice),P=Function.call.bind(Array.prototype.push),I=Function.apply.bind(Array.prototype.push),M=Function.call.bind(Array.prototype.shift),D=Math.max,R=Math.min,L=Math.floor,q=Math.abs,F=Math.exp,V=Math.log,H=Math.sqrt,z=Function.call.bind(Object.prototype.hasOwnProperty),$=function(){},B=j.Map,W=B&&B.prototype.delete,U=B&&B.prototype.get,G=B&&B.prototype.has,X=B&&B.prototype.set,Y=j.Symbol||{},J=Y.species||"@@species",K=Number.isNaN||function(e){return e!=e},Z=Number.isFinite||function(e){return"number"==typeof e&&A(e)},Q=v(Math.sign)?Math.sign:function(e){var t=Number(e);return 0===t?t:K(t)?t:t<0?-1:1},ee=function(e){var t=Number(e);return t<-1||K(t)?NaN:0===t||t===1/0?t:-1===t?-1/0:1+t-1==0?t:t*(V(1+t)/(1+t-1))},te=function(e){return"[object Arguments]"===g(e)},ne=te(arguments)?te:function(e){return null!==e&&"object"===(void 0===e?"undefined":_typeof(e))&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==g(e)&&"[object Function]"===g(e.callee)},re=function(e){return null===e||"function"!=typeof e&&"object"!==(void 0===e?"undefined":_typeof(e))},ae=function(e){return"[object String]"===g(e)},ie=function(e){return"[object RegExp]"===g(e)},oe=function(e){return"function"==typeof j.Symbol&&"symbol"===(void 0===e?"undefined":_typeof(e))},se=function(e,t,n){var r=e[t];y(e,t,n,!0),x(e[t],r)},ce="function"==typeof Y&&"function"==typeof Y.for&&oe(Y()),ue=oe(Y.iterator)?Y.iterator:"_es6-shim iterator_";j.Set&&"function"==typeof(new j.Set)["@@iterator"]&&(ue="@@iterator"),j.Reflect||y(j,"Reflect",{},!0);var le,pe=j.Reflect,fe=String,de="undefined"!=typeof document&&document?document.all:null,he=null==de?function(e){return null==e}:function(e){return null==e&&e!==de},ye={Call:function(e,t){var r=arguments.length>2?arguments[2]:[];if(!ye.IsCallable(e))throw new TypeError(e+" is not a function");return n(e,t,r)},RequireObjectCoercible:function(e,t){if(he(e))throw new TypeError(t||"Cannot call method on "+e);return e},TypeIsObject:function(e){return null!=e&&!0!==e&&!1!==e&&("function"==typeof e||"object"===(void 0===e?"undefined":_typeof(e))||e===de)},ToObject:function(e,t){return Object(ye.RequireObjectCoercible(e,t))},IsCallable:v,IsConstructor:function(e){return ye.IsCallable(e)},ToInt32:function(e){return ye.ToNumber(e)>>0},ToUint32:function(e){return ye.ToNumber(e)>>>0},ToNumber:function(e){if("[object Symbol]"===g(e))throw new TypeError("Cannot convert a Symbol value to a number");return+e},ToInteger:function(e){var t=ye.ToNumber(e);return K(t)?0:0!==t&&Z(t)?(t>0?1:-1)*L(q(t)):t},ToLength:function(e){var t=ye.ToInteger(e);return t<=0?0:t>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t},SameValue:function(e,t){return e===t?0!==e||1/e==1/t:K(e)&&K(t)},SameValueZero:function(e,t){return e===t||K(e)&&K(t)},IsIterable:function(e){return ye.TypeIsObject(e)&&(void 0!==e[ue]||ne(e))},GetIterator:function(e){if(ne(e))return new t(e,"value");var n=ye.GetMethod(e,ue);if(!ye.IsCallable(n))throw new TypeError("value is not an iterable");var r=ye.Call(n,e);if(!ye.TypeIsObject(r))throw new TypeError("bad iterator");return r},GetMethod:function(e,t){var n=ye.ToObject(e)[t];if(!he(n)){if(!ye.IsCallable(n))throw new TypeError("Method not callable: "+t);return n}},IteratorComplete:function(e){return!!e.done},IteratorClose:function(e,t){var n=ye.GetMethod(e,"return");if(void 0!==n){var r,a;try{r=ye.Call(n,e)}catch(e){a=e}if(!t){if(a)throw a;if(!ye.TypeIsObject(r))throw new TypeError("Iterator's return method returned a non-object.")}}},IteratorNext:function(e){var t=arguments.length>1?e.next(arguments[1]):e.next();if(!ye.TypeIsObject(t))throw new TypeError("bad iterator");return t},IteratorStep:function(e){var t=ye.IteratorNext(e);return!ye.IteratorComplete(t)&&t},Construct:function(e,t,n,r){var a=void 0===n?e:n;if(!r&&pe.construct)return pe.construct(e,t,a);var i=a.prototype;ye.TypeIsObject(i)||(i=Object.prototype);var o=k(i),s=ye.Call(e,o,t);return ye.TypeIsObject(s)?s:o},SpeciesConstructor:function(e,t){var n=e.constructor;if(void 0===n)return t;if(!ye.TypeIsObject(n))throw new TypeError("Bad constructor");var r=n[J];if(he(r))return t;if(!ye.IsConstructor(r))throw new TypeError("Bad @@species");return r},CreateHTML:function(e,t,n,r){var a=ye.ToString(e),i="<"+t;""!==n&&(i+=" "+n+'="'+ye.ToString(r).replace(/"/g,"&quot;")+'"');return i+">"+a+"</"+t+">"},IsRegExp:function(e){if(!ye.TypeIsObject(e))return!1;var t=e[Y.match];return void 0!==t?!!t:ie(e)},ToString:function(e){return fe(e)}};if(u&&ce){var me=function(e){if(oe(Y[e]))return Y[e];var t=Y.for("Symbol."+e);return Object.defineProperty(Y,e,{configurable:!1,enumerable:!1,writable:!1,value:t}),t};if(!oe(Y.search)){var ge=me("search"),ve=String.prototype.search;y(RegExp.prototype,ge,function(e){return ye.Call(ve,e,[this])});se(String.prototype,"search",function(e){var t=ye.RequireObjectCoercible(this);if(!he(e)){var n=ye.GetMethod(e,ge);if(void 0!==n)return ye.Call(n,e,[t])}return ye.Call(ve,t,[ye.ToString(e)])})}if(!oe(Y.replace)){var be=me("replace"),we=String.prototype.replace;y(RegExp.prototype,be,function(e,t){return ye.Call(we,e,[this,t])});se(String.prototype,"replace",function(e,t){var n=ye.RequireObjectCoercible(this);if(!he(e)){var r=ye.GetMethod(e,be);if(void 0!==r)return ye.Call(r,e,[n,t])}return ye.Call(we,n,[ye.ToString(e),t])})}if(!oe(Y.split)){var Te=me("split"),Se=String.prototype.split;y(RegExp.prototype,Te,function(e,t){return ye.Call(Se,e,[this,t])});se(String.prototype,"split",function(e,t){var n=ye.RequireObjectCoercible(this);if(!he(e)){var r=ye.GetMethod(e,Te);if(void 0!==r)return ye.Call(r,e,[n,t])}return ye.Call(Se,n,[ye.ToString(e),t])})}var xe=oe(Y.match),ke=xe&&((le={})[Y.match]=function(){return 42},42!=="a".match(le));if(!xe||ke){var Oe=me("match"),je=String.prototype.match;y(RegExp.prototype,Oe,function(e){return ye.Call(je,e,[this])});se(String.prototype,"match",function(e){var t=ye.RequireObjectCoercible(this);if(!he(e)){var n=ye.GetMethod(e,Oe);if(void 0!==n)return ye.Call(n,e,[t])}return ye.Call(je,t,[ye.ToString(e)])})}}var Ae=function(e,t,n){x(t,e),Object.setPrototypeOf&&Object.setPrototypeOf(e,t),u?p(Object.getOwnPropertyNames(e),function(r){r in $||n[r]||w(e,r,t)}):p(Object.keys(e),function(r){r in $||n[r]||(t[r]=e[r])}),t.prototype=e.prototype,T(e.prototype,"constructor",t)},Ce=function(){return this},Ee=function(e){u&&!z(e,J)&&b(e,J,Ce)},_e=function(e,t){var n=t||function(){return this};y(e,ue,n),!e[ue]&&oe(ue)&&(e[ue]=n)},Ne=function(e,t,n){if(function(e,t,n){u?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:n}):e[t]=n}(e,t,n),!ye.SameValue(e[t],n))throw new TypeError("property is nonconfigurable")},Pe=function(e,t,n,r){if(!ye.TypeIsObject(e))throw new TypeError("Constructor requires `new`: "+t.name);var a=t.prototype;ye.TypeIsObject(a)||(a=n);var i=k(a);for(var o in r)if(z(r,o)){var s=r[o];y(i,o,s,!0)}return i};if(String.fromCodePoint&&1!==String.fromCodePoint.length){var Ie=String.fromCodePoint;se(String,"fromCodePoint",function(e){return ye.Call(Ie,this,arguments)})}var Me={fromCodePoint:function(e){for(var t,n=[],r=0,a=arguments.length;r<a;r++){if(t=Number(arguments[r]),!ye.SameValue(t,ye.ToInteger(t))||t<0||t>1114111)throw new RangeError("Invalid code point "+t);t<65536?P(n,String.fromCharCode(t)):(t-=65536,P(n,String.fromCharCode(55296+(t>>10))),P(n,String.fromCharCode(t%1024+56320)))}return n.join("")},raw:function(e){var t=ye.ToObject(e,"bad callSite"),n=ye.ToObject(t.raw,"bad raw value"),r=n.length,a=ye.ToLength(r);if(a<=0)return"";for(var i,o,s,c,u=[],l=0;l<a&&(i=ye.ToString(l),s=ye.ToString(n[i]),P(u,s),!(l+1>=a));)o=l+1<arguments.length?arguments[l+1]:"",c=ye.ToString(o),P(u,c),l+=1;return u.join("")}};String.raw&&"xy"!==String.raw({raw:{0:"x",1:"y",length:2}})&&se(String,"raw",Me.raw),m(String,Me);var De={repeat:function(e){var t=ye.ToString(ye.RequireObjectCoercible(this)),n=ye.ToInteger(e);if(n<0||n>=1/0)throw new RangeError("repeat count must be less than infinity and not overflow maximum string size");return function e(t,n){if(n<1)return"";if(n%2)return e(t,n-1)+t;var r=e(t,n/2);return r+r}(t,n)},startsWith:function(e){var t=ye.ToString(ye.RequireObjectCoercible(this));if(ye.IsRegExp(e))throw new TypeError('Cannot call method "startsWith" with a regex');var n,r=ye.ToString(e);arguments.length>1&&(n=arguments[1]);var a=D(ye.ToInteger(n),0);return N(t,a,a+r.length)===r},endsWith:function(e){var t=ye.ToString(ye.RequireObjectCoercible(this));if(ye.IsRegExp(e))throw new TypeError('Cannot call method "endsWith" with a regex');var n,r=ye.ToString(e),a=t.length;arguments.length>1&&(n=arguments[1]);var i=void 0===n?a:ye.ToInteger(n),o=R(D(i,0),a);return N(t,o-r.length,o)===r},includes:function(e){if(ye.IsRegExp(e))throw new TypeError('"includes" does not accept a RegExp');var t,n=ye.ToString(e);return arguments.length>1&&(t=arguments[1]),-1!==C(this,n,t)},codePointAt:function(e){var t=ye.ToString(ye.RequireObjectCoercible(this)),n=ye.ToInteger(e),r=t.length;if(n>=0&&n<r){var a=t.charCodeAt(n);if(a<55296||a>56319||n+1===r)return a;var i=t.charCodeAt(n+1);return i<56320||i>57343?a:1024*(a-55296)+(i-56320)+65536}}};if(String.prototype.includes&&!1!=="a".includes("a",1/0)&&se(String.prototype,"includes",De.includes),String.prototype.startsWith&&String.prototype.endsWith){var Re=o(function(){return"/a/".startsWith(/a/)}),Le=s(function(){return!1==="abc".startsWith("a",1/0)});Re&&Le||(se(String.prototype,"startsWith",De.startsWith),se(String.prototype,"endsWith",De.endsWith))}ce&&(s(function(){var e=/a/;return e[Y.match]=!1,"/a/".startsWith(e)})||se(String.prototype,"startsWith",De.startsWith),s(function(){var e=/a/;return e[Y.match]=!1,"/a/".endsWith(e)})||se(String.prototype,"endsWith",De.endsWith),s(function(){var e=/a/;return e[Y.match]=!1,"/a/".includes(e)})||se(String.prototype,"includes",De.includes));m(String.prototype,De);var qe=["\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003","\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028","\u2029\ufeff"].join(""),Fe=new RegExp("(^["+qe+"]+)|(["+qe+"]+$)","g"),Ve=function(){return ye.ToString(ye.RequireObjectCoercible(this)).replace(Fe,"")},He=["\x85","\u200b","\ufffe"].join(""),ze=new RegExp("["+He+"]","g"),$e=/^[-+]0x[0-9a-f]+$/i,Be=He.trim().length!==He.length;y(String.prototype,"trim",Ve,Be);var We=function(e){return{value:e,done:0===arguments.length}},Ue=function(e){ye.RequireObjectCoercible(e),this._s=ye.ToString(e),this._i=0};Ue.prototype.next=function(){var e=this._s,t=this._i;if(void 0===e||t>=e.length)return this._s=void 0,We();var n,r,a=e.charCodeAt(t);return r=a<55296||a>56319||t+1===e.length?1:(n=e.charCodeAt(t+1))<56320||n>57343?1:2,this._i=t+r,We(e.substr(t,r))},_e(Ue.prototype),_e(String.prototype,function(){return new Ue(this)});var Ge={from:function(e){var t,n,a,i,o,s,c=this;if(arguments.length>1&&(t=arguments[1]),void 0===t)n=!1;else{if(!ye.IsCallable(t))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(a=arguments[2]),n=!0}if(void 0!==(ne(e)||ye.GetMethod(e,ue))){o=ye.IsConstructor(c)?Object(new c):[];var u,l,p=ye.GetIterator(e);for(s=0;!1!==(u=ye.IteratorStep(p));){l=u.value;try{n&&(l=void 0===a?t(l,s):r(t,a,l,s)),o[s]=l}catch(e){throw ye.IteratorClose(p,!0),e}s+=1}i=s}else{var f,d=ye.ToObject(e);for(i=ye.ToLength(d.length),o=ye.IsConstructor(c)?Object(new c(i)):new Array(i),s=0;s<i;++s)f=d[s],n&&(f=void 0===a?t(f,s):r(t,a,f,s)),Ne(o,s,f)}return o.length=i,o},of:function(){for(var e=arguments.length,t=this,n=a(t)||!ye.IsCallable(t)?new Array(e):ye.Construct(t,[e]),r=0;r<e;++r)Ne(n,r,arguments[r]);return n.length=e,n}};m(Array,Ge),Ee(Array),m((t=function(e,t){this.i=0,this.array=e,this.kind=t}).prototype,{next:function(){var e=this.i,n=this.array;if(!(this instanceof t))throw new TypeError("Not an ArrayIterator");if(void 0!==n)for(var r=ye.ToLength(n.length);e<r;e++){var a,i=this.kind;return"key"===i?a=e:"value"===i?a=n[e]:"entry"===i&&(a=[e,n[e]]),this.i=e+1,We(a)}return this.array=void 0,We()}}),_e(t.prototype),Array.of===Ge.of||function(){var e=function(e){this.length=e};e.prototype=[];var t=Array.of.apply(e,[1,2]);return t instanceof e&&2===t.length}()||se(Array,"of",Ge.of);var Xe={copyWithin:function(e,t){var n,r=ye.ToObject(this),a=ye.ToLength(r.length),i=ye.ToInteger(e),o=ye.ToInteger(t),s=i<0?D(a+i,0):R(i,a),c=o<0?D(a+o,0):R(o,a);arguments.length>2&&(n=arguments[2]);var u=void 0===n?a:ye.ToInteger(n),l=u<0?D(a+u,0):R(u,a),p=R(l-c,a-s),f=1;for(c<s&&s<c+p&&(f=-1,c+=p-1,s+=p-1);p>0;)c in r?r[s]=r[c]:delete r[s],c+=f,s+=f,p-=1;return r},fill:function(e){var t,n;arguments.length>1&&(t=arguments[1]),arguments.length>2&&(n=arguments[2]);var r=ye.ToObject(this),a=ye.ToLength(r.length);t=ye.ToInteger(void 0===t?0:t);for(var i=(n=ye.ToInteger(void 0===n?a:n))<0?a+n:n,o=t<0?D(a+t,0):R(t,a);o<a&&o<i;++o)r[o]=e;return r},find:function(e){var t=ye.ToObject(this),n=ye.ToLength(t.length);if(!ye.IsCallable(e))throw new TypeError("Array#find: predicate must be a function");for(var a,i=arguments.length>1?arguments[1]:null,o=0;o<n;o++)if(a=t[o],i){if(r(e,i,a,o,t))return a}else if(e(a,o,t))return a},findIndex:function(e){var t=ye.ToObject(this),n=ye.ToLength(t.length);if(!ye.IsCallable(e))throw new TypeError("Array#findIndex: predicate must be a function");for(var a=arguments.length>1?arguments[1]:null,i=0;i<n;i++)if(a){if(r(e,a,t[i],i,t))return i}else if(e(t[i],i,t))return i;return-1},keys:function(){return new t(this,"key")},values:function(){return new t(this,"value")},entries:function(){return new t(this,"entry")}};if(Array.prototype.keys&&!ye.IsCallable([1].keys().next)&&delete Array.prototype.keys,Array.prototype.entries&&!ye.IsCallable([1].entries().next)&&delete Array.prototype.entries,Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[ue]&&(m(Array.prototype,{values:Array.prototype[ue]}),oe(Y.unscopables)&&(Array.prototype[Y.unscopables].values=!0)),l&&Array.prototype.values&&"values"!==Array.prototype.values.name){var Ye=Array.prototype.values;se(Array.prototype,"values",function(){return ye.Call(Ye,this,arguments)}),y(Array.prototype,ue,Array.prototype.values,!0)}m(Array.prototype,Xe),1/[!0].indexOf(!0,-0)<0&&y(Array.prototype,"indexOf",function(e){var t=E(this,arguments);return 0===t&&1/t<0?0:t},!0),_e(Array.prototype,function(){return this.values()}),Object.getPrototypeOf&&_e(Object.getPrototypeOf([].values()));var Je,Ke=s(function(){return 0===Array.from({length:-1}).length}),Ze=1===(Je=Array.from([0].entries())).length&&a(Je[0])&&0===Je[0][0]&&0===Je[0][1];if(Ke&&Ze||se(Array,"from",Ge.from),!s(function(){return Array.from([0],void 0)})){var Qe=Array.from;se(Array,"from",function(e){return arguments.length>1&&void 0!==arguments[1]?ye.Call(Qe,this,arguments):r(Qe,this,e)})}var et=-(Math.pow(2,32)-1),tt=function(e,t){var n={length:et};return n[t?(n.length>>>0)-1:0]=!0,s(function(){return r(e,n,function(){throw new RangeError("should not reach here")},[]),!0})};if(!tt(Array.prototype.forEach)){var nt=Array.prototype.forEach;se(Array.prototype,"forEach",function(e){return ye.Call(nt,this.length>=0?this:[],arguments)})}if(!tt(Array.prototype.map)){var rt=Array.prototype.map;se(Array.prototype,"map",function(e){return ye.Call(rt,this.length>=0?this:[],arguments)})}if(!tt(Array.prototype.filter)){var at=Array.prototype.filter;se(Array.prototype,"filter",function(e){return ye.Call(at,this.length>=0?this:[],arguments)})}if(!tt(Array.prototype.some)){var it=Array.prototype.some;se(Array.prototype,"some",function(e){return ye.Call(it,this.length>=0?this:[],arguments)})}if(!tt(Array.prototype.every)){var ot=Array.prototype.every;se(Array.prototype,"every",function(e){return ye.Call(ot,this.length>=0?this:[],arguments)})}if(!tt(Array.prototype.reduce)){var st=Array.prototype.reduce;se(Array.prototype,"reduce",function(e){return ye.Call(st,this.length>=0?this:[],arguments)})}if(!tt(Array.prototype.reduceRight,!0)){var ct=Array.prototype.reduceRight;se(Array.prototype,"reduceRight",function(e){return ye.Call(ct,this.length>=0?this:[],arguments)})}var ut=8!==Number("0o10"),lt=2!==Number("0b10"),pt=h(He,function(e){return 0===Number(e+0+e)});if(ut||lt||pt){var ft=Number,dt=/^0b[01]+$/i,ht=/^0o[0-7]+$/i,yt=dt.test.bind(dt),mt=ht.test.bind(ht),gt=ze.test.bind(ze),vt=$e.test.bind($e),bt=function(){var e=function(t){var n;"string"==typeof(n=arguments.length>0?re(t)?t:function(e){var t;if("function"==typeof e.valueOf&&(t=e.valueOf(),re(t)))return t;if("function"==typeof e.toString&&(t=e.toString(),re(t)))return t;throw new TypeError("No default value")}(t):0)&&(n=ye.Call(Ve,n),yt(n)?n=parseInt(N(n,2),2):mt(n)?n=parseInt(N(n,2),8):(gt(n)||vt(n))&&(n=NaN));var r=this,a=s(function(){return ft.prototype.valueOf.call(r),!0});return r instanceof e&&!a?new ft(n):ft(n)};return e}();Ae(ft,bt,{}),m(bt,{NaN:ft.NaN,MAX_VALUE:ft.MAX_VALUE,MIN_VALUE:ft.MIN_VALUE,NEGATIVE_INFINITY:ft.NEGATIVE_INFINITY,POSITIVE_INFINITY:ft.POSITIVE_INFINITY}),Number=bt,T(j,"Number",bt)}var wt=Math.pow(2,53)-1;m(Number,{MAX_SAFE_INTEGER:wt,MIN_SAFE_INTEGER:-wt,EPSILON:2.220446049250313e-16,parseInt:j.parseInt,parseFloat:j.parseFloat,isFinite:Z,isInteger:function(e){return Z(e)&&ye.ToInteger(e)===e},isSafeInteger:function(e){return Number.isInteger(e)&&q(e)<=Number.MAX_SAFE_INTEGER},isNaN:K}),y(Number,"parseInt",j.parseInt,Number.parseInt!==j.parseInt),1===[,1].find(function(){return!0})&&se(Array.prototype,"find",Xe.find),0!==[,1].findIndex(function(){return!0})&&se(Array.prototype,"findIndex",Xe.findIndex);var Tt,St,xt,kt=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable),Ot=function(e,t){u&&kt(e,t)&&Object.defineProperty(e,t,{enumerable:!1})},jt=function(){for(var e=Number(this),t=arguments.length,n=t-e,r=new Array(n<0?0:n),a=e;a<t;++a)r[a-e]=arguments[a];return r},At=function(e){return function(t,n){return t[n]=e[n],t}},Ct=function(e,t){var n,r=i(Object(t));return ye.IsCallable(Object.getOwnPropertySymbols)&&(n=d(Object.getOwnPropertySymbols(Object(t)),kt(t))),f(_(r,n||[]),At(t),e)},Et={assign:function(e,t){var n=ye.ToObject(e,"Cannot convert undefined or null to object");return f(ye.Call(jt,1,arguments),Ct,n)},is:function(e,t){return ye.SameValue(e,t)}};if(Object.assign&&Object.preventExtensions&&function(){var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}}()&&se(Object,"assign",Et.assign),m(Object,Et),u){var _t={setPrototypeOf:function(e,t){var n,a=function(e,t){return function(e,t){if(!ye.TypeIsObject(e))throw new TypeError("cannot set prototype on a non-object");if(null!==t&&!ye.TypeIsObject(t))throw new TypeError("can only set prototype to an object or null"+t)}(e,t),r(n,e,t),e};try{n=e.getOwnPropertyDescriptor(e.prototype,"__proto__").set,r(n,{},null)}catch(t){if(e.prototype!=={}.__proto__)return;n=function(e){this.__proto__=e},a.polyfill=a(a({},null),e.prototype)instanceof e}return a}(Object)};m(Object,_t)}if(Object.setPrototypeOf&&Object.getPrototypeOf&&null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&&null===Object.getPrototypeOf(Object.create(null))&&(Tt=Object.create(null),St=Object.getPrototypeOf,xt=Object.setPrototypeOf,Object.getPrototypeOf=function(e){var t=St(e);return t===Tt?null:t},Object.setPrototypeOf=function(e,t){return xt(e,null===t?Tt:t)},Object.setPrototypeOf.polyfill=!1),!!o(function(){return Object.keys("foo")})){var Nt=Object.keys;se(Object,"keys",function(e){return Nt(ye.ToObject(e))}),i=Object.keys}if(o(function(){return Object.keys(/a/g)})){var Pt=Object.keys;se(Object,"keys",function(e){if(ie(e)){var t=[];for(var n in e)z(e,n)&&P(t,n);return t}return Pt(e)}),i=Object.keys}if(Object.getOwnPropertyNames&&!!o(function(){return Object.getOwnPropertyNames("foo")})){var It="object"===("undefined"==typeof window?"undefined":_typeof(window))?Object.getOwnPropertyNames(window):[],Mt=Object.getOwnPropertyNames;se(Object,"getOwnPropertyNames",function(e){var t=ye.ToObject(e);if("[object Window]"===g(t))try{return Mt(t)}catch(e){return _([],It)}return Mt(t)})}if(Object.getOwnPropertyDescriptor&&!!o(function(){return Object.getOwnPropertyDescriptor("foo","bar")})){var Dt=Object.getOwnPropertyDescriptor;se(Object,"getOwnPropertyDescriptor",function(e,t){return Dt(ye.ToObject(e),t)})}if(Object.seal&&!!o(function(){return Object.seal("foo")})){var Rt=Object.seal;se(Object,"seal",function(e){return ye.TypeIsObject(e)?Rt(e):e})}if(Object.isSealed&&!!o(function(){return Object.isSealed("foo")})){var Lt=Object.isSealed;se(Object,"isSealed",function(e){return!ye.TypeIsObject(e)||Lt(e)})}if(Object.freeze&&!!o(function(){return Object.freeze("foo")})){var qt=Object.freeze;se(Object,"freeze",function(e){return ye.TypeIsObject(e)?qt(e):e})}if(Object.isFrozen&&!!o(function(){return Object.isFrozen("foo")})){var Ft=Object.isFrozen;se(Object,"isFrozen",function(e){return!ye.TypeIsObject(e)||Ft(e)})}if(Object.preventExtensions&&!!o(function(){return Object.preventExtensions("foo")})){var Vt=Object.preventExtensions;se(Object,"preventExtensions",function(e){return ye.TypeIsObject(e)?Vt(e):e})}if(Object.isExtensible&&!!o(function(){return Object.isExtensible("foo")})){var Ht=Object.isExtensible;se(Object,"isExtensible",function(e){return!!ye.TypeIsObject(e)&&Ht(e)})}if(Object.getPrototypeOf&&!!o(function(){return Object.getPrototypeOf("foo")})){var zt=Object.getPrototypeOf;se(Object,"getPrototypeOf",function(e){return zt(ye.ToObject(e))})}var $t,Bt=u&&(($t=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags"))&&ye.IsCallable($t.get));if(u&&!Bt){b(RegExp.prototype,"flags",function(){if(!ye.TypeIsObject(this))throw new TypeError("Method called on incompatible type: must be an object.");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e})}var Wt,Ut=u&&s(function(){return"/a/i"===String(new RegExp(/a/g,"i"))}),Gt=ce&&u&&((Wt=/./)[Y.match]=!1,RegExp(Wt)===Wt),Xt=s(function(){return"/abc/"===RegExp.prototype.toString.call({source:"abc"})}),Yt=Xt&&s(function(){return"/a/b"===RegExp.prototype.toString.call({source:"a",flags:"b"})});if(!Xt||!Yt){var Jt=RegExp.prototype.toString;y(RegExp.prototype,"toString",function(){var e=ye.RequireObjectCoercible(this);return ie(e)?r(Jt,e):"/"+fe(e.source)+"/"+fe(e.flags)},!0),x(RegExp.prototype.toString,Jt)}if(u&&(!Ut||Gt)){var Kt=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get,Zt=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{},Qt=ye.IsCallable(Zt.get)?Zt.get:function(){return this.source},en=RegExp,tn=function e(t,n){var r=ye.IsRegExp(t);return this instanceof e||!r||void 0!==n||t.constructor!==e?ie(t)?new e(ye.Call(Qt,t),void 0===n?ye.Call(Kt,t):n):(r&&(t.source,void 0===n&&t.flags),new en(t,n)):t};Ae(en,tn,{$input:!0}),RegExp=tn,T(j,"RegExp",tn)}if(u){var nn={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};p(i(nn),function(e){e in RegExp&&!(nn[e]in RegExp)&&b(RegExp,nn[e],function(){return RegExp[e]})})}Ee(RegExp);var rn=1/Number.EPSILON,an=Math.pow(2,-23),on=Math.pow(2,127)*(2-an),sn=Math.pow(2,-126),cn=Math.E,un=Math.LOG2E,ln=Math.LOG10E,pn=Number.prototype.clz;delete Number.prototype.clz;var fn={acosh:function(e){var t=Number(e);if(K(t)||e<1)return NaN;if(1===t)return 0;if(t===1/0)return t;var n=1/(t*t);if(t<2)return ee(t-1+H(1-n)*t);var r=t/2;return ee(r+H(1-n)*r-1)+1/un},asinh:function(e){var t=Number(e);if(0===t||!A(t))return t;var n=q(t),r=n*n,a=Q(t);return n<1?a*ee(n+r/(H(r+1)+1)):a*(ee(n/2+H(1+1/r)*n/2-1)+1/un)},atanh:function(e){var t=Number(e);if(0===t)return t;if(-1===t)return-1/0;if(1===t)return 1/0;if(K(t)||t<-1||t>1)return NaN;var n=q(t);return Q(t)*ee(2*n/(1-n))/2},cbrt:function(e){var t=Number(e);if(0===t)return t;var n,r=t<0;return r&&(t=-t),n=t===1/0?1/0:(t/((n=F(V(t)/3))*n)+2*n)/3,r?-n:n},clz32:function(e){var t=Number(e),n=ye.ToUint32(t);return 0===n?32:pn?ye.Call(pn,n):31-L(V(n+.5)*un)},cosh:function(e){var t=Number(e);if(0===t)return 1;if(K(t))return NaN;if(!A(t))return 1/0;var n=F(q(t)-1);return(n+1/(n*cn*cn))*(cn/2)},expm1:function(e){var t=Number(e);if(t===-1/0)return-1;if(!A(t)||0===t)return t;if(q(t)>.5)return F(t)-1;for(var n=t,r=0,a=1;r+n!==r;)r+=n,n*=t/(a+=1);return r},hypot:function(e,t){for(var n=0,r=0,a=0;a<arguments.length;++a){var i=q(Number(arguments[a]));r<i?(n*=r/i*(r/i),n+=1,r=i):n+=i>0?i/r*(i/r):i}return r===1/0?1/0:r*H(n)},log2:function(e){return V(e)*un},log10:function(e){return V(e)*ln},log1p:ee,sign:Q,sinh:function(e){var t=Number(e);if(!A(t)||0===t)return t;var n=q(t);if(n<1){var r=Math.expm1(n);return Q(t)*r*(1+1/(r+1))/2}var a=F(n-1);return Q(t)*(a-1/(a*cn*cn))*(cn/2)},tanh:function(e){var t=Number(e);return K(t)||0===t?t:t>=20?1:t<=-20?-1:(Math.expm1(t)-Math.expm1(-t))/(F(t)+F(-t))},trunc:function(e){var t=Number(e);return t<0?-L(-t):L(t)},imul:function(e,t){var n=ye.ToUint32(e),r=ye.ToUint32(t),a=65535&n,i=65535&r;return a*i+((n>>>16&65535)*i+a*(r>>>16&65535)<<16>>>0)|0},fround:function(e){var t=Number(e);if(0===t||t===1/0||t===-1/0||K(t))return t;var n=Q(t),r=q(t);if(r<sn)return n*(r/sn/an+rn-rn)*sn*an;var a=(1+an/Number.EPSILON)*r,i=a-(a-r);return i>on||K(i)?n*(1/0):n*i}},dn=function(e,t,n){return q(1-e/t)/Number.EPSILON<(n||8)};m(Math,fn),y(Math,"sinh",fn.sinh,Math.sinh(710)===1/0),y(Math,"cosh",fn.cosh,Math.cosh(710)===1/0),y(Math,"log1p",fn.log1p,-1e-17!==Math.log1p(-1e-17)),y(Math,"asinh",fn.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7)),y(Math,"asinh",fn.asinh,Math.asinh(1e300)===1/0),y(Math,"atanh",fn.atanh,0===Math.atanh(1e-300)),y(Math,"tanh",fn.tanh,-2e-17!==Math.tanh(-2e-17)),y(Math,"acosh",fn.acosh,Math.acosh(Number.MAX_VALUE)===1/0),y(Math,"acosh",fn.acosh,!dn(Math.acosh(1+Number.EPSILON),Math.sqrt(2*Number.EPSILON))),y(Math,"cbrt",fn.cbrt,!dn(Math.cbrt(1e-300),1e-100)),y(Math,"sinh",fn.sinh,-2e-17!==Math.sinh(-2e-17));var hn=Math.expm1(10);y(Math,"expm1",fn.expm1,hn>22025.465794806718||hn<22025.465794806718);var yn=Math.round,mn=0===Math.round(.5-Number.EPSILON/4)&&1===Math.round(Number.EPSILON/3.99-.5),gn=[rn+1,2*rn-1].every(function(e){return Math.round(e)===e});y(Math,"round",function(e){var t=L(e);return e-t<.5?t:-1===t?-0:t+1},!mn||!gn),x(Math.round,yn);var vn=Math.imul;-5!==Math.imul(4294967295,5)&&(Math.imul=fn.imul,x(Math.imul,vn)),2!==Math.imul.length&&se(Math,"imul",function(e,t){return ye.Call(vn,Math,arguments)});var bn,wn,Tn=function(){var e=j.setTimeout;if("function"==typeof e||"object"===(void 0===e?"undefined":_typeof(e))){ye.IsPromise=function(e){return!!ye.TypeIsObject(e)&&void 0!==e._promise};var t,n=function(e){if(!ye.IsConstructor(e))throw new TypeError("Bad promise constructor");var t=this;if(t.resolve=void 0,t.reject=void 0,t.promise=new e(function(e,n){if(void 0!==t.resolve||void 0!==t.reject)throw new TypeError("Bad Promise implementation!");t.resolve=e,t.reject=n}),!ye.IsCallable(t.resolve)||!ye.IsCallable(t.reject))throw new TypeError("Bad promise constructor")};"undefined"!=typeof window&&ye.IsCallable(window.postMessage)&&(t=function(){var e=[];return window.addEventListener("message",function(t){if(t.source===window&&"zero-timeout-message"===t.data){if(t.stopPropagation(),0===e.length)return;M(e)()}},!0),function(t){P(e,t),window.postMessage("zero-timeout-message","*")}});var a,i,o,s,c,u=ye.IsCallable(j.setImmediate)?j.setImmediate:"object"===("undefined"==typeof process?"undefined":_typeof(process))&&process.nextTick?process.nextTick:(a=j.Promise,(i=a&&a.resolve&&a.resolve())&&function(e){return i.then(e)}||(ye.IsCallable(t)?t():function(t){e(t,0)})),l=function(e){return e},p=function(e){throw e},f={},d=function(e,t,n){u(function(){h(e,t,n)})},h=function(e,t,n){var r,a;if(t===f)return e(n);try{r=e(n),a=t.resolve}catch(e){r=e,a=t.reject}a(r)},y=function(e,t){var n=e._promise,r=n.reactionLength;if(r>0&&(d(n.fulfillReactionHandler0,n.reactionCapability0,t),n.fulfillReactionHandler0=void 0,n.rejectReactions0=void 0,n.reactionCapability0=void 0,r>1))for(var a=1,i=0;a<r;a++,i+=3)d(n[i+0],n[i+2],t),e[i+0]=void 0,e[i+1]=void 0,e[i+2]=void 0;n.result=t,n.state=1,n.reactionLength=0},g=function(e,t){var n=e._promise,r=n.reactionLength;if(r>0&&(d(n.rejectReactionHandler0,n.reactionCapability0,t),n.fulfillReactionHandler0=void 0,n.rejectReactions0=void 0,n.reactionCapability0=void 0,r>1))for(var a=1,i=0;a<r;a++,i+=3)d(n[i+1],n[i+2],t),e[i+0]=void 0,e[i+1]=void 0,e[i+2]=void 0;n.result=t,n.state=2,n.reactionLength=0},v=function(e){var t=!1;return{resolve:function(n){var r;if(!t){if(t=!0,n===e)return g(e,new TypeError("Self resolution"));if(!ye.TypeIsObject(n))return y(e,n);try{r=n.then}catch(t){return g(e,t)}if(!ye.IsCallable(r))return y(e,n);u(function(){w(e,n,r)})}},reject:function(n){if(!t)return t=!0,g(e,n)}}},b=function(e,t,n,a){e===s?r(e,t,n,a,f):r(e,t,n,a)},w=function(e,t,n){var r=v(e),a=r.resolve,i=r.reject;try{b(n,t,a,i)}catch(e){i(e)}},T=c=function(e){if(!(this instanceof c))throw new TypeError('Constructor Promise requires "new"');if(this&&this._promise)throw new TypeError("Bad construction");if(!ye.IsCallable(e))throw new TypeError("not a valid resolver");var t=Pe(this,c,o,{_promise:{result:void 0,state:0,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}}),n=v(t),r=n.reject;try{e(n.resolve,r)}catch(e){r(e)}return t};o=T.prototype;var S=function(e,t,n,r){var a=!1;return function(i){a||(a=!0,t[e]=i,0==--r.count&&(0,n.resolve)(t))}};return m(T,{all:function(e){var t=this;if(!ye.TypeIsObject(t))throw new TypeError("Promise is not object");var r,a,i=new n(t);try{return function(e,t,n){for(var r,a,i=e.iterator,o=[],s={count:1},c=0;;){try{if(!1===(r=ye.IteratorStep(i))){e.done=!0;break}a=r.value}catch(t){throw e.done=!0,t}o[c]=void 0;var u=t.resolve(a),l=S(c,o,n,s);s.count+=1,b(u.then,u,l,n.reject),c+=1}0==--s.count&&(0,n.resolve)(o);return n.promise}(a={iterator:r=ye.GetIterator(e),done:!1},t,i)}catch(e){var o=e;if(a&&!a.done)try{ye.IteratorClose(r,!0)}catch(e){o=e}return(0,i.reject)(o),i.promise}},race:function(e){var t=this;if(!ye.TypeIsObject(t))throw new TypeError("Promise is not object");var r,a,i=new n(t);try{return function(e,t,n){for(var r,a,i,o=e.iterator;;){try{if(!1===(r=ye.IteratorStep(o))){e.done=!0;break}a=r.value}catch(t){throw e.done=!0,t}i=t.resolve(a),b(i.then,i,n.resolve,n.reject)}return n.promise}(a={iterator:r=ye.GetIterator(e),done:!1},t,i)}catch(e){var o=e;if(a&&!a.done)try{ye.IteratorClose(r,!0)}catch(e){o=e}return(0,i.reject)(o),i.promise}},reject:function(e){if(!ye.TypeIsObject(this))throw new TypeError("Bad promise constructor");var t=new n(this);return(0,t.reject)(e),t.promise},resolve:function(e){var t=this;if(!ye.TypeIsObject(t))throw new TypeError("Bad promise constructor");if(ye.IsPromise(e)&&e.constructor===t)return e;var r=new n(t);return(0,r.resolve)(e),r.promise}}),m(o,{catch:function(e){return this.then(null,e)},then:function(e,t){if(!ye.IsPromise(this))throw new TypeError("not a promise");var r,a=ye.SpeciesConstructor(this,T);r=arguments.length>2&&arguments[2]===f&&a===T?f:new n(a);var i,o=ye.IsCallable(e)?e:l,s=ye.IsCallable(t)?t:p,c=this._promise;if(0===c.state){if(0===c.reactionLength)c.fulfillReactionHandler0=o,c.rejectReactionHandler0=s,c.reactionCapability0=r;else{var u=3*(c.reactionLength-1);c[u+0]=o,c[u+1]=s,c[u+2]=r}c.reactionLength+=1}else if(1===c.state)i=c.result,d(o,r,i);else{if(2!==c.state)throw new TypeError("unexpected Promise state");i=c.result,d(s,r,i)}return r.promise}}),f=new n(T),s=o.then,T}}();if(j.Promise&&(delete j.Promise.accept,delete j.Promise.defer,delete j.Promise.prototype.chain),"function"==typeof Tn){m(j,{Promise:Tn});var Sn=O(j.Promise,function(e){return e.resolve(42).then(function(){})instanceof e}),xn=!o(function(){return j.Promise.reject(42).then(null,5).then(null,$)}),kn=o(function(){return j.Promise.call(3,$)}),On=function(e){var t=e.resolve(5);t.constructor={};var n=e.resolve(t);try{n.then(null,$).then(null,$)}catch(e){return!0}return t===n}(j.Promise),jn=u&&(bn=0,wn=Object.defineProperty({},"then",{get:function(){bn+=1}}),Promise.resolve(wn),1===bn),An=function e(t){var n=new Promise(t);t(3,function(){}),this.then=n.then,this.constructor=e};An.prototype=Promise.prototype,An.all=Promise.all;var Cn=s(function(){return!!An.all([1,2])});if(Sn&&xn&&kn&&!On&&jn&&!Cn||(Promise=Tn,se(j,"Promise",Tn)),1!==Promise.all.length){var En=Promise.all;se(Promise,"all",function(e){return ye.Call(En,this,arguments)})}if(1!==Promise.race.length){var _n=Promise.race;se(Promise,"race",function(e){return ye.Call(_n,this,arguments)})}if(1!==Promise.resolve.length){var Nn=Promise.resolve;se(Promise,"resolve",function(e){return ye.Call(Nn,this,arguments)})}if(1!==Promise.reject.length){var Pn=Promise.reject;se(Promise,"reject",function(e){return ye.Call(Pn,this,arguments)})}Ot(Promise,"all"),Ot(Promise,"race"),Ot(Promise,"resolve"),Ot(Promise,"reject"),Ee(Promise)}var In,Mn,Dn=function(e){var t=i(f(e,function(e,t){return e[t]=!0,e},{}));return e.join(":")===t.join(":")},Rn=Dn(["z","a","bb"]),Ln=Dn(["z",1,"a","3",2]);if(u){var qn=function(e,t){return t||Rn?he(e)?"^"+ye.ToString(e):"string"==typeof e?"$"+e:"number"==typeof e?Ln?e:"n"+e:"boolean"==typeof e?"b"+e:null:null},Fn=function(){return Object.create?Object.create(null):{}},Vn=function(e,t,n){if(a(n)||ae(n))p(n,function(e){if(!ye.TypeIsObject(e))throw new TypeError("Iterator value "+e+" is not an entry object");t.set(e[0],e[1])});else if(n instanceof e)r(e.prototype.forEach,n,function(e,n){t.set(n,e)});else{var i,o;if(!he(n)){if(o=t.set,!ye.IsCallable(o))throw new TypeError("bad map");i=ye.GetIterator(n)}if(void 0!==i)for(;;){var s=ye.IteratorStep(i);if(!1===s)break;var c=s.value;try{if(!ye.TypeIsObject(c))throw new TypeError("Iterator value "+c+" is not an entry object");r(o,t,c[0],c[1])}catch(e){throw ye.IteratorClose(i,!0),e}}}},Hn=function(e,t,n){if(a(n)||ae(n))p(n,function(e){t.add(e)});else if(n instanceof e)r(e.prototype.forEach,n,function(e){t.add(e)});else{var i,o;if(!he(n)){if(o=t.add,!ye.IsCallable(o))throw new TypeError("bad set");i=ye.GetIterator(n)}if(void 0!==i)for(;;){var s=ye.IteratorStep(i);if(!1===s)break;var c=s.value;try{r(o,t,c)}catch(e){throw ye.IteratorClose(i,!0),e}}}},zn={Map:function(){var e={},t=function(e,t){this.key=e,this.value=t,this.next=null,this.prev=null};t.prototype.isRemoved=function(){return this.key===e};var n,a=function(e,t){if(!ye.TypeIsObject(e)||!function(e){return!!e._es6map}(e))throw new TypeError("Method Map.prototype."+t+" called on incompatible receiver "+ye.ToString(e))},i=function(e,t){a(e,"[[MapIterator]]"),this.head=e._head,this.i=this.head,this.kind=t};_e(i.prototype={isMapIterator:!0,next:function(){if(!this.isMapIterator)throw new TypeError("Not a MapIterator");var e,t=this.i,n=this.kind,r=this.head;if(void 0===this.i)return We();for(;t.isRemoved()&&t!==r;)t=t.prev;for(;t.next!==r;)if(!(t=t.next).isRemoved())return e="key"===n?t.key:"value"===n?t.value:[t.key,t.value],this.i=t,We(e);return this.i=void 0,We()}});var o=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');if(this&&this._es6map)throw new TypeError("Bad construction");var r=Pe(this,e,n,{_es6map:!0,_head:null,_map:B?new B:null,_size:0,_storage:Fn()}),a=new t(null,null);return a.next=a.prev=a,r._head=a,arguments.length>0&&Vn(e,r,arguments[0]),r};return b(n=o.prototype,"size",function(){if(void 0===this._size)throw new TypeError("size method called on incompatible Map");return this._size}),m(n,{get:function(e){var t;a(this,"get");var n=qn(e,!0);if(null!==n)return(t=this._storage[n])?t.value:void 0;if(this._map)return(t=U.call(this._map,e))?t.value:void 0;for(var r=this._head,i=r;(i=i.next)!==r;)if(ye.SameValueZero(i.key,e))return i.value},has:function(e){a(this,"has");var t=qn(e,!0);if(null!==t)return void 0!==this._storage[t];if(this._map)return G.call(this._map,e);for(var n=this._head,r=n;(r=r.next)!==n;)if(ye.SameValueZero(r.key,e))return!0;return!1},set:function(e,n){a(this,"set");var r,i=this._head,o=i,s=qn(e,!0);if(null!==s){if(void 0!==this._storage[s])return this._storage[s].value=n,this;r=this._storage[s]=new t(e,n),o=i.prev}else this._map&&(G.call(this._map,e)?U.call(this._map,e).value=n:(r=new t(e,n),X.call(this._map,e,r),o=i.prev));for(;(o=o.next)!==i;)if(ye.SameValueZero(o.key,e))return o.value=n,this;return r=r||new t(e,n),ye.SameValue(-0,e)&&(r.key=0),r.next=this._head,r.prev=this._head.prev,r.prev.next=r,r.next.prev=r,this._size+=1,this},delete:function(t){a(this,"delete");var n=this._head,r=n,i=qn(t,!0);if(null!==i){if(void 0===this._storage[i])return!1;r=this._storage[i].prev,delete this._storage[i]}else if(this._map){if(!G.call(this._map,t))return!1;r=U.call(this._map,t).prev,W.call(this._map,t)}for(;(r=r.next)!==n;)if(ye.SameValueZero(r.key,t))return r.key=e,r.value=e,r.prev.next=r.next,r.next.prev=r.prev,this._size-=1,!0;return!1},clear:function(){a(this,"clear"),this._map=B?new B:null,this._size=0,this._storage=Fn();for(var t=this._head,n=t,r=n.next;(n=r)!==t;)n.key=e,n.value=e,r=n.next,n.next=n.prev=t;t.next=t.prev=t},keys:function(){return a(this,"keys"),new i(this,"key")},values:function(){return a(this,"values"),new i(this,"value")},entries:function(){return a(this,"entries"),new i(this,"key+value")},forEach:function(e){a(this,"forEach");for(var t=arguments.length>1?arguments[1]:null,n=this.entries(),i=n.next();!i.done;i=n.next())t?r(e,t,i.value[1],i.value[0],this):e(i.value[1],i.value[0],this)}}),_e(n,n.entries),o}(),Set:function(){var e,t=function(e,t){if(!ye.TypeIsObject(e)||!function(e){return e._es6set&&void 0!==e._storage}(e))throw new TypeError("Set.prototype."+t+" called on incompatible receiver "+ye.ToString(e))},n=function t(){if(!(this instanceof t))throw new TypeError('Constructor Set requires "new"');if(this&&this._es6set)throw new TypeError("Bad construction");var n=Pe(this,t,e,{_es6set:!0,"[[SetData]]":null,_storage:Fn()});if(!n._es6set)throw new TypeError("bad set");return arguments.length>0&&Hn(t,n,arguments[0]),n};e=n.prototype;var a=function(e){if(!e["[[SetData]]"]){var t=new zn.Map;e["[[SetData]]"]=t,p(i(e._storage),function(e){var n=function(e){var t=e;if("^null"===t)return null;if("^undefined"!==t){var n=t.charAt(0);return"$"===n?N(t,1):"n"===n?+N(t,1):"b"===n?"btrue"===t:+t}}(e);t.set(n,n)}),e["[[SetData]]"]=t}e._storage=null};b(n.prototype,"size",function(){return t(this,"size"),this._storage?i(this._storage).length:(a(this),this["[[SetData]]"].size)}),m(n.prototype,{has:function(e){var n;return t(this,"has"),this._storage&&null!==(n=qn(e))?!!this._storage[n]:(a(this),this["[[SetData]]"].has(e))},add:function(e){var n;return t(this,"add"),this._storage&&null!==(n=qn(e))?(this._storage[n]=!0,this):(a(this),this["[[SetData]]"].set(e,e),this)},delete:function(e){var n;if(t(this,"delete"),this._storage&&null!==(n=qn(e))){var r=z(this._storage,n);return delete this._storage[n]&&r}return a(this),this["[[SetData]]"].delete(e)},clear:function(){t(this,"clear"),this._storage&&(this._storage=Fn()),this["[[SetData]]"]&&this["[[SetData]]"].clear()},values:function(){return t(this,"values"),a(this),new o(this["[[SetData]]"].values())},entries:function(){return t(this,"entries"),a(this),new o(this["[[SetData]]"].entries())},forEach:function(e){t(this,"forEach");var n=arguments.length>1?arguments[1]:null,i=this;a(i),this["[[SetData]]"].forEach(function(t,a){n?r(e,n,a,a,i):e(a,a,i)})}}),y(n.prototype,"keys",n.prototype.values,!0),_e(n.prototype,n.prototype.values);var o=function(e){this.it=e};return o.prototype={isSetIterator:!0,next:function(){if(!this.isSetIterator)throw new TypeError("Not a SetIterator");return this.it.next()}},_e(o.prototype),n}()};if(j.Set&&!Set.prototype.delete&&Set.prototype.remove&&Set.prototype.items&&Set.prototype.map&&Array.isArray((new Set).keys)&&(j.Set=zn.Set),j.Map||j.Set){s(function(){return 2===new Map([[1,2]]).get(1)})||(j.Map=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');var t=new B;return arguments.length>0&&Vn(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,j.Map.prototype),t},j.Map.prototype=k(B.prototype),y(j.Map.prototype,"constructor",j.Map,!0),x(j.Map,B));var $n=new Map,Bn=((Mn=new Map([[1,0],[2,0],[3,0],[4,0]])).set(-0,Mn),Mn.get(0)===Mn&&Mn.get(-0)===Mn&&Mn.has(0)&&Mn.has(-0)),Wn=$n.set(1,2)===$n;Bn&&Wn||se(Map.prototype,"set",function(e,t){return r(X,this,0===e?0:e,t),this}),Bn||(m(Map.prototype,{get:function(e){return r(U,this,0===e?0:e)},has:function(e){return r(G,this,0===e?0:e)}},!0),x(Map.prototype.get,U),x(Map.prototype.has,G));var Un=new Set,Gn=Set.prototype.delete&&Set.prototype.add&&Set.prototype.has&&((In=Un).delete(0),In.add(-0),!In.has(0)),Xn=Un.add(1)===Un;if(!Gn||!Xn){var Yn=Set.prototype.add;Set.prototype.add=function(e){return r(Yn,this,0===e?0:e),this},x(Set.prototype.add,Yn)}if(!Gn){var Jn=Set.prototype.has;Set.prototype.has=function(e){return r(Jn,this,0===e?0:e)},x(Set.prototype.has,Jn);var Kn=Set.prototype.delete;Set.prototype.delete=function(e){return r(Kn,this,0===e?0:e)},x(Set.prototype.delete,Kn)}var Zn=O(j.Map,function(e){var t=new e([]);return t.set(42,42),t instanceof e}),Qn=Object.setPrototypeOf&&!Zn,er=function(){try{return!(j.Map()instanceof j.Map)}catch(e){return e instanceof TypeError}}();0===j.Map.length&&!Qn&&er||(j.Map=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');var t=new B;return arguments.length>0&&Vn(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,e.prototype),t},j.Map.prototype=B.prototype,y(j.Map.prototype,"constructor",j.Map,!0),x(j.Map,B));var tr=O(j.Set,function(e){var t=new e([]);return t.add(42,42),t instanceof e}),nr=Object.setPrototypeOf&&!tr,rr=function(){try{return!(j.Set()instanceof j.Set)}catch(e){return e instanceof TypeError}}();if(0!==j.Set.length||nr||!rr){var ar=j.Set;j.Set=function e(){if(!(this instanceof e))throw new TypeError('Constructor Set requires "new"');var t=new ar;return arguments.length>0&&Hn(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,e.prototype),t},j.Set.prototype=ar.prototype,y(j.Set.prototype,"constructor",j.Set,!0),x(j.Set,ar)}var ir=new j.Map,or=!s(function(){return ir.keys().next().done});if(("function"!=typeof j.Map.prototype.clear||0!==(new j.Set).size||0!==ir.size||"function"!=typeof j.Map.prototype.keys||"function"!=typeof j.Set.prototype.keys||"function"!=typeof j.Map.prototype.forEach||"function"!=typeof j.Set.prototype.forEach||c(j.Map)||c(j.Set)||"function"!=typeof ir.keys().next||or||!Zn)&&m(j,{Map:zn.Map,Set:zn.Set},!0),j.Set.prototype.keys!==j.Set.prototype.values&&y(j.Set.prototype,"keys",j.Set.prototype.values,!0),_e(Object.getPrototypeOf((new j.Map).keys())),_e(Object.getPrototypeOf((new j.Set).keys())),l&&"has"!==j.Set.prototype.has.name){var sr=j.Set.prototype.has;se(j.Set.prototype,"has",function(e){return r(sr,this,e)})}}m(j,zn),Ee(j.Map),Ee(j.Set)}var cr=function(e){if(!ye.TypeIsObject(e))throw new TypeError("target must be an object")},ur={apply:function(){return ye.Call(ye.Call,null,arguments)},construct:function(e,t){if(!ye.IsConstructor(e))throw new TypeError("First argument must be a constructor.");var n=arguments.length>2?arguments[2]:e;if(!ye.IsConstructor(n))throw new TypeError("new.target must be a constructor.");return ye.Construct(e,t,n,"internal")},deleteProperty:function(e,t){if(cr(e),u){var n=Object.getOwnPropertyDescriptor(e,t);if(n&&!n.configurable)return!1}return delete e[t]},has:function(e,t){return cr(e),t in e}};Object.getOwnPropertyNames&&Object.assign(ur,{ownKeys:function(e){cr(e);var t=Object.getOwnPropertyNames(e);return ye.IsCallable(Object.getOwnPropertySymbols)&&I(t,Object.getOwnPropertySymbols(e)),t}});var lr=function(e){return!o(e)};if(Object.preventExtensions&&Object.assign(ur,{isExtensible:function(e){return cr(e),Object.isExtensible(e)},preventExtensions:function(e){return cr(e),lr(function(){return Object.preventExtensions(e)})}}),u){var pr=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e,t);if(!r){var a=Object.getPrototypeOf(e);if(null===a)return;return pr(a,t,n)}return"value"in r?r.value:r.get?ye.Call(r.get,n):void 0},fr=function(e,t,n,a){var i=Object.getOwnPropertyDescriptor(e,t);if(!i){var o=Object.getPrototypeOf(e);if(null!==o)return fr(o,t,n,a);i={value:void 0,writable:!0,enumerable:!0,configurable:!0}}return"value"in i?!!i.writable&&(!!ye.TypeIsObject(a)&&(Object.getOwnPropertyDescriptor(a,t)?pe.defineProperty(a,t,{value:n}):pe.defineProperty(a,t,{value:n,writable:!0,enumerable:!0,configurable:!0}))):!!i.set&&(r(i.set,a,n),!0)};Object.assign(ur,{defineProperty:function(e,t,n){return cr(e),lr(function(){return Object.defineProperty(e,t,n)})},getOwnPropertyDescriptor:function(e,t){return cr(e),Object.getOwnPropertyDescriptor(e,t)},get:function(e,t){cr(e);var n=arguments.length>2?arguments[2]:e;return pr(e,t,n)},set:function(e,t,n){cr(e);var r=arguments.length>3?arguments[3]:e;return fr(e,t,n,r)}})}if(Object.getPrototypeOf){var dr=Object.getPrototypeOf;ur.getPrototypeOf=function(e){return cr(e),dr(e)}}if(Object.setPrototypeOf&&ur.getPrototypeOf){Object.assign(ur,{setPrototypeOf:function(e,t){if(cr(e),null!==t&&!ye.TypeIsObject(t))throw new TypeError("proto must be an object or null");return t===pe.getPrototypeOf(e)||!(pe.isExtensible&&!pe.isExtensible(e))&&(!function(e,t){for(var n=t;n;){if(e===n)return!0;n=ur.getPrototypeOf(n)}return!1}(e,t)&&(Object.setPrototypeOf(e,t),!0))}})}Object.keys(ur).forEach(function(e){!function(e,t){ye.IsCallable(j.Reflect[e])?s(function(){return j.Reflect[e](1),j.Reflect[e](NaN),j.Reflect[e](!0),!0})&&se(j.Reflect,e,t):y(j.Reflect,e,t)}(e,ur[e])});var hr=j.Reflect.getPrototypeOf;if(l&&hr&&"getPrototypeOf"!==hr.name&&se(j.Reflect,"getPrototypeOf",function(e){return r(hr,j.Reflect,e)}),j.Reflect.setPrototypeOf&&s(function(){return j.Reflect.setPrototypeOf(1,{}),!0})&&se(j.Reflect,"setPrototypeOf",ur.setPrototypeOf),j.Reflect.defineProperty&&(s(function(){var e=!j.Reflect.defineProperty(1,"test",{value:1}),t="function"!=typeof Object.preventExtensions||!j.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return e&&t})||se(j.Reflect,"defineProperty",ur.defineProperty)),j.Reflect.construct&&(s(function(){var e=function(){};return j.Reflect.construct(function(){},[],e)instanceof e})||se(j.Reflect,"construct",ur.construct)),"Invalid Date"!==String(new Date(NaN))){var yr=Date.prototype.toString;se(Date.prototype,"toString",function(){var e=+this;return e!=e?"Invalid Date":ye.Call(yr,this)})}var mr={anchor:function(e){return ye.CreateHTML(this,"a","name",e)},big:function(){return ye.CreateHTML(this,"big","","")},blink:function(){return ye.CreateHTML(this,"blink","","")},bold:function(){return ye.CreateHTML(this,"b","","")},fixed:function(){return ye.CreateHTML(this,"tt","","")},fontcolor:function(e){return ye.CreateHTML(this,"font","color",e)},fontsize:function(e){return ye.CreateHTML(this,"font","size",e)},italics:function(){return ye.CreateHTML(this,"i","","")},link:function(e){return ye.CreateHTML(this,"a","href",e)},small:function(){return ye.CreateHTML(this,"small","","")},strike:function(){return ye.CreateHTML(this,"strike","","")},sub:function(){return ye.CreateHTML(this,"sub","","")},sup:function(){return ye.CreateHTML(this,"sup","","")}};p(Object.keys(mr),function(e){var t=String.prototype[e],n=!1;if(ye.IsCallable(t)){var a=r(t,"",' " '),i=_([],a.match(/"/g)).length;n=a!==a.toLowerCase()||i>2}else n=!0;n&&se(String.prototype,e,mr[e])});var gr=function(){if(!ce)return!1;var e="object"===("undefined"==typeof JSON?"undefined":_typeof(JSON))&&"function"==typeof JSON.stringify?JSON.stringify:null;if(!e)return!1;if(void 0!==e(Y()))return!0;if("[null]"!==e([Y()]))return!0;var t={a:Y()};return t[Y()]=!0,"{}"!==e(t)}(),vr=s(function(){return!ce||"{}"===JSON.stringify(Object(Y()))&&"[{}]"===JSON.stringify([Object(Y())])});if(gr||!vr){var br=JSON.stringify;se(JSON,"stringify",function(e){if("symbol"!==(void 0===e?"undefined":_typeof(e))){var t;arguments.length>1&&(t=arguments[1]);var n=[e];if(a(t))n.push(t);else{var i=ye.IsCallable(t)?t:null;n.push(function(e,t){var n=i?r(i,this,e,t):t;if("symbol"!==(void 0===n?"undefined":_typeof(n)))return oe(n)?At({})(n):n})}return arguments.length>2&&n.push(arguments[2]),br.apply(this,n)}})}return j},"function"==typeof define&&define.amd?define("es6-shim",factory):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=factory():root.returnExports=factory(),function(e,t){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){var n=[],r=Object.getPrototypeOf,a=n.slice,i=n.flat?function(e){return n.flat.call(e)}:function(e){return n.concat.apply([],e)},o=n.push,s=n.indexOf,c={},u=c.toString,l=c.hasOwnProperty,p=l.toString,f=p.call(Object),d={},h=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},y=function(e){return null!=e&&e===e.window},m=e.document,g={type:!0,src:!0,nonce:!0,noModule:!0};function v(e,t,n){var r,a,i=(n=n||m).createElement("script");if(i.text=e,t)for(r in g)(a=t[r]||t.getAttribute&&t.getAttribute(r))&&i.setAttribute(r,a);n.head.appendChild(i).parentNode.removeChild(i)}function b(e){return null==e?e+"":"object"===(void 0===e?"undefined":_typeof(e))||"function"==typeof e?c[u.call(e)]||"object":void 0===e?"undefined":_typeof(e)}var w=function e(t,n){return new e.fn.init(t,n)};function T(e){var t=!!e&&"length"in e&&e.length,n=b(e);return!h(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}w.fn=w.prototype={jquery:"3.5.1",constructor:w,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(w.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var e,t,n,r,a,i,o=arguments[0]||{},s=1,c=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[s]||{},s++),"object"===(void 0===o?"undefined":_typeof(o))||h(o)||(o={}),s===c&&(o=this,s--);s<c;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&o!==r&&(u&&r&&(w.isPlainObject(r)||(a=Array.isArray(r)))?(n=o[t],i=a&&!Array.isArray(n)?[]:a||w.isPlainObject(n)?n:{},a=!1,o[t]=w.extend(u,i,r)):void 0!==r&&(o[t]=r));return o},w.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==u.call(e))&&(!(t=r(e))||"function"==typeof(n=l.call(t,"constructor")&&t.constructor)&&p.call(n)===f)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){v(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(T(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(T(Object(e))?w.merge(n,"string"==typeof e?[e]:e):o.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:s.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,a=e.length;r<n;r++)e[a++]=t[r];return e.length=a,e},grep:function(e,t,n){for(var r=[],a=0,i=e.length,o=!n;a<i;a++)!t(e[a],a)!==o&&r.push(e[a]);return r},map:function(e,t,n){var r,a,o=0,s=[];if(T(e))for(r=e.length;o<r;o++)null!=(a=t(e[o],o,n))&&s.push(a);else for(o in e)null!=(a=t(e[o],o,n))&&s.push(a);return i(s)},guid:1,support:d}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()});var S=function(e){var t,n,r,a,i,o,s,c,u,l,p,f,d,h,y,m,g,v,b,w="sizzle"+1*new Date,T=e.document,S=0,x=0,k=ce(),O=ce(),j=ce(),A=ce(),C=function(e,t){return e===t&&(p=!0),0},E={}.hasOwnProperty,_=[],N=_.pop,P=_.push,I=_.push,M=_.slice,D=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",q="(?:\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\["+L+"*("+q+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+q+"))|)"+L+"*\\]",V=":("+q+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",H=new RegExp(L+"+","g"),z=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),$=new RegExp("^"+L+"*,"+L+"*"),B=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),W=new RegExp(L+"|>"),U=new RegExp(V),G=new RegExp("^"+q+"$"),X={ID:new RegExp("^#("+q+")"),CLASS:new RegExp("^\\.("+q+")"),TAG:new RegExp("^("+q+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+V),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ae=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){f()},oe=we(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{I.apply(_=M.call(T.childNodes),T.childNodes),_[T.childNodes.length].nodeType}catch(e){I={apply:_.length?function(e,t){P.apply(e,M.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(e,t,r,a){var i,s,u,l,p,h,g,v=t&&t.ownerDocument,T=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==T&&9!==T&&11!==T)return r;if(!a&&(f(t),t=t||d,y)){if(11!==T&&(p=Q.exec(e)))if(i=p[1]){if(9===T){if(!(u=t.getElementById(i)))return r;if(u.id===i)return r.push(u),r}else if(v&&(u=v.getElementById(i))&&b(t,u)&&u.id===i)return r.push(u),r}else{if(p[2])return I.apply(r,t.getElementsByTagName(e)),r;if((i=p[3])&&n.getElementsByClassName&&t.getElementsByClassName)return I.apply(r,t.getElementsByClassName(i)),r}if(n.qsa&&!A[e+" "]&&(!m||!m.test(e))&&(1!==T||"object"!==t.nodeName.toLowerCase())){if(g=e,v=t,1===T&&(W.test(e)||B.test(e))){for((v=ee.test(e)&&ge(t.parentNode)||t)===t&&n.scope||((l=t.getAttribute("id"))?l=l.replace(re,ae):t.setAttribute("id",l=w)),s=(h=o(e)).length;s--;)h[s]=(l?"#"+l:":scope")+" "+be(h[s]);g=h.join(",")}try{return I.apply(r,v.querySelectorAll(g)),r}catch(t){A(e,!0)}finally{l===w&&t.removeAttribute("id")}}}return c(e.replace(z,"$1"),t,r,a)}function ce(){var e=[];return function t(n,a){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=a}}function ue(e){return e[w]=!0,e}function le(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function pe(e,t){for(var n=e.split("|"),a=n.length;a--;)r.attrHandle[n[a]]=t}function fe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ye(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&oe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function me(e){return ue(function(t){return t=+t,ue(function(n,r){for(var a,i=e([],n.length,t),o=i.length;o--;)n[a=i[o]]&&(n[a]=!(r[a]=n[a]))})})}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},i=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},f=se.setDocument=function(e){var t,a,o=e?e.ownerDocument||e:T;return o!=d&&9===o.nodeType&&o.documentElement?(h=(d=o).documentElement,y=!i(d),T!=d&&(a=d.defaultView)&&a.top!==a&&(a.addEventListener?a.addEventListener("unload",ie,!1):a.attachEvent&&a.attachEvent("onunload",ie)),n.scope=le(function(e){return h.appendChild(e).appendChild(d.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),n.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=le(function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Z.test(d.getElementsByClassName),n.getById=le(function(e){return h.appendChild(e).id=w,!d.getElementsByName||!d.getElementsByName(w).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&y){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&y){var n,r,a,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(a=t.getElementsByName(e),r=0;i=a[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],a=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[a++];)1===n.nodeType&&r.push(n);return r}return i},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&y)return t.getElementsByClassName(e)},g=[],m=[],(n.qsa=Z.test(d.querySelectorAll))&&(le(function(e){var t;h.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+L+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+L+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+w+"-]").length||m.push("~="),(t=d.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||m.push("\\["+L+"*name"+L+"*="+L+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]"),e.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+L+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=Z.test(v=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&le(function(e){n.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),g.push("!=",V)}),m=m.length&&new RegExp(m.join("|")),g=g.length&&new RegExp(g.join("|")),t=Z.test(h.compareDocumentPosition),b=t||Z.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},C=t?function(e,t){if(e===t)return p=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==d||e.ownerDocument==T&&b(T,e)?-1:t==d||t.ownerDocument==T&&b(T,t)?1:l?D(l,e)-D(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return p=!0,0;var n,r=0,a=e.parentNode,i=t.parentNode,o=[e],s=[t];if(!a||!i)return e==d?-1:t==d?1:a?-1:i?1:l?D(l,e)-D(l,t):0;if(a===i)return fe(e,t);for(n=e;n=n.parentNode;)o.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;o[r]===s[r];)r++;return r?fe(o[r],s[r]):o[r]==T?-1:s[r]==T?1:0},d):d},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(f(e),n.matchesSelector&&y&&!A[t+" "]&&(!g||!g.test(t))&&(!m||!m.test(t)))try{var r=v.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){A(t,!0)}return se(t,d,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!=d&&f(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=d&&f(e);var a=r.attrHandle[t.toLowerCase()],i=a&&E.call(r.attrHandle,t.toLowerCase())?a(e,t,!y):void 0;return void 0!==i?i:n.attributes||!y?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},se.escape=function(e){return(e+"").replace(re,ae)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,r=[],a=0,i=0;if(p=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(C),p){for(;t=e[i++];)t===e[i]&&(a=r.push(i));for(;a--;)e.splice(r[a],1)}return l=null,e},a=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=a(t);return n},(r=se.selectors={cacheLength:50,createPseudo:ue,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&U.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|"+L+")"+e+"("+L+"|$)"))&&k(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var a=se.attr(r,e);return null==a?"!="===t:!t||(a+="","="===t?a===n:"!="===t?a!==n:"^="===t?n&&0===a.indexOf(n):"*="===t?n&&a.indexOf(n)>-1:"$="===t?n&&a.slice(-n.length)===n:"~="===t?(" "+a.replace(H," ")+" ").indexOf(n)>-1:"|="===t&&(a===n||a.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,a){var i="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===a?function(e){return!!e.parentNode}:function(t,n,c){var u,l,p,f,d,h,y=i!==o?"nextSibling":"previousSibling",m=t.parentNode,g=s&&t.nodeName.toLowerCase(),v=!c&&!s,b=!1;if(m){if(i){for(;y;){for(f=t;f=f[y];)if(s?f.nodeName.toLowerCase()===g:1===f.nodeType)return!1;h=y="only"===e&&!h&&"nextSibling"}return!0}if(h=[o?m.firstChild:m.lastChild],o&&v){for(b=(d=(u=(l=(p=(f=m)[w]||(f[w]={}))[f.uniqueID]||(p[f.uniqueID]={}))[e]||[])[0]===S&&u[1])&&u[2],f=d&&m.childNodes[d];f=++d&&f&&f[y]||(b=d=0)||h.pop();)if(1===f.nodeType&&++b&&f===t){l[e]=[S,d,b];break}}else if(v&&(b=d=(u=(l=(p=(f=t)[w]||(f[w]={}))[f.uniqueID]||(p[f.uniqueID]={}))[e]||[])[0]===S&&u[1]),!1===b)for(;(f=++d&&f&&f[y]||(b=d=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==g:1!==f.nodeType)||!++b||(v&&((l=(p=f[w]||(f[w]={}))[f.uniqueID]||(p[f.uniqueID]={}))[e]=[S,b]),f!==t)););return(b-=a)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,a=r.pseudos[e]||r.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[w]?a(t):a.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ue(function(e,n){for(var r,i=a(e,t),o=i.length;o--;)e[r=D(e,i[o])]=!(n[r]=i[o])}):function(e){return a(e,0,n)}):a}},pseudos:{not:ue(function(e){var t=[],n=[],r=s(e.replace(z,"$1"));return r[w]?ue(function(e,t,n,a){for(var i,o=r(e,null,a,[]),s=e.length;s--;)(i=o[s])&&(e[s]=!(t[s]=i))}):function(e,a,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}}),has:ue(function(e){return function(t){return se(e,t).length>0}}),contains:ue(function(e){return e=e.replace(te,ne),function(t){return(t.textContent||a(t)).indexOf(e)>-1}}),lang:ue(function(e){return G.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=y?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ye(!1),disabled:ye(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me(function(){return[0]}),last:me(function(e,t){return[t-1]}),eq:me(function(e,t,n){return[n<0?n+t:n]}),even:me(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:me(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:me(function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e}),gt:me(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=he(t);function ve(){}function be(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function we(e,t,n){var r=t.dir,a=t.next,i=a||r,o=n&&"parentNode"===i,s=x++;return t.first?function(t,n,a){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,a);return!1}:function(t,n,c){var u,l,p,f=[S,s];if(c){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,c))return!0}else for(;t=t[r];)if(1===t.nodeType||o)if(l=(p=t[w]||(t[w]={}))[t.uniqueID]||(p[t.uniqueID]={}),a&&a===t.nodeName.toLowerCase())t=t[r]||t;else{if((u=l[i])&&u[0]===S&&u[1]===s)return f[2]=u[2];if(l[i]=f,f[2]=e(t,n,c))return!0}return!1}}function Te(e){return e.length>1?function(t,n,r){for(var a=e.length;a--;)if(!e[a](t,n,r))return!1;return!0}:e[0]}function Se(e,t,n,r,a){for(var i,o=[],s=0,c=e.length,u=null!=t;s<c;s++)(i=e[s])&&(n&&!n(i,r,a)||(o.push(i),u&&t.push(s)));return o}function xe(e,t,n,r,a,i){return r&&!r[w]&&(r=xe(r)),a&&!a[w]&&(a=xe(a,i)),ue(function(i,o,s,c){var u,l,p,f=[],d=[],h=o.length,y=i||function(e,t,n){for(var r=0,a=t.length;r<a;r++)se(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),m=!e||!i&&t?y:Se(y,f,e,s,c),g=n?a||(i?e:h||r)?[]:o:m;if(n&&n(m,g,s,c),r)for(u=Se(g,d),r(u,[],s,c),l=u.length;l--;)(p=u[l])&&(g[d[l]]=!(m[d[l]]=p));if(i){if(a||e){if(a){for(u=[],l=g.length;l--;)(p=g[l])&&u.push(m[l]=p);a(null,g=[],u,c)}for(l=g.length;l--;)(p=g[l])&&(u=a?D(i,p):f[l])>-1&&(i[u]=!(o[u]=p))}}else g=Se(g===o?g.splice(h,g.length):g),a?a(null,o,g,c):I.apply(o,g)})}function ke(e){for(var t,n,a,i=e.length,o=r.relative[e[0].type],s=o||r.relative[" "],c=o?1:0,l=we(function(e){return e===t},s,!0),p=we(function(e){return D(t,e)>-1},s,!0),f=[function(e,n,r){var a=!o&&(r||n!==u)||((t=n).nodeType?l(e,n,r):p(e,n,r));return t=null,a}];c<i;c++)if(n=r.relative[e[c].type])f=[we(Te(f),n)];else{if((n=r.filter[e[c].type].apply(null,e[c].matches))[w]){for(a=++c;a<i&&!r.relative[e[a].type];a++);return xe(c>1&&Te(f),c>1&&be(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(z,"$1"),n,c<a&&ke(e.slice(c,a)),a<i&&ke(e=e.slice(a)),a<i&&be(e))}f.push(n)}return Te(f)}return ve.prototype=r.filters=r.pseudos,r.setFilters=new ve,o=se.tokenize=function(e,t){var n,a,i,o,s,c,u,l=O[e+" "];if(l)return t?0:l.slice(0);for(s=e,c=[],u=r.preFilter;s;){for(o in n&&!(a=$.exec(s))||(a&&(s=s.slice(a[0].length)||s),c.push(i=[])),n=!1,(a=B.exec(s))&&(n=a.shift(),i.push({value:n,type:a[0].replace(z," ")}),s=s.slice(n.length)),r.filter)!(a=X[o].exec(s))||u[o]&&!(a=u[o](a))||(n=a.shift(),i.push({value:n,type:o,matches:a}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):O(e,c).slice(0)},s=se.compile=function(e,t){var n,a=[],i=[],s=j[e+" "];if(!s){for(t||(t=o(e)),n=t.length;n--;)(s=ke(t[n]))[w]?a.push(s):i.push(s);(s=j(e,function(e,t){var n=t.length>0,a=e.length>0,i=function(i,o,s,c,l){var p,h,m,g=0,v="0",b=i&&[],w=[],T=u,x=i||a&&r.find.TAG("*",l),k=S+=null==T?1:Math.random()||.1,O=x.length;for(l&&(u=o==d||o||l);v!==O&&null!=(p=x[v]);v++){if(a&&p){for(h=0,o||p.ownerDocument==d||(f(p),s=!y);m=e[h++];)if(m(p,o||d,s)){c.push(p);break}l&&(S=k)}n&&((p=!m&&p)&&g--,i&&b.push(p))}if(g+=v,n&&v!==g){for(h=0;m=t[h++];)m(b,w,o,s);if(i){if(g>0)for(;v--;)b[v]||w[v]||(w[v]=N.call(c));w=Se(w)}I.apply(c,w),l&&!i&&w.length>0&&g+t.length>1&&se.uniqueSort(c)}return l&&(S=k,u=T),b};return n?ue(i):i}(i,a))).selector=e}return s},c=se.select=function(e,t,n,a){var i,c,u,l,p,f="function"==typeof e&&e,d=!a&&o(e=f.selector||e);if(n=n||[],1===d.length){if((c=d[0]=d[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&9===t.nodeType&&y&&r.relative[c[1].type]){if(!(t=(r.find.ID(u.matches[0].replace(te,ne),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(i=X.needsContext.test(e)?0:c.length;i--&&(u=c[i],!r.relative[l=u.type]);)if((p=r.find[l])&&(a=p(u.matches[0].replace(te,ne),ee.test(c[0].type)&&ge(t.parentNode)||t))){if(c.splice(i,1),!(e=a.length&&be(c)))return I.apply(n,a),n;break}}return(f||s(e,d))(a,t,!y,n,!t||ee.test(e)&&ge(t.parentNode)||t),n},n.sortStable=w.split("").sort(C).join("")===w,n.detectDuplicates=!!p,f(),n.sortDetached=le(function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||pe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||pe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||pe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(e);w.find=S,w.expr=S.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=S.uniqueSort,w.text=S.getText,w.isXMLDoc=S.isXML,w.contains=S.contains,w.escapeSelector=S.escape;var x=function(e,t,n){for(var r=[],a=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(a&&w(e).is(n))break;r.push(e)}return r},k=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},O=w.expr.match.needsContext;function j(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function C(e,t,n){return h(t)?w.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?w.grep(e,function(e){return e===t!==n}):"string"!=typeof t?w.grep(e,function(e){return s.call(t,e)>-1!==n}):w.filter(t,e,n)}w.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,n,r=this.length,a=this;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<r;t++)if(w.contains(a[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)w.find(e,a[t],n);return r>1?w.uniqueSort(n):n},filter:function(e){return this.pushStack(C(this,e||[],!1))},not:function(e){return this.pushStack(C(this,e||[],!0))},is:function(e){return!!C(this,"string"==typeof e&&O.test(e)?w(e):e||[],!1).length}});var E,_=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,n){var r,a;if(!e)return this;if(n=n||E,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:_.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:m,!0)),A.test(r[1])&&w.isPlainObject(t))for(r in t)h(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(a=m.getElementById(r[2]))&&(this[0]=a,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):h(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,E=w(m);var N=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};function I(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,a=this.length,i=[],o="string"!=typeof e&&w(e);if(!O.test(e))for(;r<a;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?w.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?s.call(w(e),this[0]):s.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x(e,"parentNode")},parentsUntil:function(e,t,n){return x(e,"parentNode",n)},next:function(e){return I(e,"nextSibling")},prev:function(e){return I(e,"previousSibling")},nextAll:function(e){return x(e,"nextSibling")},prevAll:function(e){return x(e,"previousSibling")},nextUntil:function(e,t,n){return x(e,"nextSibling",n)},prevUntil:function(e,t,n){return x(e,"previousSibling",n)},siblings:function(e){return k((e.parentNode||{}).firstChild,e)},children:function(e){return k(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(j(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},function(e,t){w.fn[e]=function(n,r){var a=w.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(a=w.filter(r,a)),this.length>1&&(P[e]||w.uniqueSort(a),N.test(e)&&a.reverse()),this.pushStack(a)}});var M=/[^\x20\t\r\n\f]+/g;function D(e){return e}function R(e){throw e}function L(e,t,n,r){var a;try{e&&h(a=e.promise)?a.call(e).done(t).fail(n):e&&h(a=e.then)?a.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}w.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return w.each(e.match(M)||[],function(e,n){t[n]=!0}),t}(e):w.extend({},e);var t,n,r,a,i=[],o=[],s=-1,c=function(){for(a=a||e.once,r=t=!0;o.length;s=-1)for(n=o.shift();++s<i.length;)!1===i[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=i.length,n=!1);e.memory||(n=!1),t=!1,a&&(i=n?[]:"")},u={add:function(){return i&&(n&&!t&&(s=i.length-1,o.push(n)),function t(n){w.each(n,function(n,r){h(r)?e.unique&&u.has(r)||i.push(r):r&&r.length&&"string"!==b(r)&&t(r)})}(arguments),n&&!t&&c()),this},remove:function(){return w.each(arguments,function(e,t){for(var n;(n=w.inArray(t,i,n))>-1;)i.splice(n,1),n<=s&&s--}),this},has:function(e){return e?w.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return a=o=[],i=n="",this},disabled:function(){return!i},lock:function(){return a=o=[],n||t||(i=n=""),this},locked:function(){return!!a},fireWith:function(e,n){return a||(n=[e,(n=n||[]).slice?n.slice():n],o.push(n),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},w.extend({Deferred:function(t){var n=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],r="pending",a={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var e=arguments;return w.Deferred(function(t){w.each(n,function(n,r){var a=h(e[r[4]])&&e[r[4]];i[r[1]](function(){var e=a&&a.apply(this,arguments);e&&h(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,a?[e]:arguments)})}),e=null}).promise()},then:function(t,r,a){var i=0;function o(t,n,r,a){return function(){var s=this,c=arguments,u=function(){var e,u;if(!(t<i)){if((e=r.apply(s,c))===n.promise())throw new TypeError("Thenable self-resolution");u=e&&("object"===(void 0===e?"undefined":_typeof(e))||"function"==typeof e)&&e.then,h(u)?a?u.call(e,o(i,n,D,a),o(i,n,R,a)):(i++,u.call(e,o(i,n,D,a),o(i,n,R,a),o(i,n,D,n.notifyWith))):(r!==D&&(s=void 0,c=[e]),(a||n.resolveWith)(s,c))}},l=a?u:function(){try{u()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,l.stackTrace),t+1>=i&&(r!==R&&(s=void 0,c=[e]),n.rejectWith(s,c))}};t?l():(w.Deferred.getStackHook&&(l.stackTrace=w.Deferred.getStackHook()),e.setTimeout(l))}}return w.Deferred(function(e){n[0][3].add(o(0,e,h(a)?a:D,e.notifyWith)),n[1][3].add(o(0,e,h(t)?t:D)),n[2][3].add(o(0,e,h(r)?r:R))}).promise()},promise:function(e){return null!=e?w.extend(e,a):a}},i={};return w.each(n,function(e,t){var o=t[2],s=t[5];a[t[1]]=o.add,s&&o.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),o.add(t[3].fire),i[t[0]]=function(){return i[t[0]+"With"](this===i?void 0:this,arguments),this},i[t[0]+"With"]=o.fireWith}),a.promise(i),t&&t.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),i=a.call(arguments),o=w.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?a.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(L(e,o.done(s(n)).resolve,o.reject,!t),"pending"===o.state()||h(i[n]&&i[n].then)))return o.then();for(;n--;)L(i[n],s(n),o.reject);return o.promise()}});var q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&q.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},w.readyException=function(t){e.setTimeout(function(){throw t})};var F=w.Deferred();function V(){m.removeEventListener("DOMContentLoaded",V),e.removeEventListener("load",V),w.ready()}w.fn.ready=function(e){return F.then(e).catch(function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||F.resolveWith(m,[w]))}}),w.ready.then=F.then,"complete"===m.readyState||"loading"!==m.readyState&&!m.documentElement.doScroll?e.setTimeout(w.ready):(m.addEventListener("DOMContentLoaded",V),e.addEventListener("load",V));var H=function e(t,n,r,a,i,o,s){var c=0,u=t.length,l=null==r;if("object"===b(r))for(c in i=!0,r)e(t,n,c,r[c],!0,o,s);else if(void 0!==a&&(i=!0,h(a)||(s=!0),l&&(s?(n.call(t,a),n=null):(l=n,n=function(e,t,n){return l.call(w(e),n)})),n))for(;c<u;c++)n(t[c],r,s?a:a.call(t[c],c,n(t[c],r)));return i?t:l?n.call(t):u?n(t[0],r):o},z=/^-ms-/,$=/-([a-z])/g;function B(e,t){return t.toUpperCase()}function W(e){return e.replace(z,"ms-").replace($,B)}var U=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=w.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},U(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,a=this.cache(e);if("string"==typeof t)a[W(t)]=n;else for(r in t)a[W(r)]=t[r];return a},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][W(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(W):(t=W(t))in r?[t]:t.match(M)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||w.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var X=new G,Y=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:J.test(e)?JSON.parse(e):e)}(n)}catch(e){}Y.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return Y.hasData(e)||X.hasData(e)},data:function(e,t,n){return Y.access(e,t,n)},removeData:function(e,t){Y.remove(e,t)},_data:function(e,t,n){return X.access(e,t,n)},_removeData:function(e,t){X.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,r,a,i=this[0],o=i&&i.attributes;if(void 0===e){if(this.length&&(a=Y.get(i),1===i.nodeType&&!X.get(i,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(r=o[n].name).indexOf("data-")&&(r=W(r.slice(5)),Z(i,r,a[r]));X.set(i,"hasDataAttrs",!0)}return a}return"object"===(void 0===e?"undefined":_typeof(e))?this.each(function(){Y.set(this,e)}):H(this,function(t){var n;if(i&&void 0===t)return void 0!==(n=Y.get(i,e))?n:void 0!==(n=Z(i,e))?n:void 0;this.each(function(){Y.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Y.remove(this,e)})}}),w.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=X.get(e,t),n&&(!r||Array.isArray(n)?r=X.access(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),r=n.length,a=n.shift(),i=w._queueHooks(e,t);"inprogress"===a&&(a=n.shift(),r--),a&&("fx"===t&&n.unshift("inprogress"),delete i.stop,a.call(e,function(){w.dequeue(e,t)},i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return X.get(e,n)||X.access(e,n,{empty:w.Callbacks("once memory").add(function(){X.remove(e,[t+"queue",n])})})}}),w.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each(function(){var n=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,a=w.Deferred(),i=this,o=this.length,s=function(){--r||a.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(n=X.get(i[o],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),a.promise(t)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ee=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),te=["Top","Right","Bottom","Left"],ne=m.documentElement,re=function(e){return w.contains(e.ownerDocument,e)},ae={composed:!0};ne.getRootNode&&(re=function(e){return w.contains(e.ownerDocument,e)||e.getRootNode(ae)===e.ownerDocument});var ie=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&re(e)&&"none"===w.css(e,"display")};function oe(e,t,n,r){var a,i,o=20,s=r?function(){return r.cur()}:function(){return w.css(e,t,"")},c=s(),u=n&&n[3]||(w.cssNumber[t]?"":"px"),l=e.nodeType&&(w.cssNumber[t]||"px"!==u&&+c)&&ee.exec(w.css(e,t));if(l&&l[3]!==u){for(c/=2,u=u||l[3],l=+c||1;o--;)w.style(e,t,l+u),(1-i)*(1-(i=s()/c||.5))<=0&&(o=0),l/=i;l*=2,w.style(e,t,l+u),n=n||[]}return n&&(l=+l||+c||0,a=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=l,r.end=a)),a}var se={};function ce(e){var t,n=e.ownerDocument,r=e.nodeName,a=se[r];return a||(t=n.body.appendChild(n.createElement(r)),a=w.css(t,"display"),t.parentNode.removeChild(t),"none"===a&&(a="block"),se[r]=a,a)}function ue(e,t){for(var n,r,a=[],i=0,o=e.length;i<o;i++)(r=e[i]).style&&(n=r.style.display,t?("none"===n&&(a[i]=X.get(r,"display")||null,a[i]||(r.style.display="")),""===r.style.display&&ie(r)&&(a[i]=ce(r))):"none"!==n&&(a[i]="none",X.set(r,"display",n)));for(i=0;i<o;i++)null!=a[i]&&(e[i].style.display=a[i]);return e}w.fn.extend({show:function(){return ue(this,!0)},hide:function(){return ue(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ie(this)?w(this).show():w(this).hide()})}});var le,pe,fe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;le=m.createDocumentFragment().appendChild(m.createElement("div")),(pe=m.createElement("input")).setAttribute("type","radio"),pe.setAttribute("checked","checked"),pe.setAttribute("name","t"),le.appendChild(pe),d.checkClone=le.cloneNode(!0).cloneNode(!0).lastChild.checked,le.innerHTML="<textarea>x</textarea>",d.noCloneChecked=!!le.cloneNode(!0).lastChild.defaultValue,le.innerHTML="<option></option>",d.option=!!le.lastChild;var ye={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function me(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&j(e,t)?w.merge([e],n):n}function ge(e,t){for(var n=0,r=e.length;n<r;n++)X.set(e[n],"globalEval",!t||X.get(t[n],"globalEval"))}ye.tbody=ye.tfoot=ye.colgroup=ye.caption=ye.thead,ye.th=ye.td,d.option||(ye.optgroup=ye.option=[1,"<select multiple='multiple'>","</select>"]);var ve=/<|&#?\w+;/;function be(e,t,n,r,a){for(var i,o,s,c,u,l,p=t.createDocumentFragment(),f=[],d=0,h=e.length;d<h;d++)if((i=e[d])||0===i)if("object"===b(i))w.merge(f,i.nodeType?[i]:i);else if(ve.test(i)){for(o=o||p.appendChild(t.createElement("div")),s=(de.exec(i)||["",""])[1].toLowerCase(),c=ye[s]||ye._default,o.innerHTML=c[1]+w.htmlPrefilter(i)+c[2],l=c[0];l--;)o=o.lastChild;w.merge(f,o.childNodes),(o=p.firstChild).textContent=""}else f.push(t.createTextNode(i));for(p.textContent="",d=0;i=f[d++];)if(r&&w.inArray(i,r)>-1)a&&a.push(i);else if(u=re(i),o=me(p.appendChild(i),"script"),u&&ge(o),n)for(l=0;i=o[l++];)he.test(i.type||"")&&n.push(i);return p}var we=/^key/,Te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Se=/^([^.]*)(?:\.(.+)|)/;function xe(){return!0}function ke(){return!1}function Oe(e,t){return e===function(){try{return m.activeElement}catch(e){}}()==("focus"===t)}function je(e,t,n,r,a,i){var o,s;if("object"===(void 0===t?"undefined":_typeof(t))){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)je(e,s,n,r,t[s],i);return e}if(null==r&&null==a?(a=n,r=n=void 0):null==a&&("string"==typeof n?(a=r,r=void 0):(a=r,r=n,n=void 0)),!1===a)a=ke;else if(!a)return e;return 1===i&&(o=a,(a=function(e){return w().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=w.guid++)),e.each(function(){w.event.add(this,t,a,r,n)})}function Ae(e,t,n){n?(X.set(e,t,!1),w.event.add(e,t,{namespace:!1,handler:function(e){var r,i,o=X.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(w.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=a.call(arguments),X.set(this,t,o),r=n(this,t),this[t](),o!==(i=X.get(this,t))||r?X.set(this,t,!1):i={},o!==i)return e.stopImmediatePropagation(),e.preventDefault(),i.value}else o.length&&(X.set(this,t,{value:w.event.trigger(w.extend(o[0],w.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===X.get(e,t)&&w.event.add(e,t,xe)}w.event={global:{},add:function(e,t,n,r,a){var i,o,s,c,u,l,p,f,d,h,y,m=X.get(e);if(U(e))for(n.handler&&(n=(i=n).handler,a=i.selector),a&&w.find.matchesSelector(ne,a),n.guid||(n.guid=w.guid++),(c=m.events)||(c=m.events=Object.create(null)),(o=m.handle)||(o=m.handle=function(t){return void 0!==w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(M)||[""]).length;u--;)d=y=(s=Se.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),d&&(p=w.event.special[d]||{},d=(a?p.delegateType:p.bindType)||d,p=w.event.special[d]||{},l=w.extend({type:d,origType:y,data:r,handler:n,guid:n.guid,selector:a,needsContext:a&&w.expr.match.needsContext.test(a),namespace:h.join(".")},i),(f=c[d])||((f=c[d]=[]).delegateCount=0,p.setup&&!1!==p.setup.call(e,r,h,o)||e.addEventListener&&e.addEventListener(d,o)),p.add&&(p.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),a?f.splice(f.delegateCount++,0,l):f.push(l),w.event.global[d]=!0)},remove:function(e,t,n,r,a){var i,o,s,c,u,l,p,f,d,h,y,m=X.hasData(e)&&X.get(e);if(m&&(c=m.events)){for(u=(t=(t||"").match(M)||[""]).length;u--;)if(d=y=(s=Se.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),d){for(p=w.event.special[d]||{},f=c[d=(r?p.delegateType:p.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=i=f.length;i--;)l=f[i],!a&&y!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(f.splice(i,1),l.selector&&f.delegateCount--,p.remove&&p.remove.call(e,l));o&&!f.length&&(p.teardown&&!1!==p.teardown.call(e,h,m.handle)||w.removeEvent(e,d,m.handle),delete c[d])}else for(d in c)w.event.remove(e,d+t[u],n,r,!0);w.isEmptyObject(c)&&X.remove(e,"handle events")}},dispatch:function(e){var t,n,r,a,i,o,s=new Array(arguments.length),c=w.event.fix(e),u=(X.get(this,"events")||Object.create(null))[c.type]||[],l=w.event.special[c.type]||{};for(s[0]=c,t=1;t<arguments.length;t++)s[t]=arguments[t];if(c.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,c)){for(o=w.event.handlers.call(this,c,u),t=0;(a=o[t++])&&!c.isPropagationStopped();)for(c.currentTarget=a.elem,n=0;(i=a.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==i.namespace&&!c.rnamespace.test(i.namespace)||(c.handleObj=i,c.data=i.data,void 0!==(r=((w.event.special[i.origType]||{}).handle||i.handler).apply(a.elem,s))&&!1===(c.result=r)&&(c.preventDefault(),c.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,c),c.result}},handlers:function(e,t){var n,r,a,i,o,s=[],c=t.delegateCount,u=e.target;if(c&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(i=[],o={},n=0;n<c;n++)void 0===o[a=(r=t[n]).selector+" "]&&(o[a]=r.needsContext?w(a,this).index(u)>-1:w.find(a,this,null,[u]).length),o[a]&&i.push(r);i.length&&s.push({elem:u,handlers:i})}return u=this,c<t.length&&s.push({elem:u,handlers:t.slice(c)}),s},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:h(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return fe.test(t.type)&&t.click&&j(t,"input")&&Ae(t,"click",xe),!1},trigger:function(e){var t=this||e;return fe.test(t.type)&&t.click&&j(t,"input")&&Ae(t,"click"),!0},_default:function(e){var t=e.target;return fe.test(t.type)&&t.click&&j(t,"input")&&X.get(t,"click")||j(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?xe:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=xe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=xe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=xe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&we.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Te.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},function(e,t){w.event.special[e]={setup:function(){return Ae(this,e,Oe),!1},trigger:function(){return Ae(this,e),!0},delegateType:t}}),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,a=e.handleObj;return r&&(r===this||w.contains(this,r))||(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),w.fn.extend({on:function(e,t,n,r){return je(this,e,t,n,r)},one:function(e,t,n,r){return je(this,e,t,n,r,1)},off:function(e,t,n){var r,a;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"===(void 0===e?"undefined":_typeof(e))){for(a in e)this.off(a,t,e[a]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ke),this.each(function(){w.event.remove(this,e,n,t)})}});var Ce=/<script|<style|<link/i,Ee=/checked\s*(?:[^=]|=\s*.checked.)/i,_e=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ne(e,t){return j(e,"table")&&j(11!==t.nodeType?t:t.firstChild,"tr")&&w(e).children("tbody")[0]||e}function Pe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ie(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Me(e,t){var n,r,a,i,o,s;if(1===t.nodeType){if(X.hasData(e)&&(s=X.get(e).events))for(a in X.remove(t,"handle events"),s)for(n=0,r=s[a].length;n<r;n++)w.event.add(t,a,s[a][n]);Y.hasData(e)&&(i=Y.access(e),o=w.extend({},i),Y.set(t,o))}}function De(e,t,n,r){t=i(t);var a,o,s,c,u,l,p=0,f=e.length,y=f-1,m=t[0],g=h(m);if(g||f>1&&"string"==typeof m&&!d.checkClone&&Ee.test(m))return e.each(function(a){var i=e.eq(a);g&&(t[0]=m.call(this,a,i.html())),De(i,t,n,r)});if(f&&(o=(a=be(t,e[0].ownerDocument,!1,e,r)).firstChild,1===a.childNodes.length&&(a=o),o||r)){for(c=(s=w.map(me(a,"script"),Pe)).length;p<f;p++)u=a,p!==y&&(u=w.clone(u,!0,!0),c&&w.merge(s,me(u,"script"))),n.call(e[p],u,p);if(c)for(l=s[s.length-1].ownerDocument,w.map(s,Ie),p=0;p<c;p++)u=s[p],he.test(u.type||"")&&!X.access(u,"globalEval")&&w.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?w._evalUrl&&!u.noModule&&w._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):v(u.textContent.replace(_e,""),u,l))}return e}function Re(e,t,n){for(var r,a=t?w.filter(t,e):e,i=0;null!=(r=a[i]);i++)n||1!==r.nodeType||w.cleanData(me(r)),r.parentNode&&(n&&re(r)&&ge(me(r,"script")),r.parentNode.removeChild(r));return e}w.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,a,i,o,s,c,u,l=e.cloneNode(!0),p=re(e);if(!(d.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(o=me(l),r=0,a=(i=me(e)).length;r<a;r++)s=i[r],c=o[r],void 0,"input"===(u=c.nodeName.toLowerCase())&&fe.test(s.type)?c.checked=s.checked:"input"!==u&&"textarea"!==u||(c.defaultValue=s.defaultValue);if(t)if(n)for(i=i||me(e),o=o||me(l),r=0,a=i.length;r<a;r++)Me(i[r],o[r]);else Me(e,l);return(o=me(l,"script")).length>0&&ge(o,!p&&me(e,"script")),l},cleanData:function(e){for(var t,n,r,a=w.event.special,i=0;void 0!==(n=e[i]);i++)if(U(n)){if(t=n[X.expando]){if(t.events)for(r in t.events)a[r]?w.event.remove(n,r):w.removeEvent(n,r,t.handle);n[X.expando]=void 0}n[Y.expando]&&(n[Y.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Re(this,e,!0)},remove:function(e){return Re(this,e)},text:function(e){return H(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return De(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ne(this,e).appendChild(e)})},prepend:function(){return De(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ne(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return De(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return De(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(me(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return H(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ce.test(e)&&!ye[(de.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(me(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return De(this,arguments,function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(me(this)),n&&n.replaceChild(t,this))},e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){for(var n,r=[],a=w(e),i=a.length-1,s=0;s<=i;s++)n=s===i?this:this.clone(!0),w(a[s])[t](n),o.apply(r,n.get());return this.pushStack(r)}});var Le=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),qe=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Fe=function(e,t,n){var r,a,i={};for(a in t)i[a]=e.style[a],e.style[a]=t[a];for(a in r=n.call(e),t)e.style[a]=i[a];return r},Ve=new RegExp(te.join("|"),"i");function He(e,t,n){var r,a,i,o,s=e.style;return(n=n||qe(e))&&(""!==(o=n.getPropertyValue(t)||n[t])||re(e)||(o=w.style(e,t)),!d.pixelBoxStyles()&&Le.test(o)&&Ve.test(t)&&(r=s.width,a=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=r,s.minWidth=a,s.maxWidth=i)),void 0!==o?o+"":o}function ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ne.appendChild(u).appendChild(l);var t=e.getComputedStyle(l);r="1%"!==t.top,c=12===n(t.marginLeft),l.style.right="60%",o=36===n(t.right),a=36===n(t.width),l.style.position="absolute",i=12===n(l.offsetWidth/3),ne.removeChild(u),l=null}}function n(e){return Math.round(parseFloat(e))}var r,a,i,o,s,c,u=m.createElement("div"),l=m.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",d.clearCloneStyle="content-box"===l.style.backgroundClip,w.extend(d,{boxSizingReliable:function(){return t(),a},pixelBoxStyles:function(){return t(),o},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),c},scrollboxSize:function(){return t(),i},reliableTrDimensions:function(){var t,n,r,a;return null==s&&(t=m.createElement("table"),n=m.createElement("tr"),r=m.createElement("div"),t.style.cssText="position:absolute;left:-11111px",n.style.height="1px",r.style.height="9px",ne.appendChild(t).appendChild(n).appendChild(r),a=e.getComputedStyle(n),s=parseInt(a.height)>3,ne.removeChild(t)),s}}))}();var $e=["Webkit","Moz","ms"],Be=m.createElement("div").style,We={};function Ue(e){var t=w.cssProps[e]||We[e];return t||(e in Be?e:We[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=$e.length;n--;)if((e=$e[n]+t)in Be)return e}(e)||e)}var Ge=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ye={position:"absolute",visibility:"hidden",display:"block"},Je={letterSpacing:"0",fontWeight:"400"};function Ke(e,t,n){var r=ee.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ze(e,t,n,r,a,i){var o="width"===t?1:0,s=0,c=0;if(n===(r?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(c+=w.css(e,n+te[o],!0,a)),r?("content"===n&&(c-=w.css(e,"padding"+te[o],!0,a)),"margin"!==n&&(c-=w.css(e,"border"+te[o]+"Width",!0,a))):(c+=w.css(e,"padding"+te[o],!0,a),"padding"!==n?c+=w.css(e,"border"+te[o]+"Width",!0,a):s+=w.css(e,"border"+te[o]+"Width",!0,a));return!r&&i>=0&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-c-s-.5))||0),c}function Qe(e,t,n){var r=qe(e),a=(!d.boxSizingReliable()||n)&&"border-box"===w.css(e,"boxSizing",!1,r),i=a,o=He(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Le.test(o)){if(!n)return o;o="auto"}return(!d.boxSizingReliable()&&a||!d.reliableTrDimensions()&&j(e,"tr")||"auto"===o||!parseFloat(o)&&"inline"===w.css(e,"display",!1,r))&&e.getClientRects().length&&(a="border-box"===w.css(e,"boxSizing",!1,r),(i=s in e)&&(o=e[s])),(o=parseFloat(o)||0)+Ze(e,t,n||(a?"border":"content"),i,r,o)+"px"}function et(e,t,n,r,a){return new et.prototype.init(e,t,n,r,a)}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=He(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,i,o,s=W(t),c=Xe.test(t),u=e.style;if(c||(t=Ue(s)),o=w.cssHooks[t]||w.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(a=o.get(e,!1,r))?a:u[t];"string"===(i=void 0===n?"undefined":_typeof(n))&&(a=ee.exec(n))&&a[1]&&(n=oe(e,t,a),i="number"),null!=n&&n==n&&("number"!==i||c||(n+=a&&a[3]||(w.cssNumber[s]?"":"px")),d.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,r))||(c?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,r){var a,i,o,s=W(t);return Xe.test(t)||(t=Ue(s)),(o=w.cssHooks[t]||w.cssHooks[s])&&"get"in o&&(a=o.get(e,!0,n)),void 0===a&&(a=He(e,t,r)),"normal"===a&&t in Je&&(a=Je[t]),""===n||n?(i=parseFloat(a),!0===n||isFinite(i)?i||0:a):a}}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return!Ge.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Qe(e,t,r):Fe(e,Ye,function(){return Qe(e,t,r)})},set:function(e,n,r){var a,i=qe(e),o=!d.scrollboxSize()&&"absolute"===i.position,s=(o||r)&&"border-box"===w.css(e,"boxSizing",!1,i),c=r?Ze(e,t,r,s,i):0;return s&&o&&(c-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-Ze(e,t,"border",!1,i)-.5)),c&&(a=ee.exec(n))&&"px"!==(a[3]||"px")&&(e.style[t]=n,n=w.css(e,t)),Ke(0,n,c)}}}),w.cssHooks.marginLeft=ze(d.reliableMarginLeft,function(e,t){if(t)return(parseFloat(He(e,"marginLeft"))||e.getBoundingClientRect().left-Fe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){for(var r=0,a={},i="string"==typeof n?n.split(" "):[n];r<4;r++)a[e+te[r]+t]=i[r]||i[r-2]||i[0];return a}},"margin"!==e&&(w.cssHooks[e+t].set=Ke)}),w.fn.extend({css:function(e,t){return H(this,function(e,t,n){var r,a,i={},o=0;if(Array.isArray(t)){for(r=qe(e),a=t.length;o<a;o++)i[t[o]]=w.css(e,t[o],!1,r);return i}return void 0!==n?w.style(e,t,n):w.css(e,t)},e,t,arguments.length>1)}}),w.Tween=et,et.prototype={constructor:et,init:function(e,t,n,r,a,i){this.elem=e,this.prop=n,this.easing=a||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(w.cssNumber[n]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,n=et.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):et.propHooks._default.set(this),this}},et.prototype.init.prototype=et.prototype,et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||!w.cssHooks[e.prop]&&null==e.elem.style[Ue(e.prop)]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}},et.propHooks.scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=et.prototype.init,w.fx.step={};var tt,nt,rt=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function it(){nt&&(!1===m.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(it):e.setTimeout(it,w.fx.interval),w.fx.tick())}function ot(){return e.setTimeout(function(){tt=void 0}),tt=Date.now()}function st(e,t){var n,r=0,a={height:e};for(t=t?1:0;r<4;r+=2-t)a["margin"+(n=te[r])]=a["padding"+n]=e;return t&&(a.opacity=a.width=e),a}function ct(e,t,n){for(var r,a=(ut.tweeners[t]||[]).concat(ut.tweeners["*"]),i=0,o=a.length;i<o;i++)if(r=a[i].call(n,t,e))return r}function ut(e,t,n){var r,a,i=0,o=ut.prefilters.length,s=w.Deferred().always(function(){delete c.elem}),c=function(){if(a)return!1;for(var t=tt||ot(),n=Math.max(0,u.startTime+u.duration-t),r=1-(n/u.duration||0),i=0,o=u.tweens.length;i<o;i++)u.tweens[i].run(r);return s.notifyWith(e,[u,r,n]),r<1&&o?n:(o||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:t,originalOptions:n,startTime:tt||ot(),duration:n.duration,tweens:[],createTween:function(t,n){var r=w.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(a)return this;for(a=!0;n<r;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),l=u.props;for(!function(e,t){var n,r,a,i,o;for(n in e)if(a=t[r=W(n)],i=e[n],Array.isArray(i)&&(a=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(o=w.cssHooks[r])&&"expand"in o)for(n in i=o.expand(i),delete e[r],i)n in e||(e[n]=i[n],t[n]=a);else t[r]=a}(l,u.opts.specialEasing);i<o;i++)if(r=ut.prefilters[i].call(u,e,l,u.opts))return h(r.stop)&&(w._queueHooks(u.elem,u.opts.queue).stop=r.stop.bind(r)),r;return w.map(l,ct,u),h(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),w.fx.timer(w.extend(c,{elem:e,anim:u,queue:u.opts.queue})),u}w.Animation=w.extend(ut,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return oe(n.elem,e,ee.exec(t),n),n}]},tweener:function(e,t){h(e)?(t=e,e=["*"]):e=e.match(M);for(var n,r=0,a=e.length;r<a;r++)n=e[r],ut.tweeners[n]=ut.tweeners[n]||[],ut.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,a,i,o,s,c,u,l,p="width"in t||"height"in t,f=this,d={},h=e.style,y=e.nodeType&&ie(e),m=X.get(e,"fxshow");for(r in n.queue||(null==(o=w._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,f.always(function(){f.always(function(){o.unqueued--,w.queue(e,"fx").length||o.empty.fire()})})),t)if(a=t[r],rt.test(a)){if(delete t[r],i=i||"toggle"===a,a===(y?"hide":"show")){if("show"!==a||!m||void 0===m[r])continue;y=!0}d[r]=m&&m[r]||w.style(e,r)}if((c=!w.isEmptyObject(t))||!w.isEmptyObject(d))for(r in p&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(u=m&&m.display)&&(u=X.get(e,"display")),"none"===(l=w.css(e,"display"))&&(u?l=u:(ue([e],!0),u=e.style.display||u,l=w.css(e,"display"),ue([e]))),("inline"===l||"inline-block"===l&&null!=u)&&"none"===w.css(e,"float")&&(c||(f.done(function(){h.display=u}),null==u&&(l=h.display,u="none"===l?"":l)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",f.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),c=!1,d)c||(m?"hidden"in m&&(y=m.hidden):m=X.access(e,"fxshow",{display:u}),i&&(m.hidden=!y),y&&ue([e],!0),f.done(function(){for(r in y||ue([e]),X.remove(e,"fxshow"),d)w.style(e,r,d[r])})),c=ct(y?m[r]:0,r,f),r in m||(m[r]=c.start,y&&(c.end=c.start,c.start=0))}],prefilter:function(e,t){t?ut.prefilters.unshift(e):ut.prefilters.push(e)}}),w.speed=function(e,t,n){var r=e&&"object"===(void 0===e?"undefined":_typeof(e))?w.extend({},e):{complete:n||!n&&t||h(e)&&e,duration:e,easing:n&&t||t&&!h(t)&&t};return w.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in w.fx.speeds?r.duration=w.fx.speeds[r.duration]:r.duration=w.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){h(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ie).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var a=w.isEmptyObject(e),i=w.speed(t,n,r),o=function(){var t=ut(this,w.extend({},e),i);(a||X.get(this,"finish"))&&t.stop(!0)};return o.finish=o,a||!1===i.queue?this.each(o):this.queue(i.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,a=null!=e&&e+"queueHooks",i=w.timers,o=X.get(this);if(a)o[a]&&o[a].stop&&r(o[a]);else for(a in o)o[a]&&o[a].stop&&at.test(a)&&r(o[a]);for(a=i.length;a--;)i[a].elem!==this||null!=e&&i[a].queue!==e||(i[a].anim.stop(n),t=!1,i.splice(a,1));!t&&n||w.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=X.get(this),r=n[e+"queue"],a=n[e+"queueHooks"],i=w.timers,o=r?r.length:0;for(n.finish=!0,w.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),w.each(["toggle","show","hide"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,r,a){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(st(t,!0),e,r,a)}}),w.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),w.timers=[],w.fx.tick=function(){var e,t=0,n=w.timers;for(tt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),tt=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){nt||(nt=!0,it())},w.fx.stop=function(){nt=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,n){return t=w.fx&&w.fx.speeds[t]||t,n=n||"fx",this.queue(n,function(n,r){var a=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(a)}})},function(){var e=m.createElement("input"),t=m.createElement("select").appendChild(m.createElement("option"));e.type="checkbox",d.checkOn=""!==e.value,d.optSelected=t.selected,(e=m.createElement("input")).value="t",e.type="radio",d.radioValue="t"===e.value}();var lt,pt=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return H(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,n){var r,a,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?w.prop(e,t,n):(1===i&&w.isXMLDoc(e)||(a=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?lt:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):a&&"set"in a&&void 0!==(r=a.set(e,n,t))?r:(e.setAttribute(t,n+""),n):a&&"get"in a&&null!==(r=a.get(e,t))?r:null==(r=w.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!d.radioValue&&"radio"===t&&j(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,a=t&&t.match(M);if(a&&1===e.nodeType)for(;n=a[r++];)e.removeAttribute(n)}}),lt={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var n=pt[t]||w.find.attr;pt[t]=function(e,t,r){var a,i,o=t.toLowerCase();return r||(i=pt[o],pt[o]=a,a=null!=n(e,t,r)?o:null,pt[o]=i),a}});var ft=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;function ht(e){return(e.match(M)||[]).join(" ")}function yt(e){return e.getAttribute&&e.getAttribute("class")||""}function mt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(M)||[]}w.fn.extend({prop:function(e,t){return H(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,n){var r,a,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&w.isXMLDoc(e)||(t=w.propFix[t]||t,a=w.propHooks[t]),void 0!==n?a&&"set"in a&&void 0!==(r=a.set(e,n,t))?r:e[t]=n:a&&"get"in a&&null!==(r=a.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):ft.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),d.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(e){var t,n,r,a,i,o,s,c=0;if(h(e))return this.each(function(t){w(this).addClass(e.call(this,t,yt(this)))});if((t=mt(e)).length)for(;n=this[c++];)if(a=yt(n),r=1===n.nodeType&&" "+ht(a)+" "){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a!==(s=ht(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,a,i,o,s,c=0;if(h(e))return this.each(function(t){w(this).removeClass(e.call(this,t,yt(this)))});if(!arguments.length)return this.attr("class","");if((t=mt(e)).length)for(;n=this[c++];)if(a=yt(n),r=1===n.nodeType&&" "+ht(a)+" "){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");a!==(s=ht(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=void 0===e?"undefined":_typeof(e),r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):h(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,yt(this),t),t)}):this.each(function(){var t,a,i,o;if(r)for(a=0,i=w(this),o=mt(e);t=o[a++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=yt(this))&&X.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":X.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+ht(yt(n))+" ").indexOf(t)>-1)return!0;return!1}});var gt=/\r/g;w.fn.extend({val:function(e){var t,n,r,a=this[0];return arguments.length?(r=h(e),this.each(function(n){var a;1===this.nodeType&&(null==(a=r?e.call(this,n,w(this).val()):e)?a="":"number"==typeof a?a+="":Array.isArray(a)&&(a=w.map(a,function(e){return null==e?"":e+""})),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,a,"value")||(this.value=a))})):a?(t=w.valHooks[a.type]||w.valHooks[a.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(a,"value"))?n:"string"==typeof(n=a.value)?n.replace(gt,""):null==n?"":n:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:ht(w.text(e))}},select:{get:function(e){var t,n,r,a=e.options,i=e.selectedIndex,o="select-one"===e.type,s=o?null:[],c=o?i+1:a.length;for(r=i<0?c:o?i:0;r<c;r++)if(((n=a[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!j(n.parentNode,"optgroup"))){if(t=w(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,a=e.options,i=w.makeArray(t),o=a.length;o--;)((r=a[o]).selected=w.inArray(w.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},d.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),d.focusin="onfocusin"in e;var vt=/^(?:focusinfocus|focusoutblur)$/,bt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,n,r,a){var i,o,s,c,u,p,f,d,g=[r||m],v=l.call(t,"type")?t.type:t,b=l.call(t,"namespace")?t.namespace.split("."):[];if(o=d=s=r=r||m,3!==r.nodeType&&8!==r.nodeType&&!vt.test(v+w.event.triggered)&&(v.indexOf(".")>-1&&(v=(b=v.split(".")).shift(),b.sort()),u=v.indexOf(":")<0&&"on"+v,(t=t[w.expando]?t:new w.Event(v,"object"===(void 0===t?"undefined":_typeof(t))&&t)).isTrigger=a?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:w.makeArray(n,[t]),f=w.event.special[v]||{},a||!f.trigger||!1!==f.trigger.apply(r,n))){if(!a&&!f.noBubble&&!y(r)){for(c=f.delegateType||v,vt.test(c+v)||(o=o.parentNode);o;o=o.parentNode)g.push(o),s=o;s===(r.ownerDocument||m)&&g.push(s.defaultView||s.parentWindow||e)}for(i=0;(o=g[i++])&&!t.isPropagationStopped();)d=o,t.type=i>1?c:f.bindType||v,(p=(X.get(o,"events")||Object.create(null))[t.type]&&X.get(o,"handle"))&&p.apply(o,n),(p=u&&o[u])&&p.apply&&U(o)&&(t.result=p.apply(o,n),!1===t.result&&t.preventDefault());return t.type=v,a||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(g.pop(),n)||!U(r)||u&&h(r[v])&&!y(r)&&((s=r[u])&&(r[u]=null),w.event.triggered=v,t.isPropagationStopped()&&d.addEventListener(v,bt),r[v](),t.isPropagationStopped()&&d.removeEventListener(v,bt),w.event.triggered=void 0,s&&(r[u]=s)),t.result}},simulate:function(e,t,n){var r=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(r,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),d.focusin||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,a=X.access(r,t);a||r.addEventListener(e,n,!0),X.access(r,t,(a||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,a=X.access(r,t)-1;a?X.access(r,t,a):(r.removeEventListener(e,n,!0),X.remove(r,t))}}});var wt=e.location,Tt={guid:Date.now()},St=/\?/;w.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+t),n};var xt=/\[\]$/,kt=/\r?\n/g,Ot=/^(?:submit|button|image|reset|file)$/i,jt=/^(?:input|select|textarea|keygen)/i;function At(e,t,n,r){var a;if(Array.isArray(t))w.each(t,function(t,a){n||xt.test(e)?r(e,a):At(e+"["+("object"===(void 0===a?"undefined":_typeof(a))&&null!=a?t:"")+"]",a,n,r)});else if(n||"object"!==b(t))r(e,t);else for(a in t)At(e+"["+a+"]",t[a],n,r)}w.param=function(e,t){var n,r=[],a=function(e,t){var n=h(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){a(this.name,this.value)});else for(n in e)At(n,e[n],t,a);return r.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&jt.test(this.nodeName)&&!Ot.test(e)&&(this.checked||!fe.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}});var Ct=/%20/g,Et=/#.*$/,_t=/([?&])_=[^&]*/,Nt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pt=/^(?:GET|HEAD)$/,It=/^\/\//,Mt={},Dt={},Rt="*/".concat("*"),Lt=m.createElement("a");function qt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,a=0,i=t.toLowerCase().match(M)||[];if(h(n))for(;r=i[a++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Ft(e,t,n,r){var a={},i=e===Dt;function o(s){var c;return a[s]=!0,w.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||i||a[u]?i?!(c=u):void 0:(t.dataTypes.unshift(u),o(u),!1)}),c}return o(t.dataTypes[0])||!a["*"]&&o("*")}function Vt(e,t){var n,r,a=w.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((a[n]?e:r||(r={}))[n]=t[n]);return r&&w.extend(!0,e,r),e}Lt.href=wt.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(wt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Vt(Vt(e,w.ajaxSettings),t):Vt(w.ajaxSettings,e)},ajaxPrefilter:qt(Mt),ajaxTransport:qt(Dt),ajax:function(t,n){"object"===(void 0===t?"undefined":_typeof(t))&&(n=t,t=void 0),n=n||{};var r,a,i,o,s,c,u,l,p,f,d=w.ajaxSetup({},n),h=d.context||d,y=d.context&&(h.nodeType||h.jquery)?w(h):w.event,g=w.Deferred(),v=w.Callbacks("once memory"),b=d.statusCode||{},T={},S={},x="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(u){if(!o)for(o={};t=Nt.exec(i);)o[t[1].toLowerCase()+" "]=(o[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=o[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?i:null},setRequestHeader:function(e,t){return null==u&&(e=S[e.toLowerCase()]=S[e.toLowerCase()]||e,T[e]=t),this},overrideMimeType:function(e){return null==u&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)k.always(e[k.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||x;return r&&r.abort(t),O(0,t),this}};if(g.promise(k),d.url=((t||d.url||wt.href)+"").replace(It,wt.protocol+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(M)||[""],null==d.crossDomain){c=m.createElement("a");try{c.href=d.url,c.href=c.href,d.crossDomain=Lt.protocol+"//"+Lt.host!=c.protocol+"//"+c.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=w.param(d.data,d.traditional)),Ft(Mt,d,n,k),u)return k;for(p in(l=w.event&&d.global)&&0==w.active++&&w.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Pt.test(d.type),a=d.url.replace(Et,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Ct,"+")):(f=d.url.slice(a.length),d.data&&(d.processData||"string"==typeof d.data)&&(a+=(St.test(a)?"&":"?")+d.data,delete d.data),!1===d.cache&&(a=a.replace(_t,"$1"),f=(St.test(a)?"&":"?")+"_="+Tt.guid+++f),d.url=a+f),d.ifModified&&(w.lastModified[a]&&k.setRequestHeader("If-Modified-Since",w.lastModified[a]),w.etag[a]&&k.setRequestHeader("If-None-Match",w.etag[a])),(d.data&&d.hasContent&&!1!==d.contentType||n.contentType)&&k.setRequestHeader("Content-Type",d.contentType),k.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Rt+"; q=0.01":""):d.accepts["*"]),d.headers)k.setRequestHeader(p,d.headers[p]);if(d.beforeSend&&(!1===d.beforeSend.call(h,k,d)||u))return k.abort();if(x="abort",v.add(d.complete),k.done(d.success),k.fail(d.error),r=Ft(Dt,d,n,k)){if(k.readyState=1,l&&y.trigger("ajaxSend",[k,d]),u)return k;d.async&&d.timeout>0&&(s=e.setTimeout(function(){k.abort("timeout")},d.timeout));try{u=!1,r.send(T,O)}catch(e){if(u)throw e;O(-1,e)}}else O(-1,"No Transport");function O(t,n,o,c){var p,f,m,T,S,x=n;u||(u=!0,s&&e.clearTimeout(s),r=void 0,i=c||"",k.readyState=t>0?4:0,p=t>=200&&t<300||304===t,o&&(T=function(e,t,n){for(var r,a,i,o,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(a in s)if(s[a]&&s[a].test(r)){c.unshift(a);break}if(c[0]in n)i=c[0];else{for(a in n){if(!c[0]||e.converters[a+" "+c[0]]){i=a;break}o||(o=a)}i=i||o}if(i)return i!==c[0]&&c.unshift(i),n[i]}(d,k,o)),!p&&w.inArray("script",d.dataTypes)>-1&&(d.converters["text script"]=function(){}),T=function(e,t,n,r){var a,i,o,s,c,u={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)u[o.toLowerCase()]=e.converters[o];for(i=l.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=i,i=l.shift())if("*"===i)i=c;else if("*"!==c&&c!==i){if(!(o=u[c+" "+i]||u["* "+i]))for(a in u)if((s=a.split(" "))[1]===i&&(o=u[c+" "+s[0]]||u["* "+s[0]])){!0===o?o=u[a]:!0!==u[a]&&(i=s[0],l.unshift(s[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+c+" to "+i}}}return{state:"success",data:t}}(d,T,k,p),p?(d.ifModified&&((S=k.getResponseHeader("Last-Modified"))&&(w.lastModified[a]=S),(S=k.getResponseHeader("etag"))&&(w.etag[a]=S)),204===t||"HEAD"===d.type?x="nocontent":304===t?x="notmodified":(x=T.state,f=T.data,p=!(m=T.error))):(m=x,!t&&x||(x="error",t<0&&(t=0))),k.status=t,k.statusText=(n||x)+"",p?g.resolveWith(h,[f,x,k]):g.rejectWith(h,[k,x,m]),k.statusCode(b),b=void 0,l&&y.trigger(p?"ajaxSuccess":"ajaxError",[k,d,p?f:m]),v.fireWith(h,[k,x]),l&&(y.trigger("ajaxComplete",[k,d]),--w.active||w.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],function(e,t){w[t]=function(e,n,r,a){return h(n)&&(a=a||r,r=n,n=void 0),w.ajax(w.extend({url:e,type:t,dataType:a,data:n,success:r},w.isPlainObject(e)&&e))}}),w.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),w._evalUrl=function(e,t,n){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){w.globalEval(e,t,n)}})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(h(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return h(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=h(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Ht={0:200,1223:204},zt=w.ajaxSettings.xhr();d.cors=!!zt&&"withCredentials"in zt,d.ajax=zt=!!zt,w.ajaxTransport(function(t){var n,r;if(d.cors||zt&&!t.crossDomain)return{send:function(a,i){var o,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];for(o in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||a["X-Requested-With"]||(a["X-Requested-With"]="XMLHttpRequest"),a)s.setRequestHeader(o,a[o]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(Ht[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),w.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),w.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,a){t=w("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&a("error"===e.type?404:200,e.type)}),m.head.appendChild(t[0])},abort:function(){n&&n()}}});var $t,Bt=[],Wt=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Bt.pop()||w.expando+"_"+Tt.guid++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(t,n,r){var a,i,o,s=!1!==t.jsonp&&(Wt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Wt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return a=t.jsonpCallback=h(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Wt,"$1"+a):!1!==t.jsonp&&(t.url+=(St.test(t.url)?"&":"?")+t.jsonp+"="+a),t.converters["script json"]=function(){return o||w.error(a+" was not called"),o[0]},t.dataTypes[0]="json",i=e[a],e[a]=function(){o=arguments},r.always(function(){void 0===i?w(e).removeProp(a):e[a]=i,t[a]&&(t.jsonpCallback=n.jsonpCallback,Bt.push(a)),o&&h(i)&&i(o[0]),o=i=void 0}),"script"}),d.createHTMLDocument=(($t=m.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===$t.childNodes.length),w.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(d.createHTMLDocument?((r=(t=m.implementation.createHTMLDocument("")).createElement("base")).href=m.location.href,t.head.appendChild(r)):t=m),i=!n&&[],(a=A.exec(e))?[t.createElement(a[1])]:(a=be([e],t,i),i&&i.length&&w(i).remove(),w.merge([],a.childNodes)));var r,a,i},w.fn.load=function(e,t,n){var r,a,i,o=this,s=e.indexOf(" ");return s>-1&&(r=ht(e.slice(s)),e=e.slice(0,s)),h(t)?(n=t,t=void 0):t&&"object"===(void 0===t?"undefined":_typeof(t))&&(a="POST"),o.length>0&&w.ajax({url:e,type:a||"GET",dataType:"html",data:t}).done(function(e){i=arguments,o.html(r?w("<div>").append(w.parseHTML(e)).find(r):e)}).always(n&&function(e,t){o.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},w.expr.pseudos.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length},w.offset={setOffset:function(e,t,n){var r,a,i,o,s,c,u=w.css(e,"position"),l=w(e),p={};"static"===u&&(e.style.position="relative"),s=l.offset(),i=w.css(e,"top"),c=w.css(e,"left"),("absolute"===u||"fixed"===u)&&(i+c).indexOf("auto")>-1?(o=(r=l.position()).top,a=r.left):(o=parseFloat(i)||0,a=parseFloat(c)||0),h(t)&&(t=t.call(e,n,w.extend({},s))),null!=t.top&&(p.top=t.top-s.top+o),null!=t.left&&(p.left=t.left-s.left+a),"using"in t?t.using.call(e,p):("number"==typeof p.top&&(p.top+="px"),"number"==typeof p.left&&(p.left+="px"),l.css(p))}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],a={top:0,left:0};if("fixed"===w.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((a=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),a.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-a.top-w.css(r,"marginTop",!0),left:t.left-a.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===w.css(e,"position");)e=e.offsetParent;return e||ne})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;w.fn[e]=function(r){return H(this,function(e,r,a){var i;if(y(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===a)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:a,n?a:i.pageYOffset):e[r]=a},e,r,arguments.length)}}),w.each(["top","left"],function(e,t){w.cssHooks[t]=ze(d.pixelPosition,function(e,n){if(n)return n=He(e,t),Le.test(n)?w(e).position()[t]+"px":n})}),w.each({Height:"height",Width:"width"},function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){w.fn[r]=function(a,i){var o=arguments.length&&(n||"boolean"!=typeof a),s=n||(!0===a||!0===i?"margin":"border");return H(this,function(t,n,a){var i;return y(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===a?w.css(t,n,s):w.style(t,n,a,s)},t,o?a:void 0,o)}})}),w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}});var Ut=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),h(e))return r=a.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(a.call(arguments)))}).guid=e.guid=e.guid||w.guid++,i},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=j,w.isFunction=h,w.isWindow=y,w.camelCase=W,w.type=b,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},w.trim=function(e){return null==e?"":(e+"").replace(Ut,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return w});var Gt=e.jQuery,Xt=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=Xt),t&&e.jQuery===w&&(e.jQuery=Gt),w},void 0===t&&(e.jQuery=e.$=w),w}),define("jqueryplugins",["jquery"],function(e){e.prototype.extend({popAttr:function(e){var t=this.attr(e);return this.removeAttr(e),t},popData:function(e){var t=this.data(e);return this.removeData(e),t},tag:function(){return this[0]&&this[0].tagName&&this[0].tagName.toLowerCase()},textNodes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*";return 1===this.length&&this[0]instanceof Text?[this[0]]:this.get().concat(this.contents().get(),this.find(e).contents().get()).filter(function(e,t,n){return e instanceof Text&&n.indexOf(e)===t}).sort(function(e,t){return 2&e.compareDocumentPosition(t)?1:-1})},findAndFilter:function(e){return this.filter(e).add(this.find(e))}})}),function(){var e=void 0,t={};function n(){for(var e=0;e<arguments.length;e++)for(var t in arguments[e])this[t]=arguments[e][t]}function r(e,t){e.childAt=e.childAt||{};for(var n=t.start;n<t.end;n+=1)e.childAt[n]=t}function a(e,t,n,r){return!(e.canFollow&&!(e.canFollow.indexOf(n&&n.type)>-1)||e.cannotFollow&&(-1!==e.cannotFollow.indexOf(n&&n.type)||e.cannotFollow.indexOf("text")>-1&&r)||e.peek&&e.peek.toLowerCase()!==t.slice(0,e.peek.length).toLowerCase())}function i(e){for(var n=e.innerText,r=[],i=0,s=i,c=n.length,u=null;i<c;){for(var l=n.slice(i),p=(r.length?r[0]:e).innerMode,f=0,d=p.length;f<d;f+=1){var h=t[p[f]];if(a(h,l,u,s<i)&&h.pattern.test(l)){var y=h.pattern.exec(l),m=h.fn(y),g=!1,v=0;if(m.matches){for(;v<r.length;v+=1){var b=r[v].type;if(b in m.matches){g=!0;break}0===b.indexOf("verbatim")&&(b="verbatimOpener"),m.cannotCross&&m.cannotCross.indexOf(b)>-1&&(v=r.length-1)}if(v>=r.length&&!m.isFront)continue}s<i&&e.addChild({type:"text",text:n.slice(s,i),innerMode:p}),s=i+=(u=e.addChild(m)).text.length,g&&(o(e,u,r[v]),r=r.slice(v+1)),u.isFrontToken()&&r.unshift(u);break}}f===d&&(i+=1,null===u&&(u={type:"text"}))}for(s<i&&e.addChild({type:"text",text:n.slice(s,i),innerMode:(r.length?r[0]:e).innerMode});r.length>0;)r.shift().demote();return e}function o(e,t,n){var a=e.children.indexOf(t),i=e.children.indexOf(n);t.children=e.children.splice(i+1,a-(i+1)),t.children.forEach(function(e){r(t,e)}),t.type=t.matches[n.type],t.innerText="";for(var o=0,s=t.children.length;o<s;o++)t.innerText+=t.children[o].text;t.start=n.start,t.text=n.text+t.innerText+t.text,Object.keys(n).forEach(function(e){Object.hasOwnProperty.call(t,e)||(t[e]=n[e])}),t.isFront&&(t.isFront=!1),e.children.splice(i,1),r(e,t)}n.prototype={constructor:n,addChild:function(e){var t=this.lastChildEnd(),a=new n({start:t,end:e.text&&t+e.text.length,children:[]},e);return a.innerText&&i(a),this.children.push(a),r(this,a),a},firstChild:function(){return this.children&&this.children[0]||null},lastChild:function(){return this.children&&this.children[this.children.length-1]||null},lastChildEnd:function(){var e=this.lastChild();return e?e.end:this.start+Math.max(0,this.text.indexOf(this.innerText))},tokenAt:function(e){if(e<this.start||e>=this.end)return null;if(this.childAt)return this.childAt[e]&&this.childAt[e].tokenAt(e)||this;if(this.children.length)for(var t=0;t<this.children.length;t+=1){var n=this.children[t].tokenAt(e);if(n)return n}return this},pathAt:function(e){if(e<this.start||e>=this.end)return[];if(this.childAt)return(this.childAt[e]&&this.childAt[e].pathAt(e)||[]).concat(this);var t=[];if(this.children.length)for(var n=0;n<this.children.length;n+=1){var r=this.children[n].pathAt(e);if(r.length){t.concat(r);break}}return t.concat(this)},nearestTokenAt:function(e){return e<this.start||e>=this.end?null:this.children?this.children.reduce(function(t,n){return t||(e>=n.start&&e<n.end?n:null)},null):this},everyLeaf:function(e){return this.children&&0!==this.children.length?this.children.reduce(function(t,n){return t&&n.everyLeaf(e)},!0):!!e(this)},isWhitespace:function(){return this.everyLeaf(function(e){return"whitespace"===e.type||!e.text.trim()})},isFrontToken:function(){return this.isFront},isBackToken:function(){return"matches"in this},demote:function(){this.type="text"},error:function(e){this.type="error",this.message=e},toString:function(){var e=this.type+"("+this.start+"\u2192"+this.end+")";return this.children&&this.children.length>0&&(e+="["+this.children+"]"),e}},e={lex:function(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"start";return i(new n({type:"root",start:r||0,end:t.length,text:t,innerText:t,children:[],childAt:{},innerMode:e.modes[a]}))},rules:t,modes:{}},"object"===("undefined"==typeof module?"undefined":_typeof(module))?module.exports=e:"function"==typeof define&&define.amd?define("lexer",[],function(){return e}):this&&this.loaded?(this.modules||(this.modules={}),this.modules.Lexer=e):this.TwineLexer=e}.call(eval("this")||("undefined"!=typeof global?global:window)),function(){var e;function t(e){return e&&"object"===(void 0===e?"undefined":_typeof(e))?(Object.keys(e).forEach(function(n){e[n]=t(e[n])}),e):(e+"").replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function n(e){return function(){return"("+e+Array.apply(0,arguments).join("|")+")"}}var r=n("?:"),a=n("?!"),i=n("?="),o="[ \\f\\t\\v\\u00a0\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]*",s=o.replace("*","+"),c="\\b",u="[\\w\\-\\u00c0-\\u00de\\u00df-\\u00ff\\u0150\\u0170\\u0151\\u0171\\uD800-\\uDFFF]",l=u.replace("\\-",""),p=r("\\n","$"),f=o+"(\\*+)"+s,d=o+"((?:0\\.)+)"+s,h=o+"-{3,}"+o+p,y=o+"(==+>|<=+|=+><=+|<==+>)"+o+p,m=o+"(=+\\|+|\\|+=+|=+\\|+=+|\\|=+\\|)"+o+p,g={opener:"\\[\\[(?!\\[)",text:"("+function(){return"[^"+Array.apply(0,arguments).map(t).join("")+"]*"}("]")+")",rightSeparator:r("\\->","\\|"),leftSeparator:"<\\-",closer:"\\]\\]",legacySeparator:"\\|",legacyText:"("+r("[^\\|\\]]","\\]"+a("\\]"))+"+)"},v=l+"*"+l.replace("\\w","a-zA-Z")+l+"*",b="\\$("+v+")",w="_("+v+")",T="'s"+s+"("+v+")",S="("+v+")"+s+"of"+c+a("it\\b"),x="'s"+s,k=r("it","time","visits?","exits?","pos")+c,O="its"+s+"("+v+")",j="its"+s,A="("+v+")"+s+"of"+s+"it"+c,C="of\\b"+s+"it"+c,E={opener:"\\(",name:"("+r("\\$","_")+"?"+u+"+):"+a("\\/"),closer:"\\)"},_=r("=<","=>","[gl]te?\\b","n?eq\\b","isnot\\b","are\\b","x\\b","isa\\b","or"+s+"a"+c),N="[a-zA-Z][\\w\\-]*",P="(?:\"[^\"]*\"|'[^']*'|[^'\">])*?",I="\\|("+u+"+)(>|\\))",M="(<|\\()("+u+"+)\\|",D="\\b(\\d+(?:\\.\\d+)?(?:[eE][+\\-]?\\d+)?)"+a("m?s")+c;g.main=g.opener+r(g.text+g.rightSeparator,g.text.replace("*","*?")+g.leftSeparator)+g.text,e={upperLetter:"[A-Z\\u00c0-\\u00de\\u0150\\u0170]",lowerLetter:"[a-z0-9_\\-\\u00df-\\u00ff\\u0151\\u0171]",anyLetter:u,anyLetterStrict:l,whitespace:s.replace("[","[\\n\\r"),escapedLine:"\\\\\\n\\\\?|\\n\\\\",br:"\\n(?!\\\\)",commentFront:"\x3c!--",commentBack:"--\x3e",tag:"<\\/?"+N+P+">",tagPeek:"<",scriptStyleTag:"<("+r("script","style","textarea")+")"+P+">[^]*?<\\/\\1>",scriptStyleTagOpener:"<",url:"("+r("https?","mailto","javascript","ftp","data")+":\\/\\/[^\\s<]+[^<.,:;\"')\\]\\s])",bullet:"\\*",hr:h,heading:"[ \\f\\t\\v\\u00a0\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]*(#{1,6})[ \\f\\t\\v\\u00a0\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]*",align:y,column:m,bulleted:f,numbered:d,strikeOpener:t("~~"),italicOpener:t("//"),boldOpener:t("''"),supOpener:t("^^"),strongFront:t("**"),strongBack:t("**"),emFront:t("*"),emBack:t("*"),verbatimOpener:"`+",collapsedFront:"{",collapsedBack:"}",hookAppendedFront:"\\["+a("=+"),hookPrependedFront:I+"\\["+a("=+"),hookFront:"\\["+a("=+"),hookBack:"\\]"+a(M),hookAppendedBack:"\\]"+M,unclosedHook:"\\[=+",unclosedHookPrepended:I+"\\[=+",unclosedCollapsed:"\\{=+",passageLink:g.main+g.closer,passageLinkPeek:"[[",legacyLink:g.opener+g.legacyText+g.legacySeparator+g.legacyText+g.closer,legacyLinkPeek:"[[",simpleLink:g.opener+g.legacyText+g.closer,simpleLinkPeek:"[[",macroFront:E.opener+i(E.name),macroFrontPeek:"(",macroName:E.name,groupingFront:"\\("+a(E.name),groupingFrontPeek:"(",groupingBack:"\\)",twine1Macro:"<<[^>\\s]+\\s*(?:\\\\.|'(?:[^'\\\\]*\\\\.)*[^'\\\\]*'|\"(?:[^\"\\\\]*\\\\.)*[^\"\\\\]*\"|[^'\"\\\\>]|>(?!>))*>>",twine1MacroPeek:"<<",validPropertyName:v,property:T,propertyPeek:"'s",belongingProperty:S,possessiveOperator:x,belongingOperator:"of\\b",belongingOperatorPeek:"of",itsOperator:j,itsOperatorPeek:"its",belongingItOperator:C,belongingItOperatorPeek:"of",variable:b,variablePeek:"$",tempVariable:w,tempVariablePeek:"_",hookName:"\\?("+u+"+)\\b",hookNamePeek:"?",cssTime:"(\\d+\\.?\\d*|\\d*\\.?\\d+)(m?s)\\b",colour:r(r("Red","Orange","Yellow","Lime","Green","Cyan","Aqua","Blue","Navy","Purple","Fuchsia","Magenta","White","Gray","Grey","Black","Transparent"),"#[\\dA-Fa-f]{3}(?:[\\dA-Fa-f]{3})?"),datatype:r("alnum","alphanumeric","any(?:case)?","array","bool(?:ean)?","changer","colou?r","const","command","dm","data"+r("map","type","set"),"ds","digit","gradient","empty","even","int"+a("o")+"(?:eger)?","lambda","lowercase","macro","linebreak","num(?:ber)?","odd","str(?:ing)?","uppercase","whitespace")+c,number:D,boolean:r("true","false")+c,identifier:k,itsProperty:O,itsPropertyPeek:"its",belongingItProperty:A,escapedStringChar:"\\\\[^\\n]",singleStringOpener:"'",doubleStringOpener:'"',singleStringCloser:"'",doubleStringCloser:'"',is:"is"+a(s+"not"+c,s+"an?"+c,s+"in"+c,s+"<",s+">")+c,isNot:"is"+s+"not"+a(s+r("an?","in")+c)+c,isA:"is"+s+"an?"+c,isNotA:"is"+s+"not"+s+"an?"+c,matches:"matches\\b",doesNotMatch:"does"+s+"not"+s+"match"+c,and:"and\\b",or:"or\\b",not:"not\\b",inequality:"((?:is(?:"+s+"not)?"+o+")*)("+r("<(?!=)","<=",">(?!=)",">=")+")",isIn:"is"+s+"in"+c,contains:"contains\\b",doesNotContain:"does"+s+"not"+s+"contain"+c,isNotIn:"is"+s+"not"+s+"in"+c,addition:t("+")+a("="),subtraction:t("-")+a("=","type"),multiplication:t("*")+a("="),division:r("/","%")+a("="),comma:",",spread:"\\.\\.\\."+a("\\."),to:r("to\\b","="),into:"into\\b",making:"making\\b",where:"where\\b",when:"when\\b",via:"via\\b",each:"each\\b",augmentedAssign:r("\\+","\\-","\\*","\\/","%")+"=",bind:"2?bind\\b",typeSignature:t("-type")+c,incorrectOperator:_},"object"===("undefined"==typeof module?"undefined":_typeof(module))?module.exports=e:"function"==typeof define&&define.amd?define("patterns",[],function(){return e}):this&&this.loaded?(this.modules||(this.modules={}),this.modules.Patterns=e):this.Patterns=e}.call(eval("this")||("undefined"!=typeof global?global:window)),function(){var e=void 0;Object.assign=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var t=Object.keys,n=Object.assign;function r(r){return Object.freeze({lex:function(r){function a(e){return e=e||"innerText",function(t){var n=t.reduceRight(function(e,t,n){return e||(n?t:"")},""),r={};return r[e]=n,r}}function i(e,t){var n={};return n[e]=t,function(){return{isFront:!0,matches:n,cannotCross:["verbatimOpener"]}}}var o=Object.bind(0,null);function s(e,t){return Object.keys(t).forEach(function(n){var r=t[n].fn;t[n].fn=function(t){var a=r(t);return a.text||(a.text=t[0]),a.type||(a.type=n),a.innerMode||(a.innerMode=e),a}}),t}var c=[],u=[],l=[],p=s(c,{hr:{fn:o},bulleted:{fn:function(e){return{depth:e[1].length}}},numbered:{fn:function(e){return{depth:e[1].length/2}}},heading:{fn:function(e){return{depth:e[1].length}}},align:{fn:function(e){var t=void 0,n=e[1],r=n.indexOf("><");return~r?25===(t=Math.round(r/(n.length-2)*50))&&(t="center"):"<"===n[0]&&">"===n.slice(-1)?t="justify":n.indexOf(">")>-1?t="right":n.indexOf("<")>-1&&(t="left"),{align:t}}},column:{fn:function(e){var t=void 0,n=e[1],r=n.indexOf("|");return r&&r<n.length-1?t="center":"|"===n[0]&&"|"===n.slice(-1)?t="none":r===n.length-1?t="right":r||(t="left"),{column:t,width:/\|+/.exec(n)[0].length,marginLeft:/^=*/.exec(n)[0].length,marginRight:/=*$/.exec(n)[0].length}}}});t(p).forEach(function(e){p[e].canFollow=[null,"br","hr","bulleted","numbered","heading","align","column","escapedLine"],p[e].cannotFollow=["text"]});var f=s(c,{twine1Macro:{fn:function(){return{type:"error",message:"Harlowe macros use a different syntax to Twine 1, SugarCube, and Yarn macros."}}},emBack:{fn:function(){return{matches:{emFront:"em"},cannotCross:["verbatimOpener"]}}},strongBack:{fn:function(){return{matches:{strongFront:"strong"},cannotCross:["verbatimOpener"]}}},strongFront:{fn:function(){return{isFront:!0}}},emFront:{fn:function(){return{isFront:!0}}},boldOpener:{fn:i("boldOpener","bold")},italicOpener:{fn:i("italicOpener","italic")},strikeOpener:{fn:i("strikeOpener","strike")},supOpener:{fn:i("supOpener","sup")},commentFront:{fn:function(){return{isFront:!0}}},commentBack:{fn:function(){return{matches:{commentFront:"comment"}}}},scriptStyleTag:{fn:o},tag:{fn:o},url:{fn:o},hookPrependedFront:{fn:function(e){return{name:e[1],hidden:")"===e[2],isFront:!0,tagPosition:"prepended"}}},hookFront:{fn:function(){return{isFront:!0}}},hookBack:{fn:function(){return{matches:{hookPrependedFront:"hook",hookFront:"hook"},cannotCross:["verbatimOpener"]}}},hookAppendedBack:{fn:function(e){return{name:e[2],hidden:"("===e[1],tagPosition:"appended",matches:{hookFront:"hook"},cannotCross:["verbatimOpener"]}}},unclosedHook:{fn:o},unclosedHookPrepended:{fn:function(e){return{type:"unclosedHook",name:e[1],hidden:")"===e[2]}}},verbatimOpener:{fn:function(e){var t=e[0].length,n={};return n["verbatim"+t]="verbatim",{type:"verbatim"+t,isFront:!0,matches:n}}},unclosedCollapsed:{fn:o},collapsedFront:{fn:function(){return{isFront:!0}}},collapsedBack:{fn:function(){return{matches:{collapsedFront:"collapsed"},cannotCross:["verbatimOpener"]}}},escapedLine:{fn:o},legacyLink:{fn:function(e){return{type:"twineLink",innerText:e[1],passage:e[2],innerMode:c}}},br:{fn:o}}),d=n(s(u,{macroFront:{fn:function(e){return{isFront:!0,name:e[1]}}},groupingBack:{fn:function(){return{matches:{groupingFront:"grouping",macroFront:"macro"},cannotCross:["singleStringOpener","doubleStringOpener"]}}},passageLink:{fn:function(e){var t=e[1]||"",n=e[2]||"",r=e[3]||"";return{type:"twineLink",innerText:n?r:t,passage:t?r:n,innerMode:c}}},simpleLink:{fn:function(e){return{type:"twineLink",innerText:e[1]||"",passage:e[1]||"",innerMode:c}}},variable:{cannotFollow:["macroFront"],fn:a("name")},tempVariable:{cannotFollow:["macroFront"],fn:a("name")}}),{hookFront:f.hookFront,hookBack:f.hookBack}),h=s(u,n({macroName:{canFollow:["macroFront"],fn:a("name")},groupingFront:{fn:function(){return{isFront:!0}}},property:{fn:a("name"),canFollow:["variable","hookName","property","tempVariable","colour","itsProperty","belongingItProperty","macro","grouping","string","datatype","hook","boolean","number"]},possessiveOperator:{fn:o},itsProperty:{cannotFollow:["text"],fn:a("name")},itsOperator:{cannotFollow:["text"],fn:o},belongingItProperty:{cannotFollow:["text"],fn:a("name")},belongingItOperator:{cannotFollow:["text"],fn:o},belongingProperty:{cannotFollow:["text"],fn:a("name")},belongingOperator:{cannotFollow:["text"],fn:o},escapedStringChar:{fn:function(){return{type:"text"}}},singleStringOpener:{fn:function(){return{isFront:!0,matches:{singleStringOpener:"string"},innerMode:l}}},doubleStringOpener:{fn:function(){return{isFront:!0,matches:{doubleStringOpener:"string"},innerMode:l}}},hookName:{fn:a("name")},cssTime:{fn:function(e){return{value:+e[1]*("s"===e[2].toLowerCase()?1e3:1)}}},datatype:{cannotFollow:["text"],fn:function(e){return{name:e[0].toLowerCase()}}},colour:{cannotFollow:["text"],fn:function(e){var t=e[0].toLowerCase(),n={red:"e61919",orange:"e68019",yellow:"e5e619",lime:"80e619",green:"19e619",cyan:"19e5e6",aqua:"19e5e6",blue:"197fe6",navy:"1919e6",purple:"7f19e6",fuchsia:"e619e5",magenta:"e619e5",white:"fff",black:"000",gray:"888",grey:"888"};return{colour:Object.hasOwnProperty.call(n,t)?"#"+n[t]:t}}},number:{fn:function(e){return{value:parseFloat(e[0])}}},inequality:{fn:function(e){return{operator:e[2],negate:e[1].indexOf("not")>-1}}},augmentedAssign:{fn:function(e){return{operator:e[0][0]}}},identifier:{fn:a("name"),cannotFollow:["text"]},whitespace:{fn:o,cannotFollow:"text"},incorrectOperator:{fn:function(e){var t={"=>":">=","=<":"<=",gte:">=",lte:"<=",gt:">",lt:"<",eq:"is",isnot:"is not",neq:"is not",isa:"is a",are:"is",x:"*","or a":"or"}[e[0].toLowerCase().replace(/\s+/g," ")];return{type:"error",message:"Please say "+(t?"'"+t+"'":"something else")+" instead of '"+e[0]+"'.",explanation:"In the interests of readability, I want certain operators to be in a specific form."}},cannotFollow:"text"}},["boolean","is","to","into","where","when","via","making","each","and","or","not","isNot","contains","doesNotContain","isIn","isA","isNotA","isNotIn","matches","doesNotMatch","bind"].reduce(function(e,t){return e[t]={fn:o,cannotFollow:["text"]},e},{}),["comma","spread","typeSignature","addition","subtraction","multiplication","division"].reduce(function(e,t){return e[t]={fn:o},e},{}))),y=s(l,{singleStringCloser:h.singleStringOpener,doubleStringCloser:h.doubleStringOpener,escapedStringChar:h.escapedStringChar});c.push.apply(c,_toConsumableArray(t(p)).concat(_toConsumableArray(t(d)),_toConsumableArray(t(f)))),u.push.apply(u,_toConsumableArray(t(d)).concat(_toConsumableArray(t(h)))),l.push.apply(l,_toConsumableArray(t(y)));var m=n({},p,f,d,h,y);t(m).forEach(function(t){var n=e[t];m[t].pattern="string"!=typeof n?n:RegExp("^(?:"+n+")","i"),e[t+"Peek"]&&(m[t].peek=e[t+"Peek"])}),n(r.rules,m);var g=r.modes;return g.start=g.markup=c,g.macro=u,g.string=l,r}(r).lex,Patterns:e})}"object"===("undefined"==typeof module?"undefined":_typeof(module))?(e=require("./patterns"),module.exports=r(require("./lexer"))):"function"==typeof define&&define.amd?define("markup",["lexer","patterns"],function(t,n){return e=n,r(t)}):this&&this.loaded&&this.modules?(e=this.modules.Patterns,this.modules.Markup=r(this.modules.Lexer)):(e=this.Patterns,this.TwineMarkup=r(this.TwineLexer))}.call(eval("this")||("undefined"!=typeof global?global:window)),define("utils/polyfills",[],function(){var e=Array.prototype;"function"!=typeof e.includes&&(e.includes=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!Number.isNaN(t)&&Number.isFinite(n)&&void 0!==t)return e.indexOf.call(this,t,n)>-1;var r=Object(this),a=parseInt(r.length);if(a<=0)return!1;for(var i=n>=0?n:Math.max(0,a+n);i<a;){if(Object.is(t,r[i]))return!0;i+=1}return!1}),!window.Symbol&&(window.Symbol={iterator:"_es6-shim iterator_"})}),define("utils",["jquery","markup","utils/polyfills"],function(e){var t=String.fromCharCode,n="audio,blockquote,canvas,div,h1,h2,h3,h4,h5,hr,ol,p,pre,table,ul,video,tw-align,tw-story,tw-passage,tw-sidebar,tw-columns,tw-column,tw-meter".split(","),r="a,b,i,em,strong,sup,sub,abbr,acronym,s,strike,del,big,small,script,img,button,input,tw-link,tw-broken-link,tw-verbatim,tw-collapsed,tw-error,tw-colour,tw-icon".split(","),a=["audio"],i=[function(e){return t(e)!==t(e).toLowerCase()},function(e){return t(e)!==t(e).toUpperCase()},function(e){return t(e).toLowerCase()!==t(e).toUpperCase()}].map(function(e){return"["+Array.from(Array(57343)).map(function(e,t){return t}).filter(e).map(function(e,n,r){return e===r[n-1]+1&&e===r[n+1]-1?"-":t(e)}).join("").replace(/\-+/g,"-")+"]"}),o=_slicedToArray(i,3),s=o[0],c=o[1],u=o[2];function l(e){return"instant"===e?0:800}var p=void 0,f=[],d={},h=0,y={},m=0,g={},v=void 0;function b(e,t,n,r,a){var i=null,o=0,s=t+n;function c(n){1&e[0].compareDocumentPosition(document)&&(s=0),i&&(s-=n-i,o+=n-i),i=n,r>0&&h+m>0&&(s-=r,e.css("animation-delay",(v.cssTimeUnit(e.css("animation-delay"))||0)-r+"ms")),s<=0?a(o):requestAnimationFrame(c),s<=t&&e.css("visibility","")}s?requestAnimationFrame(c):c()}return e(document.documentElement).on("keydown keyup mousedown mouseup",function(e){var t=e.key,n=e.button,r=e.type.includes("down"),a=t?d:y,i=t&&v.insensitiveName(t)||n;a[i]&&!r?t?h=Math.max(h-1,0):m=Math.max(m-1,0):!a[i]&&r&&(t?h+=1:m+=1),a[i]=r}).on("mousemove",function(e){var t=e.pageX,n=e.pageY;g.x=t,g.y=n}),v={lockProperty:function(e,t,n){var r=Object.create({configurable:0,writable:0});return n&&(r.value=n),Object.defineProperty(e,t,r),e},permutations:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.length,a=[[].concat(t)],i=Array(r).fill(0),o=1,s=void 0,c=void 0;o<r;)i[o]<o?(s=o%2&&i[o],c=t[o],t[o]=t[s],t[s]=c,++i[o],o=1,a.push([].concat(t))):(i[o]=0,++o);return a},shuffled:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t,n){var r=Math.random()*(n+1)|0;return r===n?e.push(t):(e.push(e[r]),e[r]=t),e},[])},matMul:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i;if(r.length>0)return(i=v).matMul.apply(i,[v.matMul(e,t)].concat(r));if(!t)return e;for(var o=[],s=0;s<e.length;s++){o[s]=[];for(var c=0;c<t[0].length;c++){for(var u=0,l=0;l<e[0].length;l++)u+=e[s][l]*t[l][c];o[s][c]=u}}return o},cssTimeUnit:function(e){return"ms"===(e=e.toLowerCase()).slice(-2)?+e.slice(0,-2)||0:"s"===e.slice(-1)&&1e3*+e.slice(0,-1)||0},nth:function(e){var t=(+e+"").slice(-1);return e+("1"===t?"st":"2"===t?"nd":"3"===t?"rd":"th")},plural:function(e,t){return e+" "+t+(e>1?"s":"")},andList:function(e){return 1===e.length?e[0]:e.slice(0,-1).join(", ")+" and "+e[e.length-1]},realWhitespace:"[ \\n\\r\\f\\t\\v\\u00a0\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]",anyRealLetter:"[\\dA-Za-z\\u00c0-\\u00de\\u00df-\\u00ff\\u0150\\u0170\\u0151\\u0171\\uD800-\\uDFFF]",anyUppercase:s,anyLowercase:c,anyCasedLetter:u,anyNewline:"(?:\\n|\\r|\\r\\n)",unescape:function(e){return e.replace(/&(?:amp|lt|gt|quot|nbsp|zwnj|#39|#96);/g,function(e){return{"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'","&nbsp;":String.fromCharCode(160),"&zwnj;":String.fromCharCode(8204)}[e]})},escape:function(e){return e.replace(/[&><"']/g,function(e){return{"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"}[e]})},insensitiveName:function(e){return(e+"").toLowerCase().replace(/-|_/g,"")},allKeysDown:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every(function(e){return d[e]})},someKeysDown:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(function(e){return d[e]})},buttonsDown:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every(function(e){return y[e]})},anyInputDown:function(){return h+m>0},mouseCoords:g,parentColours:function(e){for(var t={colour:null,backgroundColour:null},n=/^\w+a\(.+?,\s*0\s*\)$|^transparent$/;e.length&&e[0]!==document;e=e.parent()){if(!t.backgroundColour){var r=e.css("background-color");r.match(n)||(t.backgroundColour=r)}if(!t.colour){var a=e.css("color");a.match(n)||(t.colour=a)}if(t.colour&&t.backgroundColour)return t}return{colour:"#fff",backgroundColour:"#000"}},childrenProbablyInline:function(e){var t=[];return[].every.call(e.findAndFilter("*"),function(e){return!!(e.hidden||/none|inline/.test(e.style.display)||/display: (none|inline)/.test(e.getAttribute("style")))||!n.includes(e.tagName.toLowerCase())&&!/display: (?!none|inline|inherit|unset)/.test(e.getAttribute("style"))&&(!!r.includes(e.tagName.toLowerCase())||(t.push(e),!0))})&&t.every(function(e){return window.getComputedStyle(e).display.includes("inline")})},transitionReplace:function(t,n,r){var a=t.closest("tw-hook");a.length>0&&(t=a);var i=e("<tw-transition-container>").css("position","relative");i.insertBefore(t.first());var o=void 0;n&&(o=e("<tw-transition-container>").appendTo(i),n.appendTo(o));var s=e("<tw-transition-container>").css("position","absolute").prependTo(i);t.detach().appendTo(s),v.transitionOut(s,r),n&&v.transitionIn(o,r,function(){o.unwrap().children().first().unwrap()})},transitionOut:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;0!==e.length&&(n=n||l(t),(e.length>1||!v.childrenProbablyInline(e)||!["tw-hook","tw-passage","tw-expression"].includes(e.tag()))&&(e=e.wrapAll("<tw-transition-container>").parent()),o&&e.css("transform-origin",o),e.attr("data-t8n",t).addClass("transition-out").css({"animation-duration":n+"ms","animation-delay":r-i+"ms"}),requestAnimationFrame(function(){v.childrenProbablyInline(e)?e.css("display","inline"):e.parent().is("tw-backdrop,tw-story")||e[0].setAttribute("style",e[0].getAttribute("style")+"display:block !important;width:100%")}),b(e,n,r-i,a,function(){e.remove()}))},transitionIn:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;if(0!==t.length){r=r||l(n);var u=t.length>1||!v.childrenProbablyInline(t)||!["tw-hook","tw-passage","tw-expression"].includes(t.tag());u&&(t=t.wrapAll("<tw-transition-container>").parent()),c&&t.css("transform-origin",c),t.attr("data-t8n",n).addClass("transition-in").css(Object.assign({"animation-duration":r+"ms","animation-delay":i-s+"ms"},i-s?{visibility:"hidden"}:{})),requestAnimationFrame(function(){v.childrenProbablyInline(t)?t.css("display","inline"):t.parent().is("tw-backdrop,tw-story")||t[0].setAttribute("style",t[0].getAttribute("style")+"display:block !important;width:100%")}),b(t,r,i-s,o,function(n){var r=0===t.filter(a.join(",")).length;u&&r?(t.find("tw-transition-container").each(function(t,r){(r=e(r)).css("animation-delay",v.cssTimeUnit(r.css("animation-delay")||0)-n+"ms")}),t.contents().unwrap()):t.removeClass("transition-in").removeAttr("data-t8n")})}},debounce:function(e){var t=void 0,n=void 0,r=0,a=function a(){Date.now()-r>300?(t=0,e.apply(void 0,_toConsumableArray(n))):t=requestAnimationFrame(a)};return function(){r=Date.now(),n=arguments,t&&cancelAnimationFrame(t),t=requestAnimationFrame(a)}},impossible:function(e,t){window.console&&console.error(e+"(): "+t)},assertMustHave:function(e,t){if(window.console)for(var n=0;n<t.length;n+=1)t[n]in e||console.error("Assertion failed: object lacks property "+t[n])},assertOnlyHas:function(e,t){if(window.console)for(var n in e)t.includes(n)||console.error("Assertion failed: object had unexpected property '"+n+"'!")},onStartup:function(e){f?f.push(e):e()},get storyElement(){return p}},e(function(){p=e("tw-story"),f.forEach(function(e){return e()}),f=null}),Object.freeze(v)}),define("utils/naturalsort",[],function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String;return function(n,r){var a,i,o,s,c=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,u=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,p=/^0/,f=t(n).trim(),d=t(r).trim(),h=f.replace(c,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),y=d.replace(c,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(f.match(l))||1!==h.length&&f.match(u)&&Date.parse(f),g=parseInt(d.match(l))||m&&d.match(u)&&Date.parse(d)||null;if(e&&window.Intl&&window.Intl.Collator&&(o=window.Intl.Collator(e)),g){if(m<g)return-1;if(m>g)return 1}for(var v=0,b=Math.max(h.length,y.length);v<b;v++){if(a=!(h[v]||"").match(p)&&parseFloat(h[v])||h[v]||0,i=!(y[v]||"").match(p)&&parseFloat(y[v])||y[v]||0,isNaN(a)!==isNaN(i))return isNaN(a)?1:-1;if((void 0===a?"undefined":_typeof(a))!==(void 0===i?"undefined":_typeof(i)))a+="",i+="";else if("string"==typeof a&&o&&0!==(s=o.compare(a,i)))return s;if(a<i)return-1;if(a>i)return 1}return 0}}}),define("twinescript/compiler",["utils"],function(e){var t=e.impossible,n=JSON.stringify;function r(e,t){for(var n=0;n<e.length;n+=1)if(t.includes(e[n].type))return n;return NaN}function a(e,t){var n=[];return e.length?([["error"],["comma"],["to","into"],["where","when","via"],["making","each"],["typeSignature"],["augmentedAssign"],["and","or"],["is","isNot"],["contains","doesNotContain","isIn","isNotIn"],["isA","isNotA","matches","doesNotMatch"],["inequality"],["addition","subtraction"],["multiplication","division"],{rightAssociative:["spread","bind"]},{rightAssociative:["not","positive","negative"]},{rightAssociative:["belongingProperty","belongingItProperty","belongingOperator","belongingItOperator"]},["property","itsProperty","possessiveOperator","itsOperator"],["twineLink"],["macro"],["grouping"]]["most"===t?"reverse":"valueOf"]().some(function(t){var a=void 0;if(a=t.rightAssociative?r(e,t.rightAssociative):function(e,t){return e.length-1-r.apply(void 0,[[].concat(_toConsumableArray(e)).reverse(),t])}(e,t),!Number.isNaN(a)&&a>-1)return n=[e[a],a],!0}),n):n}function i(e){if("inequality"===e.type){var t=e.operator;return e.negate?{">":"<=","<":">=",">=":"<","<=":">"}[t]:t}return e.type}function o(e){var t=i(e);return{">":"<","<":">",">=":"<=","<=":">=",contains:"isIn",doesNotContain:"isNotIn",isIn:"contains",isA:"typifies",typifies:"isA",isNotA:"untypifies",untypifies:"isNotA"}[t]||t}var s=["inequality","is","isNot","isIn","contains","doesNotContain","isNotIn","isA","typifies","isNotA","untypifies","matches","doesNotMatch"];return function e(r){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=c.isVarRef,l=c.isTypedVar,p=c.whitespaceError,f=c.elidedComparison,d=c.testNeedsRight,h="Operations.Identifiers.it";if(!(r=[].concat(r)).length)return u&&p?"TwineError.create('operation',"+n(p)+")":"";var y=void 0;if(1===r.length){var m=(y=r[0]).type;if("identifier"===m)return u?"VarRef.create(Operations.Identifiers,"+n(y.text)+")":"Operations.Identifiers."+y.text.toLowerCase()+" ";if("variable"===m||"tempVariable"===m){var g="VarRef.create("+("tempVariable"===m?"section.stackTop.tempV":"State.v")+"ariables,"+n(y.name)+")"+(u||l?"":".get()");return l?"TypedVar.create(Datatype.create('any'),"+g+")":g}if("hookName"===m)return"HookSet.create({type:'name', data:'"+y.name+"'}) ";if("string"===m)return y.text.replace(/\n/g,"\\n");if("hook"===m)return"CodeHook.create("+n(y.text.slice(1,-1))+","+n(y.html||"")+")";if("colour"===m)return"Colour.create("+n(y.colour)+")";if("datatype"===m)return"Datatype.create("+n(y.name)+")";if("blockedValue"===m)return"section.blockedValue()";if("root"===m)return e(y.children);if("whitespace"===m&&u&&p)return"TwineError.create('operation',"+n(p)+")"}var v,b=a(r,"least"),w=_slicedToArray(b,2);y=w[0],v=w[1];var T=(y||{}).type,S=r.slice(0,v),x=r.slice(v+1),k=function(e,t){return{isVarRef:!0,isTypedVar:t,whitespaceError:"I need usable data to be on the "+e+' of "'+y.text+'".'}},O="must",j="mustn't",A="may",C=void 0,E=void 0,_="",N="",P="",I=O,M=O,D=!1;if(T)if("comma"===T)N=",",M=A;else if("spread"===T)_="Operations.makeSpreader(",P=")",I=A;else if("bind"===T)_="VarBind.create(",E=e(x,k("right")),P=(y.text.startsWith("2")?",'two way'":"")+")",I=j;else if("to"===T)_="Operations.makeAssignmentRequest(Operations.setIt(",E=e(x,k("right")),N="),",C=e(S,k("left",!0)),P=",'to')";else if("into"===T)_="Operations.makeAssignmentRequest(",E=e(S,k("left")),N=",Operations.setIt(",C=e(x,k("right",!0)),P="),'into')";else if("typeSignature"===T)_="TypedVar.create(",N=",",E=e(x,k("right")),P=")",l=!1;else if("where"===T||"when"===T||"via"===T)_="Lambda.create(",C=e(S,{isVarRef:!0,whitespaceError:null}).trim()||"undefined",N=","+n(y.type)+",",E=n(e(x)),P=","+n(r.map(function(e){return e.text}).join(""))+")";else if("making"===T||"each"===T)"each"===T?(_="Lambda.create(",E=e(x,k("right")).trim(),P=",'where','true',"+n(r.map(function(e){return e.text}).join(""))+")",I=A):(_="Lambda.create(",C=e(S,{isVarRef:!0,whitespaceError:null}).trim()||"undefined",N=","+n(y.type)+",",E=e(x,k("right")).trim(),P=","+n(r.map(function(e){return e.text}).join(""))+")");else if("augmentedAssign"===T)_="Operations.makeAssignmentRequest(",C=e(S,k("left")),N=",",E="Operations["+n(y.operator)+"]("+e(S)+","+e(x)+")",P=","+n(y.operator)+")";else if("and"===T||"or"===T){var R=function e(t){var n=a(t,"least"),r=_slicedToArray(n,2),i=r[0],o=r[1];if(i)return s.includes(i.type)?i:["and","or"].includes(i.type)?e(t.slice(0,o))||e(t.slice(o+1)):void 0},L=R(S),q=R(x),F="TwineError.create('operation', 'This use of \"is not\" and \""+T+"\" is grammatically ambiguous','Maybe try rewriting this as \"__ is not __ "+T+" __ is not __\"') ";if(_="Operations."+T+"(",N=",",P=")",f===y.type)_=P="",C=e(S,{isVarRef:u,elidedComparison:f}).trim(),E=e(x,{elidedComparison:f}).trim();else if(L&&!q){var V=L,H=n(i(V));if("isNot"===V.type||"isNotA"===V.type||"untypifies"===V.type)return F;E="Operations.elidedComparisonOperator("+n(y.type)+","+H+","+e(x,{elidedComparison:T})+")"}else if(!L&&q){var z=q,$=r.indexOf(z),B=n(o(z));if("isNot"===z.type||"isNotA"===z.type||"untypifies"===z.type)return F;E="Operations.elidedComparisonOperator("+n(y.type)+","+B+","+e(S,{elidedComparison:T})+")",C=e([].concat(_toConsumableArray(r.slice($+1)),[Object.assign(Object.create(z),_defineProperty({},"inequality"===z.type?"operator":"type",o(z)))],_toConsumableArray(r.slice(v+1,$))))}u=!1}else if(s.includes(T))D=!0,u=!1,_="Operations["+n(i(y))+"](",N=",",P=")";else if("addition"===T||"subtraction"===T){if(!e(S,{testNeedsRight:!0}).trim())return y.type={addition:"positive",subtraction:"negative"}[T],e(r,{isVarRef:u,whitespaceError:p,elidedComparison:f,testNeedsRight:d});u=!1,_="Operations["+n(y.text)+"](",N=",",P=")"}else if("multiplication"===T||"division"===T)u=!1,_="Operations["+n(y.text)+"](",N=",",P=")";else if("positive"===T||"negative"===T)u=!1,C="negative"===T?"-1":"1",_="Operations['*'](",N=",",P=")";else if("not"===T)_="Operations.not(",E=e(x),P=")",I=A;else if("belongingProperty"===T)_="VarRef.create(",E=e(x,k("right")),P=","+n(y.name)+")"+(u?"":".get()"),I=A;else if("belongingOperator"===T||"belongingItOperator"===T)C=y.type.includes("It")?h:e(x,k("right")),E=e(S),_="VarRef.create(",N=",{computed:true,value:",P="})"+(u?"":".get()");else if("property"===T)_="VarRef.create(",C=e(S,k("left")),P=","+n(y.name)+")"+(u?"":".get()"),M=A;else if("itsProperty"===T||"belongingItProperty"===T)_="VarRef.create(",C=h,P=","+n(y.name)+")"+(u?"":".get()"),I=M=A;else if("possessiveOperator"===T||"itsOperator"===T)y.type.includes("it")&&(C=h,I=A),_="VarRef.create(",N=",{computed:true,value:",P="})"+(u?"":".get()"),l=!1;else if("twineLink"===T)N='Macros.run("link-goto", [section,'+n(y.innerText)+","+n(y.passage)+"])",I=M=j;else if("macro"===T){var W=y.children[0],U="$"===W.text[0]||"_"===W.text[0];"macroName"===W.type||U||t("Compiler.compile","macro token had no macroName child token"),N="Macros.run"+(U?"Custom":"")+"("+(U?"VarRef.create("+("_"===W.text[0]?"section.stackTop.tempV":"State.v")+"ariables,"+n(W.text.trim().slice(1,-1))+").get()":'"'+y.name+'"')+", [section,"+e(y.children.slice(1),{isTypedVar:l})+"])",I=M=j}else if("grouping"===T)N="("+e(y.children,{isVarRef:u})+")",I=M=j;else if("error"===T)return"TwineError.create('syntax',"+n(y.message)+(y.explanation?", "+n(y.explanation):"")+")";return v>-1?(C=(C||e(S,{isVarRef:u,isTypedVar:l})).trim(),E=(E||e(x)).trim(),D&&!C&&(C=h),I===O&&!C||M===O&&!E?d&&M&&!E?"":"TwineError.create('operation','I need usable code to be "+(I===O?"left ":"")+(I===O&&M===O?"and ":"")+(M===O?"right ":"")+'of "'+y.text+"\"')":I===j&&C||M===j&&E?"TwineError.create('operation','There can't be code to the "+(I===j?"left ":"")+(I===j&&M===j?"or ":"")+(M===j?"right ":"")+'of "'+y.text+"\"')":_+C+N+E+P):1===r.length?(("value"in r[0]?r[0].value:r[0].text)+"").trim()||" ":r.reduce(function(t,n){return t+e(n,{isVarRef:u,isTypedVar:l})},"")}}),define("internaltypes/twineerror",["jquery","utils"],function(e,t){var n=t.impossible,r=t.escape;e(document.documentElement).on("click","tw-folddown",function(t){var n=t.target;for((n=e(n)).toggleClass("open");n&&!n.next().length;)n=n.parent();n&&n.next().toggle()});var a={syntax:"The markup seems to contain a mistake.",saving:"I tried to save or load the game, but I couldn't do it.",operation:"I tried to perform an operation on some data, but the data's type was incorrect.",macrocall:"I tried to use a macro, but its call wasn't written correctly.",datatype:"I tried to use a macro, but was given the wrong type of data to it.",custommacro:"I tried to use a custom macro, but its code hook had a mistake in it.",infinite:"I almost ended up doing the same thing over and over, forever.",property:"I tried to access a value in a string/array/datamap, but I couldn't find it.",unimplemented:"I currently don't have this particular feature. I'm sorry.",javascript:"This error message was reported by your browser's Javascript engine. I don't understand it either, but it usually means that an expression was badly written.",propagated:"Click the 'Open' button to see the code hook as it was executed.",user:"This is a custom error created by (error:). It usually means you used a custom macro incorrectly.",assertion:"This command exists to provide a helpful error if a certain important condition wasn't true."},i={error:[],warning:[]},o={create:function(e,t,r,i){return t&&"string"==typeof t||n("TwineError.create","has a bad message string"),r||e in a||n("TwineError.create","no error explanation given"),"user"!==e&&(t=t[0].toUpperCase()+t.slice(1)),Object.assign(Object.create(this),{type:e,message:t,explanation:r,source:void 0,innerDOM:i,appendTitleText:!1})},fromError:function(e){return o.create("javascript","\u2615 "+e.message)},containsError:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return e||(t instanceof Error?t:o.isPrototypeOf(t)?t:!!Array.isArray(t)&&o.containsError.apply(o,_toConsumableArray(t)))},!1)},createWarning:function(e,t){return Object.assign(this.create(e,t),{warning:!0})},render:function(n){var o=this;n=n||this.source||"";var s=e("<tw-error class='"+("javascript"===this.type?"javascript ":"")+(this.warning?"warning":"error")+"' title='"+r(n)+"'>"+r(this.message+(this.appendTitleText?" "+n:""))+"</tw-error>"),c=e("<tw-error-explanation>").text(this.explanation||a[this.type]).hide(),u=e("<tw-folddown tabindex=0>");return this.innerDOM&&e("<tw-open-button>").on("click",function(){var n=e("<tw-backdrop><tw-dialog></tw-backdrop>");n.find("tw-dialog").prepend(o.innerDOM,e("<tw-link tabindex=0>OK</tw-link>").on("click",function(){o.innerDOM.detach(),n.remove()}).wrap("<tw-dialog-links>").parent()),t.storyElement.prepend(n)}).appendTo(s),s.append(u).append(c),s.data("TwineError",this),i.error.forEach(function(e){return e(o,n)}),s},on:function(e,t){if(e in i)return"function"!=typeof t||i[e].includes(t)||i[e].push(t),o;n("TwineError.on","invalid event name")}};return o}),define("renderer",["utils","markup","twinescript/compiler","internaltypes/twineerror"],function(e,t,n,r){var a=e.escape,i=e.impossible,o=e.insensitiveName,s=void 0;function c(e,t){return"<"+t+">"+e+"</"+t+">"}function u(e,t){var n=s.render(e.children);return n&&c(n,t)}var l,p,f="text-align: center; max-width:50%; ",d=RegExp(t.Patterns.macroFront+t.Patterns.macroName,"ig");return s={options:{debug:!1,blockerMacros:[],metadataMacros:[]},preprocess:function(e){var a=s.options.metadataMacros;if(!(e.match(d)||[]).some(function(e){return a.some(function(t){return o(e.slice(1,-1))===t})}))return{};var i=!1,c={};return t.lex(e).children.forEach(function e(t){if("macro"===t.type){if(a.some(function(e){return t.name===e})){if(r.isPrototypeOf(c[t.name]))return;if(i)return void(c[t.name]=r.create("syntax","The ("+t.name+":) macro can't appear after non-metadata macros."));if(c[t.name])return void(c[t.name]=r.create("syntax","There is more than one ("+t.name+":) macro."));c[t.name]={code:n(t),source:t.text}}else i=!0;t.children.forEach(function e(t){"macro"===t.type&&a.some(function(e){return t.name===e})?c[t.name]=r.create("syntax","The ("+t.name+":) macro can't be inside another macro."):t.children.forEach(e)})}else t.children.forEach(e)}),c},exec:(l=void 0,p=void 0,function(e){return"string"!=typeof e?(i("Renderer.exec","source was not a string, but "+(void 0===e?"undefined":_typeof(e))),""):e===l?p:(l=e,p=s.render(t.lex(e).children))}),render:function e(i){var l="",p=[];if(!i)return l;for(var d=i.length,h=0;h<d;h+=1){var y=i[h];switch(y.type){case"error":l+=r.create("syntax",y.message,y.explanation).render(a(y.text))[0].outerHTML;break;case"numbered":case"bulleted":var m="numbered"===y.type?"ol":"ul";l+="<"+m+">";for(var g=1;h<d&&i[h];){if("br"===i[h].type){if(l+="</li>",!i[h+1]||i[h+1].type!==y.type)break}else i[h].type===y.type?(l+=("<"+m+">").repeat(Math.max(0,i[h].depth-g)),l+=("</"+m+">").repeat(Math.max(0,g-i[h].depth)),l+="<li>",g=i[h].depth):l+=e([i[h]]);h+=1}l+=("</"+m+">").repeat(g+1);break;case"align":for(;y&&"align"===y.type;){var v=y.align,b=h+=1;if("left"===v){h-=1;break}for(;h<d&&i[h]&&"align"!==i[h].type;)h+=1;var w=e(i.slice(b,h)),T="";switch(v){case"center":T+=f+"margin-left: auto; margin-right: auto;";break;case"justify":case"right":T+="text-align: "+v+";";break;default:+v&&(T+=f+"margin-left: "+v+"%;")}l+="<tw-align "+(T?'style="'+T+'"':"")+">"+w+"</tw-align>\n",y=i[h]}break;case"column":for(var S=[];y&&"column"===y.type;){var x=y.column,k=h+=1;if("none"===x){h-=1;break}for(;h<d&&i[h]&&"column"!==i[h].type;)h+=1;S.push({text:y.text,type:x,body:e(i.slice(k,h)),width:y.width,marginLeft:y.marginLeft,marginRight:y.marginRight}),y=i[h]}S.length&&function(){var e=S.reduce(function(e,t){return e+t.width},0);l+="<tw-columns>"+S.map(function(t){return"<tw-column type="+t.type+'  style="width:'+t.width/e*100+"%; margin-left: "+t.marginLeft+"em; margin-right: "+t.marginRight+'em;">'+t.body+"</tw-column>\n"}).join("")+"</tw-columns>"}();break;case"heading":for(l+="<h"+y.depth+">";++h<d&&i[h];){if("br"===i[h].type){l+="</h"+y.depth+">";break}l+=e([i[h]])}break;case"br":if(!p.length||/td|th/.test(p[0])){l+="<br>";for(var O=i[h+1];O&&("br"===O.type||"tag"===O.type&&/^<br\b/i.test(O.text));)l+="<tw-consecutive-br"+("tag"===O.type?" data-raw":"")+"></tw-consecutive-br>",O=i[(h+=1)+1]}break;case"hr":l+="<hr>";break;case"escapedLine":case"comment":break;case"inlineUrl":l+='<a class="link" href="'+a(y.text)+'">'+y.text+"</a>";break;case"scriptStyleTag":case"tag":var j=y.text.toLowerCase();/^<\/?(?:table|thead|tbody|tr|tfoot|td|th)\b/.test(j)&&p[y.text.startsWith("</")?"shift":"unshift"](j),l+=y.text.startsWith("</")?y.text:y.text.replace(/>$/," data-raw>");break;case"sub":case"sup":case"strong":case"em":l+=u(y,y.type);break;case"strike":l+=u(y,"s");break;case"bold":l+=u(y,"b");break;case"italic":l+=u(y,"i");break;case"twineLink":var A=_slicedToArray(t.lex("(link-goto:"+JSON.stringify(y.innerText)+","+JSON.stringify(y.passage)+")").children,1)[0];l+='<tw-expression type="macro" name="link-goto"'+(s.options.debug?' title="'+a(y.text)+'"':"")+' js="'+a(n(A))+'"></tw-expression>';break;case"hook":l+="<tw-hook "+(y.hidden?"hidden ":"")+(y.name?'name="'+o(y.name)+'"':"")+(s.options.debug&&y.name?' title="Hook: ?'+y.name+'"':"")+' source="'+a(y.innerText)+'"></tw-hook>';break;case"unclosedHook":return l+="<tw-hook "+(y.hidden?"hidden ":"")+(y.name?'name="'+o(y.name)+'"':"")+'source="'+a(i.slice(h+1,d).map(function(e){return e.text}).join(""))+'"></tw-hook>';case"verbatim":l+=c(a(y.innerText).replace(/\n/g,"<br>"),"tw-verbatim");break;case"collapsed":l+=u(y,"tw-collapsed");break;case"unclosedCollapsed":return l+="<tw-collapsed>"+e(i.slice(h+1,d))+"</tw-collapsed>";case"variable":case"tempVariable":case"macro":var C=function(){var t=[],i=[];if("macro"===y.type&&function n(r){"string"!==r.type&&"hook"!==r.type&&r.children.every(n);var a=r.firstChild();if("macro"===r.type&&a&&"macroName"===a.type&&s.options.blockerMacros.includes(o(a.text.slice(0,-1))))t.push(r);else if("hook"===r.type){if(!r.everyLeaf(function(e){return"error"!==e.type||(i.push(e),!1)}))return!1;r.html=e(r.children)}return!0}(y),i.length)return{v:r.create("syntax","This code hook's markup contained "+i.length+" error"+(i.length?"s":"")+":<br>\u2014"+i.map(function(e){return e.message}).join("<br>\u2014")).render(a(y.text))[0].outerHTML};var c=t.length&&t.map(function(e){var t=n(e);return e.type="blockedValue",t});l+='<tw-expression type="'+y.type+'" name="'+a(y.name||y.text)+'"'+(s.options.debug?' title="'+a(y.text)+'"':"")+(t.length?' blockers="'+a(JSON.stringify(c))+'"':"")+' js="'+a(n(y))+'"></tw-expression>',t.forEach(function(e){return e.type="macro"})}();if("object"===(void 0===C?"undefined":_typeof(C)))return C.v;break;default:l+=y.children&&y.children.length?e(y.children):y.text}}return l}},Object.freeze(s)}),define("passages",["jquery","utils/naturalsort","utils","markup","renderer","internaltypes/twineerror"],function(e,t,n,r,a,i){var o=n.unescape,s=n.onStartup,c=Object.assign;function u(e){var t=o(e.html()),n=a.preprocess(t);return c(new Map([["source",t],["tags",(e.attr("tags")||"").split(/\s/)||[]],["name",e.attr("name")]]),{TwineScript_TypeName:"a passage datamap",TwineScript_ObjectName:"a passage datamap",metadata:n})}var l=c(new Map,{TwineScript_ObjectName:"the Passages datamap",getTagged:function(e){var n=t("en",function(e){return e.get("name")}),r=[];return this.forEach(function(t){var n=t instanceof Map&&t.get("tags");Array.isArray(n)&&n.includes(e)&&r.push(t)}),r.sort(n)},getStorylets:function(e,n){var r=n?n.filter(e,[].concat(_toConsumableArray(l.values()))):[].concat(_toConsumableArray(l.values()));if(i.containsError(r))return r;var a=[],o=-1/0,s=r.reduce(function(t,n){if(t)return t;var r=n.get("storylet");if(r){var s=e.speculate(r,n.get("name"),"a (storylet:) macro");if(i.containsError(s))return s.message="There's an error in the storylet passage \""+n.get("name")+'":\n'+s.message,s.source=r.TwineScript_ToSource(),s;if(s){var c=n.get("exclusivity");o=Math.max(o,"number"==typeof c?c:0),a.push(n)}}},void 0);if(s)return s;var c=t("en");return a.filter(function(e){var t=e.get("exclusivity");return(t="number"==typeof t?t:0)===o}).sort(function(e,t){var n=e.get("urgency"),r=t.get("urgency");return(n="number"==typeof n?n:0)!==(r="number"==typeof r?r:0)?r-n:c(e.get("name"),t.get("name"))})},allStorylets:function(){return[].concat(_toConsumableArray(l.values())).filter(function(e){return e.get("storylet")})},loadMetadata:function(e){var t=[];return l.forEach(function(n){n.metadata&&Object.keys(n.metadata).forEach(function(r){if(i.containsError(n.metadata[r]))t.push(n.metadata[r]);else{var a=n.metadata[r],o=a.code,s=a.source,c=e.speculate(o,n.get("name"),"a ("+r+":) macro"),u='In "'+n.get("name")+'":\n';if(i.containsError(c))return c.message=u+c.message,c.source=s,void t.push(c);c instanceof Map?c.forEach(function(e,t){return l(t,e)}):l(r,c)}function l(e,r){n.has(e)?t.push(i.create("syntax","This passage's datamap already has a '"+JSON.stringify(e)+"' data name.")):n.set(e,r)}}),n.metadata=void 0}),t},hasValid:function(e){var t=this.get(e);return t&&t instanceof Map&&t.has("source")},create:u});return s(function(){Array.from(e("tw-storydata > tw-passagedata")).forEach(function(t){t=e(t),l.set(t.attr("name"),new u(t))})}),l}),define("utils/operationutils",["utils/naturalsort","utils","internaltypes/twineerror","patterns"],function(e,t,n,r){var a=t.impossible,i=t.nth,o=t.insensitiveName,s=t.permutations,c=r.validPropertyName,u="object",l="boolean",p="string",f="number",d="function";function h(e){return!!e&&((void 0===e?"undefined":_typeof(e))===u||(void 0===e?"undefined":_typeof(e))===d)}function y(e){return e&&Object.getPrototypeOf(e)===Object.prototype}function m(e){return Array.isArray(e)?"array":e instanceof Map?"datamap":e instanceof Set?"dataset":(void 0===e?"undefined":_typeof(e))===p?p:e&&(void 0===e?"undefined":_typeof(e))===u?u:""}function g(e){if(!h(e))return e;if(_typeof(e.TwineScript_Clone)===d)return e.TwineScript_Clone();if(Array.isArray(e))return[].concat(_toConsumableArray(e));if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if((void 0===e?"undefined":_typeof(e))===d)return Object.assign(e.bind(),e);switch(Object.getPrototypeOf(e)){case Object.prototype:return Object.assign({},e);case null:return Object.assign(Object.create(null),e)}return a("OperationUtils.clone","The value "+e+" cannot be cloned!"),e}function v(e){return h(e)&&"TwineScript_ObjectName"in e?e.TwineScript_ObjectName:Array.isArray(e)?"an array":e instanceof Map?"a datamap":e instanceof Set?"a dataset":(void 0===e?"undefined":_typeof(e))===l?"the boolean value '"+e+"'":(void 0===e?"undefined":_typeof(e))===p||(void 0===e?"undefined":_typeof(e))===f?"the "+(void 0===e?"undefined":_typeof(e))+" "+JSON.stringify(e):void 0===e?"an empty variable":"...whatever this is"}function b(e,t){return(void 0===e?"undefined":_typeof(e))!==u&&(void 0===t?"undefined":_typeof(t))!==u?e===t:Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every(function(e,n){return b(t[n],e)}):e instanceof Map&&t instanceof Map?b(Array.from(e.entries()).sort(),Array.from(t.entries()).sort()):e instanceof Set&&t instanceof Set?b([].concat(_toConsumableArray(e)),[].concat(_toConsumableArray(t))):e&&_typeof(e.TwineScript_is)===d?e.TwineScript_is(t):e&&(void 0===e?"undefined":_typeof(e))===u&&t&&(void 0===t?"undefined":_typeof(t))===u&&y(e)&&y(t)?b(Object.getOwnPropertyNames(e).map(function(t){return[t,e[t]]}),Object.getOwnPropertyNames(t).map(function(e){return[e,t[e]]})):Object.is(e,t)}return Object.freeze({isObject:h,isPureObject:y,singleTypeCheck:function e(t,n){if(null===n)return void 0===t;var r=void 0===t?"undefined":_typeof(t);if((void 0===n?"undefined":_typeof(n))!==d&&n.pattern){if("optional"===n.pattern||"zero or more"===n.pattern)return void 0===t||e(t,n.innerType);if("either"===n.pattern)return n.innerType.some(function(n){return e(t,n)});if("lambda"===n.pattern&&e(t,n.innerType))return n.clauses.includes("where")==="where"in t&&n.clauses.includes("making")==="making"in t&&n.clauses.includes("via")==="via"in t&&n.clauses.includes("with")==="with"in t;if("insensitive set"===n.pattern)return n.innerType.includes(o(t));if("range"===n.pattern)return n.range(t);if("wrapped"===n.pattern)return e(t,n.innerType)}return(void 0===n||void 0!==t)&&("anything"===n.TwineScript_TypeName&&void 0!==t&&!t.TwineScript_Unstorable||"everything"===n.TwineScript_TypeName&&void 0!==t||(n===String?r===p:n===Boolean?r===l:n===parseInt?r===f&&!Number.isNaN(t)&&!(t+"").includes("."):n===Number?r===f&&!Number.isNaN(t):n===Array?Array.isArray(t):n===Map||n===Set?t instanceof n:Object.isPrototypeOf.call(n,t)))},isValidDatamapName:function(e,t){if(e instanceof Map||a("isValidDatamapName","called with non-Map"),n.containsError(t))return t;if((void 0===t?"undefined":_typeof(t))!==p&&(void 0===t?"undefined":_typeof(t))!==f)return n.create("property","Only strings and numbers can be used as data names for "+v(e)+", not "+v(t)+".");var r=(void 0===t?"undefined":_typeof(t))===p?+t:""+t;return!(!Number.isNaN(r)&&e.has(r))||n.create("property","You mustn't use both "+v(t)+" and "+v(r)+" as data names in the same datamap.")},collectionType:m,isSequential:function(e){return(void 0===e?"undefined":_typeof(e))===p||Array.isArray(e)||_typeof(e.hooks)===d},unstorableValue:function e(t){return t&&t.TwineScript_Unstorable&&t||Array.isArray(t)&&t.find(e)||t instanceof Map&&[].concat(_toConsumableArray(t.values())).find(e)||t instanceof Set&&[].concat(_toConsumableArray(t)).find(e)},clone:g,objectName:v,typeName:function e(t){var n=y(t);if(n&&t.innerType)return t.typeName?t.typeName:"insensitive set"===t.pattern?"a case-insensitive string name":"either"===t.pattern?(Array.isArray(t.innerType)||a("typeName",'"either" pattern had non-array inner type'),t.innerType.map(e).join(" or ")):"optional"===t.pattern?"(optional) "+e(t.innerType):e(t.innerType);if(n&&t.pattern&&"range"===t.pattern){if(t.name)return t.name;var r=t.min,i=t.max;return"a"+(r>0?" positive":"")+(t.integer?" whole":"")+" number"+(0===r?" between 0 and "+i:i<1/0?" up to "+i:"")}return t===String||t===Number||t===Boolean?"a "+_typeof(t()):t===parseInt?"a whole number":t===Map?"a datamap":t===Set?"a dataset":t===Array?"an array":h(t)&&"TwineScript_TypeName"in t?t.TwineScript_TypeName:v(t)},typeID:function(e){var t=void 0===e?"undefined":_typeof(e);return[l,p,f].includes(t)?t:Array.isArray(e)?"array":e instanceof Map?"datamap":e instanceof Set?"dataset":e.TwineScript_TypeID||""},toSource:function t(r,o){var s=n.containsError(r);return s&&a("toSource","received a TwineError: "+s.message),_typeof(r.TwineScript_ToSource)===d?r.TwineScript_ToSource():y(r)&&"first"in r&&"last"in r?(r.first<0?(-1!==r.first?i(-r.first):"")+"last":i(r.first+1))+"to"+(r.last<0?(-1!==r.last?i(-r.last):"")+"last":i(r.last+1)):Array.isArray(r)?"(a:"+("property"===o?r.map(function(e){return e+(e>0)}):r).map(t)+")":r instanceof Map?"(dm:"+Array.from(r.entries()).sort(function(t,n){return[t[0],n[0]].sort(e("en"))[0]===t[0]?-1:1}).map(function(e){return e.map(t)})+")":r instanceof Set?"(ds:"+Array.from(r).sort(e("en")).map(t)+")":(void 0===r?"undefined":_typeof(r))===f&&"property"===o?r<0?-1===r?"last":i(-r)+"last":i(r+1):(void 0===r?"undefined":_typeof(r))===p&&"property"===o?RegExp(c).test(r)?r:"("+JSON.stringify(r)+")":JSON.stringify(r)},is:b,contains:function(e,t){if(e||""===e){if((void 0===e?"undefined":_typeof(e))===p)return(void 0===t?"undefined":_typeof(t))!==p?n.create("operation",v(e)+" can only contain strings, not "+v(t)+"."):e.includes(t);if(Array.isArray(e))return e.some(function(e){return b(e,t)});if(e instanceof Set||e instanceof Map)return Array.from(e.keys()).some(function(e){return b(e,t)})}return n.create("operation",v(e)+" cannot contain any values, let alone "+v(t))},isA:function(e,t){return _typeof(t.TwineScript_IsTypeOf)===d?t.TwineScript_IsTypeOf(e):n.create("operation",'"is a" should only be used to compare type names, not '+v(t)+".")},matches:function e(t,r){var a=!1;if(t&&_typeof(t.TwineScript_IsTypeOf)===d){var i=t.TwineScript_IsTypeOf(r);if(n.containsError(i))return i;a|=i}if(r&&_typeof(r.TwineScript_IsTypeOf)===d){var o=r.TwineScript_IsTypeOf(t);if(n.containsError(o))return o;a|=o}if(a)return!0;if(Array.isArray(t)&&Array.isArray(r)){for(var c=0,u=0,l=!0;l&&c<t.length&&u<r.length;){var p=t[c],f=r[u];if(p.rest){for(;u<r.length&&e(p,f);)f=r[u+=1];c+=1}else if(f.rest){for(;c<t.length&&e(p,f);)p=t[c+=1];u+=1}else e(p,f)?(c+=1,u+=1):l=!1}return l&&c>=t.length&&u>=r.length}return t instanceof Map&&r instanceof Map?e(Array.from(t.entries()).sort(),Array.from(r.entries()).sort()):t instanceof Set&&r instanceof Set?(t=[].concat(_toConsumableArray(t)),s.apply(void 0,_toConsumableArray(r)).some(function(n){return e(t,n)})):b(t,r)},subset:function e(t,r,a){if(!r||!a)return n.create("macrocall","The sub"+m(t)+" index value must not be "+(r&&a)+".");var i=(void 0===t?"undefined":_typeof(t))===p;if(i&&(t=Array.from(t)),r<0&&(r=Math.max(0,t.length+r+1)),a<0&&(a=Math.max(0,t.length+a+1)),r>a)return e(arguments[0],a,r);var o=t.slice(r>0?r-1:r,a).map(g);return i?o.join(""):o},range:function e(t,n){if(t>n)return e(n,t);var r=[t];for(n-=t;n-- >0;)r.push(++t);return r},printBuiltinValue:function e(t){return n.containsError(t)?t:t&&_typeof(t.TwineScript_Print)===d?t.TwineScript_Print():t instanceof Map?(t=Array.from(t.entries()),n.containsError(t)?t:t.reduce(function(t,n){var r=_slicedToArray(n,2),a=r[0],i=r[1];return t+"<tr><td>`"+e(a)+"`</td><td>`"+e(i)+"`</td></tr>"},"<table class=datamap>")+"</table>"):t instanceof Set?Array.from(t.values()).map(e)+"":Array.isArray(t)?t.map(e)+"":t&&_typeof(t.jquery)===p?t:h(t)?n.create("unimplemented","I don't know how to print this value yet."):t+""},unique:function(e,t,n){return!n.slice(t+1).some(function(t){return b(e,t)})}})}),define("utils/renderutils",["jquery","utils","renderer"],function(e,t,n){var r=RegExp(t.realWhitespace+"+"),a=RegExp(t.realWhitespace+"+","g");function i(e,t,n){var r=e.textContent.length;if(!(t>=r)){var a=void 0,i=[a=0===t?e:e.splitText(t)];return n&&(n<=0&&(n=r-n),n<r&&i.push(a.splitText(n-t))),i}}var o,s=(o=void 0,function(){if(void 0!==o)return o;var t=e("<p>");return t[0].normalize?(t.append(document.createTextNode("0-"),document.createTextNode("2"),document.createTextNode(""))[0].normalize(),o=1===t.contents().length):o=!1});var c="tw-collapsed,[collapsing=true]";var u=/^(=*)([^=]+)=*$/;return Object.freeze({dialog:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r.section,i=r.parent,o=void 0===i?t.storyElement:i,s=r.cd,c=r.message,u=void 0===c?"":c,l=r.defaultValue,p=r.buttons,f=void 0===p?[{name:"OK",confirm:!0,callback:Object}]:p,d=e("<tw-backdrop><tw-dialog>"+(l||""===l?"<input type=text style='display:block;margin:0 auto'></input>\n":"")+"<tw-dialog-links>"+(f.length?f.reduce(function(e,t,n){var r=t.name;return e+"<tw-link style='margin:0 "+(n===f.length-1?"0 0 0.5em":0===n?"0.5em 0 0":"0.5em")+"' tabindex=0>"+r+"</tw-link>"},""):"<tw-link tabindex=0>"+f[0].name+"</tw-link>")+"</tw-dialog-links></tw-dialog></tw-backdrop>"),h=d.find("tw-dialog");if(o.append(d),a){a.renderInto(u,h,Object.assign({},s,{append:"prepend"}));var y=s&&s.transition&&d.find("tw-dialog > tw-transition-container");y&&y.length&&y.appendTo(d).append(h.prepend(y.contents().detach()))}else h.prepend(n.exec(u));if(l){var m=d.find("input").last();m.val(l).on("keypress",function(e){13===e.which&&(d.remove(),f.filter(function(e){return e.confirm}).forEach(function(e){return e.callback()}))}),setTimeout(function(){return m.focus()},100)}return f.reverse().forEach(function(t,n){e(d.find("tw-link").get(-n-1)).on("click",function(){d.remove(),t.callback()})}),d},realWhitespace:r,textNodeToChars:function(e){var t=[].concat(_toConsumableArray(e.textContent));return 1===t.length?[e]:t.reduce(function(e,t){return t.match(r)&&e.length&&e[e.length-1].match(r)?e[e.length-1]+=t:e.push(t),e},[]).reduce(function(t,n){var r=e;return n.length<e.textContent.length&&(e=e.splitText(n.length)),t.concat(r)},[])},findTextInNodes:function e(t,n){var r=[],a="",o=[];if(!t.length||!n)return o;for(;t.length>0;){r.push(t[0]),a+=t[0].textContent,t.shift();var s=a.indexOf(n);if(s>-1){for(var c,u=a.length-(s+n.length);s>=r[0].textContent.length;)s-=r[0].textContent.length,r.shift();if(1===r.length){var l=i(r[0],s,s+n.length);o.push(l[0]),l[1]&&t.unshift(l[1]);break}o.push(i(r[0],s,r[0].length)[0]),(c=o).push.apply(c,_toConsumableArray(r.slice(1,-1)));var p=i(r[r.length-1],0,r[r.length-1].textContent.length-u);o.push(p[0]),p[1]&&t.unshift(p[1]),o=o.filter(Boolean);break}}return[o].concat(_toConsumableArray(e(t,n)))},collapse:function(t){function n(t){return 0===e(this||t).parentsUntil(c).filter("tw-verbatim, tw-expression, [collapsing=false]").length}var r=function e(t){var n=t[0],r=t.parent();if(!r.length||t.findAndFilter("tw-story").length)return null;var a=r.textNodes().filter(function(e){var t=e.compareDocumentPosition(n);return 4&t&&!(8&t)});return(a=a[a.length-1])||e(r)}(t);e(r).parents(c).length||(r=null);var i=function e(t){var n=t[0],r=t.parent();if(!r.length||t.findAndFilter("tw-story").length)return null;var a=r.textNodes().filter(function(e){var t=e.compareDocumentPosition(n);return 2&t&&!(8&t)})[0];return a||e(r)}(t);e(i).parents(c).length||(i=null);var o="br:not([data-raw]),tw-consecutive-br:not([data-raw])";t.find(o).filter(n).replaceWith(document.createTextNode(" "));var u=(t=e(t.get().map(function(t){return e(t).filter(n).is(o)?e(document.createTextNode(" ")).replaceAll(t)[0]:t}))).textNodes(),l=0;u.reduce(function(e,t){return n(t)?(t.textContent=t.textContent.replace(a," ")," "!==t.textContent[0]||e&&e.textContent&&!(e.textContent.search(/\s$/)>-1)||(t.textContent=t.textContent.slice(1)),t):document.createTextNode("A")},r),[].concat(_toConsumableArray(u)).reverse().every(function(e){return!!n(e)&&(e.textContent.match(/^\s*$/)?(l+=e.textContent.length,e.textContent="",!0):(e.textContent=e.textContent.replace(/\s+$/,function(e){return l+=e.length,""}),!1))}),l>0&&i&&(u[u.length-1].textContent+=" "),t[0]&&s()&&t[0].normalize()},geomStringRegExp:u,geomParse:function(e){var t=e.length,n=u.exec(e)||[],r=_slicedToArray(n,3),a=r[0],i=r[1],o=r[2];return a?{marginLeft:i.length/t*100,size:o.length/t*100}:{marginLeft:0,size:0}}})}),define("datatypes/hookset",["jquery","utils","utils/renderutils","utils/operationutils"],function(e,t,n,r){var a=n.textNodeToChars,i=n.realWhitespace,o=n.findTextInNodes,s=r.toSource;function c(n){var r=n.dom,s=e();this.next&&(s=s.add(c.call(this.next,n)));var u=function(t,n){if(Array.isArray(n))return n.reduce(function(e,n){return e.add(t.get(n))},e());if(n&&"object"===(void 0===n?"undefined":_typeof(n))&&"first"in n&&"last"in n){var r=n.first,o=n.last,s=t.length;r<0&&(r+=s),o<0&&(o+=s);for(var c=[t.get(r)];r!==o;)r+=Math.sign(o-r),c.push(t.get(r));return e(c)}if("string"==typeof n){if("chars"===n){var u=[],l=!0,p=!1,f=void 0;try{for(var d,h=t.textNodes(":not(tw-error, tw-error *)")[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var y=d.value,m=!0,g=!1,v=void 0;try{for(var b,w=a(y)[Symbol.iterator]();!(m=(b=w.next()).done);m=!0){var T=b.value;T.textContent.match(i)||u.push(T)}}catch(e){g=!0,v=e}finally{try{!m&&w.return&&w.return()}finally{if(g)throw v}}}}catch(e){p=!0,f=e}finally{try{!l&&h.return&&h.return()}finally{if(p)throw f}}return e(u)}if("links"===n)return t.findAndFilter("tw-link, .enchantment-link");if("visited"===n)return t.findAndFilter("tw-link.visited");if("lines"===n){var S=t.findAndFilter("br:not(tw-sidebar *),tw-consecutive-br:not(tw-sidebar *)").get(),x=[[]];return t.textNodes(":not(tw-error, tw-error *):not(tw-sidebar, tw-sidebar *)").forEach(function(e){S.length&&2&e.compareDocumentPosition(S[0])&&(S.shift(),x.push([])),x[x.length-1]=x[x.length-1].concat(e)}),x=x.map(function(t){return t.map(function(n){for(var r=n.parentNode;e(r).textNodes().every(function(e){return t.includes(e)})&&!t.every(function(t){return e(r).has(t).length});){r=(n=r).parentNode}return n})}),e(x.map(function(t){return e(t).wrapAll("<tw-pseudo-hook>").parent()[0]}))}}return e(t.get(n))};if(this.selector){var l=void 0;if("string"===this.selector.type)l=function(t,n){var r=o(n.textNodes(),t),a=e();return r.forEach(function(t){a=a.add(e(t).wrapAll("<tw-pseudo-hook>").parent())}),a}(this.selector.data,r);else{if("base"===this.selector.type)return s.add(u(c.call(this.selector.data,n),this.property));var p=function(e){var n='tw-hook[name="'+(e=t.insensitiveName(e).replace(/"/g,"&quot;"))+'"],tw-enchantment[name="'+e+'"]';return n+={page:", tw-story",passage:", tw-passage",sidebar:", tw-sidebar",link:", tw-link, .enchantment-link"}[e]||""}(this.selector.data);l=r.findAndFilter(p).add(r.parentsUntil(t.storyElement.parent())).filter(p)}s=this.property?s.add(u(l,this.property)):s.add(l)}return s}function u(e){if(!e)return[];var n=e.selector,r=e.property,a=e.next;return[JSON.stringify(["base"===n.type?u(n.data):t.insensitiveName(n.data),r])].concat(_toConsumableArray(u(a))).sort()}var l=Object.freeze({forEach:function(t,n){var r=c.call(this,t).each(function(t){n(e(this),t)});return t.dom.findAndFilter("tw-pseudo-hook").contents().unwrap(),r},hooks:function(e){return c.call(this,e)},get TwineScript_ObjectName(){return this.property||this.next?"a complex hook name":"?"+this.selector.data+" (a hook name)"},TwineScript_TypeID:"hookName",TwineScript_TypeName:"a hook name (like ?this)",TwineScript_Unstorable:!0,TwineScript_ToSource:function(){var e="",n=this.selector,r=n.type,a=n.data;return"name"===r?a.match(RegExp("^"+t.anyRealLetter+"+$"))?e+="?"+a:e+="(hooks-named:"+JSON.stringify(a)+")":"string"===r?e+=JSON.stringify(a):"base"===r&&(e+=a.TwineScript_ToSource()+"'s "+s(this.property,"property")),this.next&&(e+=" + "+this.next.TwineScript_ToSource()),e},"TwineScript_+":function(e){for(var t=this.TwineScript_Clone(),n=t;n.next;)n=n.next;return n.next=e,t},TwineScript_is:function(e){return u(this)+""==u(e)+""},TwineScript_GetProperty:function(e){return l.create({type:"base",data:this},e,void 0)},TwineScript_Properties:["chars","links","lines","visited"],TwineScript_Clone:function(){return l.create(this.selector,this.property,this.next)},create:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return Object.assign(Object.create(this||l),{selector:Object.freeze(e),property:t,next:n})},from:function(e){return l.isPrototypeOf(e)||"string"==typeof e||t.impossible("HookSet.from() was given a non-HookSet non-string."),l.isPrototypeOf(e)?e:l.create({type:"string",data:e})}});return l}),define("internaltypes/changedescriptor",["jquery","utils","renderer","datatypes/hookset"],function(e,t,n,r){var a=t.assertOnlyHas,i=t.impossible,o=t.transitionIn,s=n.exec,c=Object.assign,u=Object.keys,l=Object.create,p=Object.seal,f=function(e){return e.split(/\n/g).reduce(function(e,t,n,r){var a=r.length;return e.concat(document.createTextNode(t),n!==a-1&&document.createElement(t.length?"br":"tw-consecutive-br"))},[])},d=void 0,h={source:"",appendSource:null,enabled:!0,enablers:null,verbatim:!1,target:null,append:"",newTargets:null,transition:"",transitionTime:null,transitionDeferred:!1,transitionDelay:0,transitionSkip:0,transitionOrigin:null,loopVars:null,styles:null,attr:null,data:null,innerEnchantments:null,section:null,timestamp:0,summary:function(){var e=this;return["source","appendSource","enabled","verbatim","target","append","newTargets","transition","transitionTime","transitionDeferred","transitionDelay","transitionSkip","transitionOrigin","innerEnchantments","enablers"].filter(function(t){return e.hasOwnProperty(t)}).concat([this.attr.length&&"attr",this.styles.length&&"styles",u(this.loopVars).length&&"loopVars",u(this.data).length&&"data"].filter(Boolean))},create:function(e,t){var n=c(l(this),{attr:[].concat(this.attr||[]),styles:[].concat(this.styles||[]),loopVars:this.loopVars||{},data:this.data||{}},e);return t&&t.run(n),n},update:function(){var e=this,t=this.section,n=this.newTargets,a=this.transition,i=this.transitionDeferred,s=this.append,c=this.target;"function"==typeof c&&(c=c());var l=function(t){if(Array.isArray(e.styles)&&e.styles.length>0){var n=e.styles.reduce(function(e,t){return u(t).forEach(function(n){var r=t[n];e[+("function"==typeof r)].push(_defineProperty({},n,r))}),e},[[],[]]),r=_slicedToArray(n,2),a=r[0],i=r[1];a.forEach(function(e){return t.css(e)}),setTimeout(function(){i.forEach(function(e){return t.css(e)})})}e.attr&&e.attr.forEach(function(e){return t.attr(e)}),e.data&&t.data(e.data)};if(Array.isArray(n)&&n.length&&(c=n.map(function(e){return e.target})),[].concat(c).forEach(function(e){r.isPrototypeOf(e)?e.forEach(t,l):l(e)}),a&&!i&&!s){var p=c,f=void 0;do{!(f=p.data("timestamp"))&&(p=p.parent())}while(!f&&p.length);o(c,a,this.transitionTime,this.transitionDelay,this.transitionSkip,f?Date.now()-f:0,this.transitionOrigin)}},render:function(){var t=this,n=this.source,u=this.transition,l=this.transitionTime,p=this.transitionDeferred,y=this.enabled,m=this.enablers,g=this.data,v=this.section,b=this.newTargets,w=this.innerEnchantments,T=this.appendSource,S=this.target,x=this.target,k=this.append;if("function"==typeof S&&(S=S()),a(this,d),!k)return i("ChangeDescriptor.render","This doesn't have an 'append' method chosen."),e();if(m&&m.length){var O=m[0],j=O.descriptor,A=O.changer,C=j.render();if(A){var E=h.create({section:v,target:C});A.run(E),E.update()}return C}if(!y||void 0!==S.attr("hidden"))return h.create({target:S,attr:this.attr.filter(function(e){return!("style"in e)}),data:c({},g,{originalSource:n,hidden:!0})}).update(),e();if(Array.isArray(b)&&b.length&&(S=b),!S)return i("ChangeDescriptor.render","ChangeDescriptor has source but not a target!"),e();var _=e();if([].concat(S).filter(function(e){return!e.jquery}).map(function(e){var t=k,n=void 0;if(e.target&&e.append){var r=e;t=r.append,n=r.before,e=e.target}return{elements:e.hooks(v,x).filter(function(){return!(n&&1&this.compareDocumentPosition(document)&&2&this.compareDocumentPosition(x[0]))}),append:t}},[]).forEach(function(n){var r=n.elements,a=n.append;r.each(function(n,r){r=e(r),_=_.add(t.create({target:r,append:a,newTargets:null}).render()),r.filter("tw-pseudo-hook").contents().unwrap()})}),_.length||Array.isArray(S)||r.isPrototypeOf(S))return _;if(!(k in S)){if("replace"!==k)return i("ChangeDescriptor.render","The target doesn't have a '"+k+"' method."),e();S[0]instanceof Text?k="replaceWith":(S.empty(),k="append")}return S[0]instanceof Text&&("append"===k&&(k="after"),"prepend"===k&&(k="before")),_=e(n&&(this.verbatim?f(n):e.parseHTML(s(n),document,!0))),Array.isArray(T)&&T.forEach(function(n){var r=n.source,a=n.append,i=e(t.verbatim?f(r):e.parseHTML(s(r),document,!0));_="append"===a?_.add(i):"prepend"===a?i.add(_):i}),S[k](_.length?_:void 0),S.data("timestamp",Date.now()),this.update(),u&&!p&&o("replace"===k?S:_,u,l,this.transitionDelay,this.transitionSkip,this.expedite,this.transitionOrigin),w&&w.map(function(e){return e(S)}).forEach(function(e){return v.addEnchantment(e)}),_}};return d=u(h),p(h)}),define("datatypes/changercommand",["utils","utils/operationutils","internaltypes/changedescriptor","internaltypes/twineerror"],function(e,t,n,r){var a=e.impossible,i=t.is,o=t.toSource,s={},c={TwineScript_TypeID:"changer",TwineScript_TypeName:"a changer",TwineScript_Print:function(){return"`[A ("+this.macroName+":) changer]`"},TwineScript_ToSource:function(){return"("+this.macroName+":"+("else"===this.name?"":this.params.map(o))+")"+(this.next?"+"+this.next.TwineScript_ToSource():"")},summary:function(){var e=n.create();return this.run(e),e.summary()},create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Array.isArray(t)||a("ChangerCommand.create","params was not an array but "+t),Object.assign(Object.create(this),{macroName:e,params:t,next:n,TwineScript_ObjectName:"a ("+e+":) changer"})},"TwineScript_+":function(e){for(var t=this.TwineScript_Clone(),n=t;n.next;)n=n.next;return n.next=e,t},TwineScript_is:function(e){if(c.isPrototypeOf(e))return this.macroName===e.macroName&&i(this.params,e.params)&&i(this.next,e.next)},TwineScript_Clone:function(){for(var e=this.create(this.macroName,this.params,this.next),t=e;t.next;)t=t.next=t.next.TwineScript_Clone();return e},run:function(e){var t=s[this.macroName].apply(s,[e].concat(_toConsumableArray(this.params)));if(r.containsError(t))return t;this.next&&this.next.run(e)},register:function(e,t){s[e]=t}};return Object.freeze(c)}),define("state",["utils","passages","datatypes/changercommand","internaltypes/twineerror","utils/operationutils","markup","twinescript/compiler"],function(e,t,n,r,a,i,o){var s=e.impossible,c=a.objectName,u=a.toSource,l=i.lex,p=Object.assign,f=Object.create,d=["localStorage","sessionStorage"].map(function(e){try{return!!window[e]&&(window[e].setItem("test","1"),window[e].removeItem("test"),!0)}catch(e){return!1}}),h=p(f(null),{TwineScript_ObjectName:"this story's variables",TwineScript_TypeDefs:f(null),TwineScript_VariableStore:!0,TwineScript_MockVisits:null}),y={passage:"",variables:h,create:function(e,t){var n=f(y);return n.passage=e||"",n.variables=p(f(this.variables),t),n}},m=[],g=-1,v=y.create(),b=void 0,w={forward:[],back:[],load:[]},T=void 0;function S(e){v=(m[g]||y).create(e),function(){if(T.hasSessionStorage){var e=T.serialise();if("string"==typeof e)try{sessionStorage.setItem("Saved Session",e)}catch(e){return}}}()}return T=p({get passage(){return v.passage},get variables(){return v.variables},get pastLength(){return g},get futureLength(){return m.length-1-g},get mockVisits(){return v.variables.TwineScript_MockVisits||[]},set mockVisits(e){v.variables.TwineScript_MockVisits=e},passageNameVisited:function(e){var n=0;if(!t.get(e))return 0;for(var r=0;r<=g;r++)n+=+(e===m[r].passage);return n},passageNameLastVisited:function(e){if(!t.get(e))return 1/0;if(e===v.passage)return 0;for(var n=g;n>0;n--)if(m[n].passage===e)return g-n+1;return 1/0},pastPassageNames:function(){for(var e=[],t=g-1;t>=0;t--)e.unshift(m[t].passage);return e},timelinePassageNames:function(){return m.map(function(e){return e.passage})},play:function(e){v||s("State.play","present is undefined!"),v.passage=e,m=m.slice(0,g+1).concat(v),g+=1,S(e),w.forward.forEach(function(t){return t(e)})},rewind:function(e){var t=1,n=!1;if(e)if("string"==typeof e){if((t=this.passageNameLastVisited(e))===1/0)return}else"number"==typeof e&&(t=e);for(;t>0&&g>0;t--)n=!0,g-=1;return n&&(S(m[g].passage),w.back.forEach(function(e){return e()})),n},fastForward:function(e){var t=1,n=!1;for("number"==typeof e&&(t=e);t>0&&m.length>0;t--)n=!0,g+=1;return n&&(S(m[g].passage),w.forward.forEach(function(e){return e(m[g].passage,"fastForward")})),n},on:function(e,t){if(e in w)return"function"!=typeof t||w[e].includes(t)||w[e].push(t),T;s("State.on","invalid event name")},reset:function(){m=[],g=-1,v=y.create(),b=void 0,w.load.forEach(function(e){return e(m)})},hasStorage:d[0],hasSessionStorage:d[1]},function(){function e(e,t){Object.keys(t).forEach(function(n){return!n.startsWith("TwineScript_")&&(t[n]=e.eval(o(l(t[n],0,"macro"))))})}return{serialise:function(){var e=m.slice(0,g+1),t=e.map(function(e){return Object.keys(e.variables).filter(function(t){return e.variables[t]&&(n=e.variables[t],a=void 0===n?"undefined":_typeof(n),!(!r.containsError(n)&&("function"==typeof n.TwineScript_ToSource||Array.isArray(n)||n instanceof Map||n instanceof Set||"string"===a||"number"===a||"boolean"===a||Object.isPrototypeOf.call(h.TwineScript_TypeDefs,n))));var n,a}).map(function(t){return[t,e.variables[t]]})});if(b||(b=t.reduce(function(e,t,n){var r=_slicedToArray(t,2),a=r[0],i=r[1];return e||a&&[a,i,n+1]},void 0)),b){var n=_slicedToArray(b,3),a=n[0],i=n[1],o=n[2];return r.create("saving","The variable $"+a+" holds "+c(i)+" (which is, or contains, a complex data value) on turn "+o+"; the game can no longer be saved.")}try{return JSON.stringify(e,function(e,t){return this.TwineScript_VariableStore?"TwineScript_TypeDefs"===e?Object.keys(t).reduce(function(e,n){return e[n]=u(t[n]),e},{}):u(t):t})}catch(e){return!1}},deserialise:function(n,r){var a,i=void 0,o=h,s="The save data is unintelligible.";try{i=JSON.parse(r)}catch(e){return Error(s)}return Array.isArray(i)?(a=(i=i.map(function(r){if("object"!==(void 0===r?"undefined":_typeof(r))||!r.hasOwnProperty("passage")||!r.hasOwnProperty("variables"))return Error(s);if(!t.hasValid(r.passage))return Error("The data refers to a passage named '"+r.passage+"', but it isn't in this story.");if(r.variables=p(f(o),r.variables),Object.hasOwnProperty.call(r.variables,"TwineScript_TypeDefs")){var a=r.variables.TwineScript_TypeDefs=p(f(o.TwineScript_TypeDefs),r.variables.TwineScript_TypeDefs);try{e(n,a)}catch(e){return Error(s)}}try{e(n,r.variables)}catch(e){return Error(s)}return o=r.variables,p(f(y),r)})).find(function(e){return e instanceof Error}))?a:(m=i,w.load.forEach(function(e){return e(m)}),g=m.length-1,S(m[g].passage),!0):Error(s)}}}()),Object.seal(y),Object.freeze(T)}),define("internaltypes/varref",["state","internaltypes/twineerror","utils","utils/operationutils","datatypes/hookset"],function(e,t,n,r,a){var i=n.impossible,o=n.andList,s=n.nth,c=r.is,u=r.isObject,l=r.toSource,p=r.isSequential,f=r.objectName,d=r.typeName,h=r.clone,y=r.isValidDatamapName,m=r.subset,g=r.collectionType,v=r.unstorableValue,b=r.matches,w=void 0,T=0,S={set:[],delete:[]};function x(e,n){var r=void 0;if(e instanceof Map&&(r=t.containsError(y(e,n))))return r;if(p(e)){var i=void 0,s="You can only access position strings/numbers ('4th', 'last', '2ndlast', (2), etc.) or slices ('1stTo2ndlast', '3rdTo5th'), ",c="You can't access the '0th' or '0thlast' position of "+f(e)+".";if("number"==typeof n){if(0===n)return t.create("property","You can't access elements at position 0 of "+f(e)+".","Only positive and negative position values exist.");n>0&&(n-=1)}else if("string"==typeof n&&(i=/^(\d+)(?:st|[nr]d|th)last$/i.exec(n))){if("0"===i[1])return t.create("property",c);n=-i[1]}else if("string"==typeof n&&(i=/^(\d+)(?:st|[nr]d|th)$/i.exec(n))){if("0"===i[1])return t.create("property",c);n=i[1]-1}else if("string"==typeof n&&(i=/^(?:(\d+)(?:st|[nr]d|th)(last)?|last)to(?:(\d+)(?:st|[nr]d|th)(last)?|last)$/i.exec(n))){var u=_slicedToArray(i,5),l=u[1],d=void 0===l?0:l,h=u[2],m=u[3],g=void 0===m?0:m;n={last:g=u[4]?-g:g-1,first:d=h?-d:d-1}}else if("last"===n)n=-1;else if("random"===n){if(!e.length)return t.create("property","I can't get a random value from "+f(e)+", because it's empty");n=Math.random()*Array.from(e).length|0}else{if(a.isPrototypeOf(e)&&!a.TwineScript_Properties.includes(n))return t.create("property",s+o(a.TwineScript_Properties.map(function(e){return"'"+e+"'"}))+" of "+f(e)+", not "+f(n)+".");if(!["length","any","all","start","end","random"].includes(n)&&!a.isPrototypeOf(e))return t.create("property",s+"'length', 'any', 'all', 'start', 'end', and 'random' of "+f(e)+", not "+f(n)+".")}}else if(e instanceof Set){if(!["length","any","all"].includes(n))return t.create("property","You can only get the 'length', 'any' and 'all' of "+f(e)+".","To check contained values, use the 'contains' operator.");"length"===n&&(n="size")}else{if(Array.isArray(e.TwineScript_Properties)&&!e.TwineScript_Properties.includes(n))return t.create("property","You can only get the "+o(e.TwineScript_Properties.map(function(e){return"'"+e+"'"}))+" of "+f(e)+", not "+f(n)+".");if("number"==typeof e||"boolean"==typeof e)return t.create("property","You can't get data values from "+f(e)+".")}return n}function k(e,t){return t-0<0&&Math.abs(t)<=e.length?e.length+(t-0):t}function O(e,t){if(void 0===e)return e;if(e instanceof Map||w.isPrototypeOf(e))return e.get(t);if(("any"===t||"all"===t||"start"===t||"end"===t)&&!e.TwineScript_VariableStoreName)return function(e,t){var n="'"+t+"' value"+("any"===t?"":"s")+" of ";return{determiner:t,array:[].concat(_toConsumableArray(e)),string:"string"==typeof e&&e,TwineScript_ObjectName:n+f(e),TwineScript_TypeName:n+"a data structure",TwineScript_Unstorable:!0,TwineScript_Print:function(){return"`["+this.TwineScript_TypeName+"]`"}}}(e,t);if("string"==typeof e&&(e=[].concat(_toConsumableArray(e))),p(e)&&Number.isFinite(t)&&(t=k(e,t)),e.TwineScript_GetProperty)return e.TwineScript_GetProperty(t);var n=e[t];return"function"!=typeof n?n:void 0}function j(e){if(e.computed){var t=e.value;return w.isPrototypeOf(t)&&(t=t.get()),"string"==typeof t?"('"+t+"')":"("+t+")"}return"number"==typeof e?s(e):"'"+e+"'"}function A(n,r,i){if(n.TwineScript_VariableStore){if(n.TwineScript_TypeDefs&&r in n.TwineScript_TypeDefs){var o=n.TwineScript_TypeDefs[r];if("const"===o.name){if(void 0!==n[r])return t.create("operation","I can't alter "+(n===e.variables?"$":"_")+r+" because it's been restricted to a constant value.","This variable can't be changed for the rest of the story.")}else if(!b(o,i))return t.create("operation","I can't set "+(n===e.variables?"$":"_")+r+" to "+d(i)+" because it's been restricted to "+l(o)+"-type data.","You can restrict a variable or data name by giving a typed variable to (set:) or (put:).")}return!0}return Array.isArray(r)?r.map(function(e){return A(n,e)}):n instanceof Map?"string"==typeof r||t.create("operation",f(n)+" can only have string data names, not "+f(r)+"."):p(n)?["length","random","any","all","start","end"].includes(r)?t.create("operation","I can't forcibly alter the '"+r+"' of "+f(n)+".","start"===r||"end"===r?"Alter the values at actual positions, like 1st or 2ndlast, rather than just the '"+r+"'.":void 0):+r==(0|r)||t.create("property",f(n)+" can only have position keys ('3rd', '1st', (5), etc.), not "+j(r)+"."):n.TwineScript_Identifiers&&r in n?t.create("keyword","I can't alter the value of the '"+r+"' identifier.","You can only alter data in variables and hooks, not fixed identifiers."):t.create("operation","I can't modify "+f(n),n instanceof Set?"You should use an (array:) if you need to modify the data inside this dataset.":a.isPrototypeOf(n)?"You should alter hooks indirectly using macros like (replace:) or (enchant:).":void 0)}function C(e,t,n){var r=t;e instanceof Map?e.set(t,n):(p(e)&&(t=k(e,t)),e.TwineScript_Set?e.TwineScript_Set(t):e[t]=n),S.set.forEach(function(t){return t(e,r,n)})}function E(e,t){var n=t;p(e)&&(t=k(e,t)),Array.isArray(e)&&/^(?:[1-9]\d*|0)$/.exec(t)?e.splice(t,1):e instanceof Map||e instanceof Set?e.delete(t):delete e[t],S.delete.forEach(function(t){return t(e,n)})}function _(e){return Object.assign(Object.create(w),{error:e})}function N(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;if(r&&"object"===(void 0===r?"undefined":_typeof(r))&&"last"in r&&"first"in r){if(a.isPrototypeOf(n))return n.TwineScript_GetProperty(r);var s=r.first,c=r.last;return m(n,s+(s>=0),c+(c>=0))}if(Array.isArray(r))return a.isPrototypeOf(n)?n.TwineScript_GetProperty(r):r.map(function(e){return N(n,e,e)})["string"==typeof n?"join":"valueOf"]("");var u=O(n,r);if(void 0===u){if(n===e.variables)return T;if(n.TwineScript_VariableStore)return t.create("property","There isn't a temp variable named _"+i+" in this place.","Temp variables only exist inside the same passage and hook in which they're (set:).");if(Array.isArray(n)&&"number"==typeof r)return t.create("property","This array of "+n.length+" elements doesn't have a "+j(i)+" element.",n.length?"It contains: "+o(n.map(f))+".":"The array is empty.");var l=Array.from("function"==typeof n.keys&&n.keys());return t.create("property","I can't find a "+j(i)+" data name in "+f(n),n instanceof Map&&l.length?"Its names include: "+o(l)+".":void 0)}return u}function P(e,n){var r=this,a=this.compiledPropertyChain.reduce(function(e,t){var n=void 0;return n=0===e.length?r.object:N.apply(void 0,_toConsumableArray(e[e.length-1])),e.push([n,t])&&e},[]).reduceRight(e,n);return t.containsError(a)?a:void 0}return w=Object.freeze({get:function(){return this.error?this.error:N(this.compiledPropertyChain.slice(0,-1).reduce(function(e,t){return N(e,t)},this.object),this.compiledPropertyChain.slice(-1)[0],this.propertyChain.slice(-1)[0])},set:function(n){var r=this;return this.error?this.error:!this.object||this.object.TwineScript_VariableStore||this.object.TwineScript_Identifiers?P.call(this,function(n,a,i){var o,s=_slicedToArray(a,2),c=s[0],l=s[1];if(o=t.containsError(n,c,l)||t.containsError(A(c,l,n)))return o;var d;if(d=v(n))return t.create("operation",f(n)+" can't be stored"+(g(n)?" because it holds "+f(d)+".":""));if(i>0)c=h(c);else if(c.TwineScript_VariableStore&&c!==e.variables){for(var y=c;y.TwineScript_VariableStore&&!y.hasOwnProperty(l);)y=Object.getPrototypeOf(y);y.TwineScript_VariableStore&&(c=y)}if("string"==typeof c){if("string"!=typeof n)return t.create("datatype","I can't put this non-string value, "+f(n)+", in a string.");if(n.length!==(Array.isArray(l)?l.length:1))return t.create("datatype",f(n)+"is not the right length to fit into this string location.");c=[].concat(_toConsumableArray(c));var m=[].concat(_toConsumableArray(n));[].concat(l).forEach(function(e){0+e<0&&(e=c.length+(0+e)),c=[].concat(_toConsumableArray(c.slice(0,e)),[m.shift()],_toConsumableArray(c.slice(e+1)))}),c=c.join("")}else u(c)&&(void 0!==n.TwineScript_KnownName&&(n.TwineScript_KnownName=r.TwineScript_ObjectName),Array.isArray(l)&&p(n)?("string"==typeof n&&(n=[].concat(_toConsumableArray(n))),l.map(function(e,t){return[e,n[t]]}).forEach(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return C(c,n,r)})):C(c,l,n));return c},n):t.create("macrocall","I can't (set:) "+f(this)+", if the "+(f(this.object).match(/ (.+$)/)||["","value"])[1]+" isn't stored in a variable.","Modifying data structures that aren't in variables won't change the game state at all.")},delete:function(){return this.error?this.error:P.call(this,function(e,n,r){var a,i=_slicedToArray(n,2),o=i[0],s=i[1];if(a=t.containsError(e,o,s)||t.containsError(A(o,s)))return a;if(r>0&&(o=h(o)),null===e){var c="string"==typeof o;c&&(o=[].concat(_toConsumableArray(o))),Array.isArray(s)?(p(o)&&(s=[].concat(_toConsumableArray(new Set(s)))).sort(function(e,t){return k(o,t)-k(o,e)}),s.forEach(function(e){return E(o,e)})):E(o,s),c&&(o=o.join(""))}else C(o,s,e);return o},null)},defineType:function(e){var n=this.object,r=this.compiledPropertyChain;if(!n||!n.TwineScript_VariableStore||1!==r.length||!n.TwineScript_TypeDefs)return t.create("unimplemented","I can only restrict the datatypes of variables, not data names or anything else.");var a=r[0];Object.hasOwnProperty.call(n,"TwineScript_TypeDefs")||(n.TwineScript_TypeDefs=Object.create(n.TwineScript_TypeDefs));var i=n.TwineScript_TypeDefs,o=i[a];if(o&&!c(o,e))return t.create("operation","I can't redefine the type of "+f(this)+" to "+(e.TwineScript_ObjectName||d(e))+", as it is already "+(o.TwineScript_ObjectName||d(o))+".");i[a]=e,"const"===e.name&&(n[a]=void 0)},matches:function(e,t){return this.object===e&&this.compiledPropertyChain[0]===t},getName:function(){return this.compiledPropertyChain[0]},create:function(e,n){var r=void 0;if(r=t.containsError(e))return _(r);n=[].concat(n),w.isPrototypeOf(e)&&(n=e.propertyChain.concat(n),e=e.object);var a=function(e,n){return n.reduce(function(r,a,i){var o;return a.computed&&(a=a.value),w.isPrototypeOf(a)&&(a=a.get()),a=Array.isArray(a)?a.map(function(t){return x(e,t)}):x(e,a),(o=t.containsError(r,a))?o:(i<n.length-1&&(e=N(e,a)),r.push(a),r)},[])}(e,n);return(r=t.containsError(a))?_(r):Object.assign(Object.create(w),{object:e,propertyChain:n,compiledPropertyChain:a})},TwineScript_ToSource:function(){var t=this,n=function(e,n){return!n&&t.object.TwineScript_VariableStore?e:j(e)};return(this.object===e.variables?"$":this.object.TwineScript_VariableStore?"_":f(this.object)+"'s ")+(1===this.propertyChain.length?n(this.propertyChain[0]):this.propertyChain.reduce(function(e,t,r){return e+"'s "+n(t,r)}))},get TwineScript_ObjectName(){return this.TwineScript_ToSource()+(this.object.TwineScript_VariableStoreName?" in "+this.object.TwineScript_VariableStoreName:"")},on:function(e,t){if(e in S)return"function"!=typeof t||S[e].includes(t)||S[e].push(t),w;i("VarRef.on","invalid event name")}})}),define("internaltypes/varscope",[],function(){return Object.seal({TwineScript_ObjectName:"the temporary variables",TwineScript_VariableStore:!0,TwineScript_TypeDefs:Object.create(null)})}),define("internaltypes/twinenotifier",["jquery","utils"],function(e,t){var n=t.impossible,r={create:function(e){return e||n("TwineNotifier.create","called with only 1 string."),Object.assign(Object.create(r),{message:e})},render:function(){return e("<tw-notifier>").attr("message",this.message)}};return r}),define("datatypes/custommacro",["jquery","utils/operationutils","internaltypes/changedescriptor","internaltypes/varref","internaltypes/varscope","internaltypes/twineerror","internaltypes/twinenotifier"],function(e,t,n,r,a,i,o){var s=t.objectName,c=t.typeName,u=t.matches,l=Object.assign,p=Object.create,f=function(t){return function(c){for(var u=arguments.length,f=Array(u>1?u-1:0),d=1;d<u;d++)f[d-1]=arguments[d];t.called+=1;var h=t.varNames,y=t.params,m=t.body,g=l(p(a),{TwineScript_VariableStoreName:t.TwineScript_ObjectName+" call #"+t.called,TwineScript_TypeDefs:p(null)}),v=[],b=0;f.forEach(function(e,t){var n=h[b];g.TwineScript_TypeDefs[n]=y[b].datatype.rest?y[b].datatype.create("array"):y[b].datatype;var a=r.create(g,n);if(y[b].datatype.rest){var i=(g[n]||[]).concat([e]);if(t<f.length-1)return void(g[n]=i);a.set(i)}else a.set(e),b+=1;v.push(o.create(s(a)+" is now "+s(g[n])))}),f.length&&(b+=1),y[b]&&y[b].datatype.rest&&(r.create(g,h[b]).set([]),g.TwineScript_TypeDefs[name]=y[b].datatype.create("array"));var w=void 0,T=e("<p>").append(m.html),S=c.stack.length;for(c.stack.unshift({tempVariables:g,dom:T,output:function(e){w=e}}),c.execute();c.stack.length>S;)c.stack.shift();var x,k,O=T.find("tw-error");return O.length?(T.prepend(v.map(function(e){return e.render()}),"<br>"),i.create("propagated",O.length+" error"+(O.length>1?"s":"")+" occurred when running "+t.TwineScript_ObjectName+".",void 0,T)):void 0===w?i.create("custommacro",t.TwineScript_ObjectName+" didn't output any data or hooks using (output:) or (output-data:)."):n.isPrototypeOf(w)?(x=w,k=l({TwineScript_TypeID:"command",TwineScript_ObjectName:"a custom command",TwineScript_TypeName:"a custom command",TwineScript_Print:function(){return"`[a custom command]`"},TwineScript_Attach:function(e){return e.run(x),k},TwineScript_Run:function(){return x}})):w}},d=Object.freeze({TwineScript_TypeID:"macro",TwineScript_TypeName:"a custom macro",get TwineScript_ObjectName(){return this.TwineScript_KnownName?"the "+this.TwineScript_KnownName+" macro":"a custom macro"},TwineScript_GetProperty:function(e){if("params"===e)return[].concat(_toConsumableArray(this.params))},TwineScript_Properties:["params"],TwineScript_Print:function(){return"`["+this.TwineScript_ObjectName+"]`"},TwineScript_Clone:function(){return l(p(d),this)},TwineScript_ToSource:function(){return"(macro:"+this.params.map(function(e){return e.TwineScript_ToSource()}).concat("")+this.body.TwineScript_ToSource()+")"},create:function(e,t){var n=l(p(this),{params:e,called:0,varNames:e.map(function(e){return e.varRef.propertyChain[0]}),typeSignature:e.map(function(e){var t=void 0;return t=e.datatype.toTypeSignatureObject?e.datatype.toTypeSignatureObject({rest:e.rest}):{pattern:"range",range:function(t){return u(e.datatype,t)},name:c(e.datatype)},e.rest?{pattern:"zero or more",innerType:t}:t}),body:t,TwineScript_KnownName:""});return n.fn=f(n),n}});return d}),define("datatypes/lambda",["utils/operationutils","internaltypes/varscope","internaltypes/varref","internaltypes/twineerror"],function(e,t,n,r){var a=e.objectName,i=Object.freeze({TwineScript_TypeID:"lambda",TwineScript_TypeName:"a lambda",get TwineScript_ObjectName(){return'a "'+("making"in this?"making ... ":"")+("where"in this?"where ... ":"")+("when"in this?"when ... ":"")+("via"in this?"via ... ":"")+'" lambda'},TwineScript_Print:function(){return"`[A lambda]`"},TwineScript_is:function(e){return e===this},TwineScript_ToSource:function(){return this.source},TypeSignature:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{pattern:"lambda",innerType:i,clauses:t,typeName:'a "'+t.concat("").join(" ...")+'" lambda'}},TwineScript_Clone:function(){return Object.assign(Object.create(i),this)},create:function(e,o,s,c){var u=void 0;function l(e){var r=e&&e.varRef?e.varRef:e;return void 0===r||r&&n.isPrototypeOf(r)&&t.isPrototypeOf(r.object)&&1===r.propertyChain.length}if("making"===o&&!l(s))return r.create("syntax","I need a temp variable, or typed temp variable, to the right of '"+o+"', not "+a(s)+".");if(r.containsError(e))return e;if(i.isPrototypeOf(e)){if("when"===o||"when"in e)return r.create("syntax","A 'when' lambda cannot have any other clauses, such as '"+o+"'.");if(o in e&&("where"!==o||"true"!==e[o]))return r.create("syntax","This lambda has two '"+o+"' clauses.");u=e}else{if("when"===o&&void 0!==e)return r.create("syntax","A 'when' lambda shouldn't begin with a temp variable (just use 'when' followed by the condition).");if(!l(e))return r.create("syntax","This lambda needs to start with a single temp variable, or typed temp variable, not "+a(e)+".");(u=Object.create(this)).loop=e||""}return u.source=c.trim(),u[o]=s,u.making&&u.making.getName()===(u.loop&&u.loop.getName())?r.create("syntax","This lambda has two variables named '"+u.loop.getName()+"'.","Lambdas should have all-unique parameter names."):u},apply:function(e,n){var a=n.loop,i=n.pos,o=n.making,s=n.ignoreVia,c=n.tempVariables;function u(e,t){if(e)if("datatype"in e&&"varRef"in e){var n=e.varRef.create(c,e.varRef.propertyChain);n.defineType(e.datatype);var a=n.set(t);if(r.containsError(a))return a}else c[e.getName()]=t}c=c||Object.create(e.stack.length?e.stackTop.tempVariables:t);var l=u(this.loop,a)||u(this.making,o);if(r.containsError(l))return l;e.stack.unshift(Object.assign(Object.create(e.stackTop||null),{tempVariables:c,lambdaPos:this.when?void 0:i}));var p=e.eval("Operations");!a||this.making||this.when?p.initialiseIt(r.create("operation","I can't use 'it', or an implied 'it', in "+this.TwineScript_ObjectName)):p.initialiseIt(a);var f=!s&&this.via,d=e.eval("where"in this||"when"in this?"Operations.where("+(this.where||this.when)+","+(f||"true")+",null)":f||"true");return e.stack.shift(),d},filter:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=void 0,o=t.reduce(function(t,o,s){if(i=r.containsError(t))return i;var c=n.apply(e,{loop:o,pos:s+1,ignoreVia:!0,tempVariables:a});return(i=r.containsError(c))?i:t.concat(c?[o]:[])},[]);return(i=r.containsError(o))?i:o}});return i}),define("datatypes/codehook",["internaltypes/twineerror","renderer"],function(e,t){var n=t.exec;return Object.freeze({TwineScript_TypeName:"a code hook",TwineScript_ObjectName:"a code hook",TwineScript_Unstorable:!0,TwineScript_ToSource:function(){return"["+this.source+"]"},create:function(t,r){r||(r=n(t));var a=e.containsError(r);return a||Object.assign(Object.create(this),{source:t,html:r})}})}),define("datatypes/colour",["jquery","utils"],function(e,t){var n=t.matMul,r=Math.max,a=Math.min,i=Math.sin,o=Math.cos,s=Math.pow,c=Math.round,u=Math.floor,l=Math.atan2,p=Math.cbrt,f=Math.sqrt,d=Math.PI,h=Object.assign,y=Object.create,m=/^([\da-fA-F])([\da-fA-F])([\da-fA-F])$/,g=/^([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])$/,v=y(null);function b(e){var t=e.r,n=e.g,i=e.b,o=e.a,s=r(t/=255,n/=255,i/=255),u=a(t,n,i),l=(s+u)/2,p=s-u;if(s===u)return{h:0,s:0,l:l};var f=void 0;switch(s){case t:f=(n-i)/p+(n<i?6:0);break;case n:f=(i-t)/p+2;break;case i:f=(t-n)/p+4}return{h:f=c(60*f),s:l>.5?p/(2-s-u):p/(s+u),l:l,a:o}}var w=[.96422,1,.82521],T=24389/27,S=216/24389,x=function(e){return e.map(function(e){return[e]})},k=function(e){return e.map(function(e){return e[0]})};function O(e){var t=e.l,r=e.c,a=e.h,c=e.a;t*=100;var u=[];u[1]=(t+16)/116,u[0]=r*o(a*d/180)/500+u[1],u[2]=u[1]-r*i(a*d/180)/200;var l=[s(u[0],3)>S?s(u[0],3):(116*u[0]-16)/T,t>T*S?s((t+16)/116,3):t/T,s(u[2],3)>S?s(u[2],3):(116*u[2]-16)/T].map(function(e,t){return e*w[t]}),p=k(n([[.9555766,-.0230393,.0631636],[-.0282895,1.0099416,.0210077],[.0122982,-.020483,1.3299098]],n([[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]],x(l)))).map(function(e){return 255*e}),f=_slicedToArray(p,3);return{r:f[0],g:f[1],b:f[2],a:c}}function j(e){var t=O(e);return[t.r,t.g,t.b].every(function(e){return e>=0&&e<=255})}var A=Object.freeze({TwineScript_TypeID:"colour",TwineScript_TypeName:"a colour",TwineScript_ObjectName:"a colour",TwineScript_DebugName:function(){return"a colour "+this.TwineScript_Print()},"TwineScript_+":function(e){var t=this.toRGBA(),n=e.toRGBA();return A.create({r:Math.min(Math.round(.6*(t.r+n.r)),255),g:Math.min(Math.round(.6*(t.g+n.g)),255),b:Math.min(Math.round(.6*(t.b+n.b)),255),a:(t.a+n.a)/2})},TwineScript_Print:function(){var e=this.toRGBA();return"<tw-colour style='background-color:rgba("+[e.r,e.g,e.b,e.a]+");'></tw-colour>"},TwineScript_is:function(e){if(!A.isPrototypeOf(e))return!1;if(e.lcha&&this.lcha)return e.lcha.l===this.lcha.l&&e.lcha.c===this.lcha.c&&e.lcha.h===this.lcha.h&&e.a===this.a;var t=this.toRGBA();return(e=e.toRGBA()).r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a},TwineScript_Clone:function(){return A.create(this)},toRGBAString:function(){var e=this.toRGBA();return"rgba("+e.r+", "+e.g+", "+e.b+", "+e.a+")"},toHSLA:function(){return b(this.toRGBA())},toRGBA:function(){return this.lch?O(function(e){if(j(e))return e;var t=(e=h({},e)).c,n=0;for(e.c/=2;t-n>1e-5;)j(e)?n=e.c:t=e.c,e.c=(t+n)/2;return e}(h({},this.lch,{a:this.a}))):this},toLCHA:function(){return this.lch?h({},this.lch):(t=(e=this).r,r=e.g,a=e.b,i=e.a,o=k(n([[1.0478112,.0228866,-.050127],[.0295424,.9904844,-.0170491],[-.0092345,.0150436,.7521316]],n([[.4124564,.3575761,.1804375],[.2126729,.7151522,.072175],[.0193339,.119192,.9503041]],x([t/255,r/255,a/255])))).map(function(e,t){return e/w[t]}).map(function(e){return e>S?p(e):(T*e+16)/116}),c=[116*o[1]-16,500*(o[0]-o[1]),200*(o[1]-o[2])],u=180*l(c[2],c[1])/d,{l:c[0]/100,c:f(s(c[1],2)+s(c[2],2)),h:u>=0?u:u+360,a:i});var e,t,r,a,i,o,c,u},LCHRotate:function(e){e<0&&(e=360+e);var t=this.toLCHA();return t.h=(t.h+e)%360,t.a=this.a,A.create(t)},TwineScript_GetProperty:function(e){if("lch"===e){var t=this.toLCHA();return new Map([["l",t.l],["c",t.c],["h",t.h]])}var n=this.toRGBA();return"h"===e||"s"===e||"l"===e?b(n)[e]:"r"===e||"g"===e||"b"===e||"a"===e?n[e]:void 0},TwineScript_Properties:["h","s","l","r","g","b","a","lch"],TwineScript_ToSource:function(){var e=!this.lch&&b(this);if(e&&!e.h&&!e.s){if(1===e.l)return"white";if(0===e.l)return"black"}return"("+(this.lch?"lch":"hsl")+":"+(this.lch?[this.lch.l,this.lch.c,this.lch.h]:[e.h,e.s,e.l])+(1!==this.a?","+this.a:"")+")"},create:function(t){return"string"==typeof t?this.create((A.isHexString(t)?function(e){return"string"!=typeof e?e:(e=(e=e.replace("#","")).replace(m,"$1$1$2$2$3$3"),{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16)})}:function(t){if(t in v)return v[t];var n=e("<p>").css("background-color",t).css("background-color");return n="transparent"===n?{r:0,g:0,b:0,a:0}:n.startsWith("rgb")?n.match(/\d+/g).reduce(function(e,t,n){return e["rgb"[n]]=+t,e},{}):{r:192,g:192,b:192},v[t]=n,n})(t)):!("h"in t&&"s"in t&&"l"in t)||"r"in t||"g"in t||"b"in t?("a"in t&&"number"==typeof t.a||(t.a=1),h(y(this),"h"in t&&"c"in t&&!("s"in t)&&"l"in t?{a:t.a,lch:{l:t.l,c:t.c,h:t.h}}:t)):this.create(function(e){var t=e.h,n=e.s,r=e.l,a=e.a;if(0===n){var i=u(255*r);return{r:i,g:i,b:i}}var o=r<.5?r*(1+n):r+n-r*n,s=2*r-o;function c(e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?s+6*(o-s)*e:e<.5?o:e<2/3?s+(o-s)*(2/3-e)*6:s}return{r:u(255*c((t/=360)+1/3)),g:u(255*c(t)),b:u(255*c(t-1/3)),a:a}}(t))},isHexString:function(e){return"string"==typeof e&&"#"===e[0]&&(e.slice(1).match(m)||e.slice(1).match(g))},isCSS3Function:function(e){return"string"==typeof e&&/^(?:rgb|hsl)a?\(\s*\d+\s*,\s*\d+%?\s*,\s*\d+%?(?:,\s*\d+(?:\.\d+)?\s*)?\)$/.test(e)}});return A}),define("datatypes/gradient",["utils/operationutils"],function(e){var t=e.toSource,n=Object.freeze({TwineScript_TypeID:"gradient",TwineScript_TypeName:"a gradient",TwineScript_ObjectName:"a gradient",TwineScript_DebugName:function(){return"a gradient "+this.TwineScript_Print()},TwineScript_GetProperty:function(e){var t=this;return"angle"===e?this.angle:"stops"===e?this.stops.map(function(e){return new Map([[t.repeating?"pixels":"percent",e.stop],["colour",e.colour.TwineScript_Clone()]])}):void 0},TwineScript_Properties:["angle","stops"],TwineScript_ToSource:function(){return"(gradient:"+this.angle+","+this.stops.map(function(e){return t(e.stop)+","+t(e.colour)})+")"},TwineScript_is:function(e){var t=this;return e.angle===this.angle&&e.stops.length===this.stops.length&&e.stops.every(function(e,n){var r=e.colour,a=e.stop;return t.stops[n].stop===a&&t.stops[n].colour.TwineScript_is(r)})},TwineScript_Clone:function(){return n.create(this.angle,[].concat(_toConsumableArray(this.stops)))},TwineScript_Print:function(){return"<tw-colour style='background:"+this.toLinearGradientString()+"'></tw-colour>"},create:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object.assign(Object.create(this),{angle:e,stops:t.sort(function(e,t){return e.stop-t.stop}),repeating:n})},multiply:function(e){return n.create(this.angle,this.stops.map(function(t){return{colour:t.colour,stop:t.stop*e}}))},toLinearGradientString:function(){var e=this;return(this.repeating?"repeating-":"")+"linear-gradient("+this.angle+"deg, "+this.stops.reduce(function(t,n){var r=n.colour,a=n.stop;return t+r.toRGBAString()+" "+a*(e.repeating?1:100)+(e.repeating?"px,":"%,")},"").slice(0,-1)+")"}});return n}),define("datatypes/datatype",["utils","utils/operationutils","datatypes/changercommand","datatypes/colour","datatypes/gradient","datatypes/lambda","datatypes/custommacro","internaltypes/twineerror"],function(e,t,n,r,a,i,o,s){var c=e.realWhitespace,u=e.anyRealLetter,l=e.anyCasedLetter,p=e.anyNewline,f=t.objectName,d=Object.assign,h=Object.seal,y=Object.keys,m=Math.floor,g=Math.abs,v=void 0,b=void 0,w={TwineScript_TypeID:"datatype",TwineScript_TypeName:"a datatype",TwineScript_Print:function(){return"`["+this.TwineScript_ObjectName+"]`"},get TwineScript_ObjectName(){return"the "+(this.rest?"...":"")+this.name+" datatype"},TwineScript_is:function(e){return w.isPrototypeOf(e)&&e.name===this.name},TwineScript_Clone:function(){return this.rest?this:Object.create(this)},TwineScript_ToSource:function(){return(this.rest?"...":"")+this.name},TwineScript_IsTypeOf:function(e){var t=this.name,n=this.rest;return!!v[t]&&v[t](e,n)},toTypeSignatureObject:function(){var e=this.name,t={pattern:"range",range:v[e],name:"a "+("dm"===e?"datamap":"ds"===e?"dataset":"num"===e?e+"ber":"str"===e?e+"ing":"color"===e?"colour":"bool"===e?e+"ean":"alnum"===e?"alphanumeric character":"int"===e?e+"eger":"even"===e||"odd"===e?e+" number":e.endsWith("case")||"whitespace"===e?e+" character":"empty"===e?e+" value":e)};return this.rest?{pattern:"zero or more",innerType:t}:t},create:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e="datamap"===e?"dm":"dataset"===e?"ds":"number"===e?"num":"string"===e?"str":"color"===e?"colour":"boolean"===e?"bool":"alphanumeric"===e?"alnum":"integer"===e?"int":e;var n=Object.create(this);return n.name=e,n.rest=t,n},from:function(e){var t=y(b).find(function(t){return b[t](e)});return t?w.create(t):s.create("datatype",f(e)+" doesn't correspond to a datatype value.")}};return b={array:Array.isArray,dm:function(e){return e instanceof Map},ds:function(e){return e instanceof Set},datatype:function(e){return w.isPrototypeOf(e)},changer:function(e){return n.isPrototypeOf(e)},colour:function(e){return r.isPrototypeOf(e)},gradient:function(e){return a.isPrototypeOf(e)},lambda:function(e){return i.isPrototypeOf(e)},macro:function(e){return o.isPrototypeOf(e)},str:function(e){return"string"==typeof e},num:function(e){return"number"==typeof e},bool:function(e){return"boolean"==typeof e}},v=d({},b,{even:function(e){return!isNaN(e)&&m(g(e))%2==0},odd:function(e){return!isNaN(e)&&m(g(e))%2==1},empty:function(e){return e instanceof Map||e instanceof Set?!e.size:!(!Array.isArray(e)&&"string"!=typeof e)&&!e.length},int:function(e){return"number"==typeof e&&e===(0|e)},uppercase:function(e){return"string"==typeof e&&1===[].concat(_toConsumableArray(e)).length&&[].concat(_toConsumableArray(e)).every(function(e){return e!==e.toLowerCase()})},lowercase:function(e){return"string"==typeof e&&1===[].concat(_toConsumableArray(e)).length&&[].concat(_toConsumableArray(e)).every(function(e){return e!==e.toUpperCase()})},whitespace:function(e){return"string"==typeof e&&!!e.match("^"+c+"$")},digit:function(e){return"string"==typeof e&&!!e.match("^\\d$")},alnum:function(e){return"string"==typeof e&&!!e.match("^"+u+"$")},anycase:function(e){return"string"==typeof e&&!!e.match("^"+l+"$")},linebreak:function(e){return"string"==typeof e&&!!e.match("^"+p+"$")},any:function(){return!0},const:function(){return!0}}),h(w)}),define("datatypes/typedvar",["utils/operationutils","datatypes/datatype","internaltypes/varref","internaltypes/twineerror"],function(e,t,n,r){var a=e.typeName,i=e.matches,o=e.toSource,s=e.unstorableValue,c=Object.freeze,u=Object.assign,l=Object.create,p=c({TwineScript_TypeName:"a typed variable name",get TwineScript_ObjectName(){return this.TwineScript_ToSource()},TwineScript_Print:function(){return"`[A typed variable name]`"},TwineScript_Unstorable:!0,TwineScript_Clone:function(){return u(l(p),{datatype:this.datatype.TwineScript_Clone(),varRef:this.varRef})},TwineScript_ToSource:function(){return o(this.datatype)+"-type "+this.varRef.TwineScript_ToSource()},TwineScript_GetProperty:function(e){return"name"===e?this.getName():this[e]},TwineScript_Properties:["datatype","name"],TwineScript_IsTypeOf:function(e){return i(this.datatype,e)},get:function(){var e;return(e=this.varRef).get.apply(e,arguments)},getName:function(){return this.varRef.getName()},defineType:function(){if("any"!==this.datatype.name)return this.varRef.defineType(this.datatype)},create:function(e,t){var n;if(n=r.containsError(t)||r.containsError(e)||t.error)return n;var i=s(e);return i&&!p.isPrototypeOf(i)?r.create("syntax","The -type syntax can't have "+a(i)+" to its left."):u(l(this),{datatype:e,varRef:t})}});return p}),define("macros",["jquery","utils/naturalsort","utils","utils/operationutils","datatypes/changercommand","datatypes/custommacro","datatypes/lambda","datatypes/hookset","datatypes/codehook","datatypes/typedvar","datatypes/datatype","internaltypes/changedescriptor","internaltypes/twineerror"],function(e,t,n,r,a,i,o,s,c,u,l,p,f){var d=n.insensitiveName,h=n.nth,y=n.plural,m=n.andList,g=n.lockProperty,v=(r.clone,r.objectName),b=r.typeName,w=r.singleTypeCheck,T=r.toSource,S=void 0,x={};function k(e,n,r){var a=n.fn,i=n.typeSignature,s=n.isChanger,u=void 0!==s&&s,l=r[0];r=function(e){return e.reduce(function(e,n){if(n&&!0===n.spreader){var r=n.value,a=f.containsError(r);if(a)e.push(a);else if(Array.isArray(r)||"string"==typeof r)for(var i=0;i<r.length;i++)e.push(r[i]);else r instanceof Set?e.push.apply(e,_toConsumableArray(Array.from(r).sort(t("en")))):e.push(f.create("operation","I can't spread out "+v(r)+", because it is not a string, dataset, or array."))}else e.push(n);return e},[])}(r.slice(1)),i=[].concat(i||[]);var p=!e,d=p?"":"("+(Array.isArray(e)&&e.length>1?e[0]:e)+":)";e=p?"this custom macro":"the "+d+" macro";var g=void 0;g=i.length>0?e+" must only be given "+m(i.map(b))+(i.length>1?", in that order":"."):e+" must not be given any data."+(p?"":" Just write "+d);for(var T=void 0,x=function(t,n){var a=i[t],s=r[t];if(f.containsError(s))return{v:s};if(c.isPrototypeOf(s)&&u)return{v:f.create("syntax","Please put this hook outside the parentheses of the changer macro, not inside it.","Hooks should appear after a macro"+(p?".":": "+d+"[Some text]"))};if(t>=i.length&&!T)return{v:f.create("datatype",r.length-i.length+" too many values were given to "+e+".",g)};if(a||(a=T),!a.innerType||"rest"!==a.pattern&&"zero or more"!==a.pattern||(T=a.innerType,"rest"===a.pattern&&(a=a.innerType)),!w(s,a)){if(void 0===s){var l=i.filter(function(e){return!("optional"===e.pattern||"zero or more"===e.pattern)}).length;return{v:f.create("datatype",e+" needs "+y(l-t,"more value")+".",g)}}return s&&s.TwineScript_Unstorable&&(a===S.TypeSignature.Any||a.innerType&&a.innerType===S.TypeSignature.Any)?{v:f.create("datatype",e+"'s "+h(t+1)+" value, "+v(s)+", is not valid data for this macro.",g)}:s&&o.isPrototypeOf(s)&&"lambda"===a.pattern?{v:f.create("datatype",e+"'s "+h(t+1)+" value (a lambda) should have "+m(["where","when","making","via","with"].filter(function(e){return a.clauses.includes(e)}).map(function(e){return"a '"+e+"' clause"}))+", not "+m(["where","when","making","via","with"].filter(function(e){return e in s}).map(function(e){return"a '"+e+"' clause"}))+".")}:"insensitive set"===a.pattern?{v:f.create("datatype",v(s)+" is not a valid name string for "+e+".","Only the following names are recognised (capitalisation and hyphens ignored): "+m(a.innerType)+".")}:{v:f.create("datatype",e+"'s "+h(t+1)+" value is "+v(s)+", but should be "+b(a)+".",a.message||g)}}},k=0,O=Math.max(r.length,i.length);k<O;k+=1){var j=x(k);if("object"===(void 0===j?"undefined":_typeof(j)))return j.v}return a.apply(void 0,[l].concat(_toConsumableArray(r)))}function O(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a={fn:t,typeSignature:n};r&&(a.isChanger=!0),Object.freeze(a),Array.isArray(e)?e.forEach(function(e){return g(x,d(e),a)}):g(x,d(e),a)}return S={has:function(e){return e=d(e),x.hasOwnProperty(e)},get:function(e){return e=d(e),x.hasOwnProperty(e)&&x[e]},add:function e(t,n,r){return O(t,n,r),e},addChanger:function e(t,n,r,i){return O(t,n,i,!0),a.register(Array.isArray(t)?t[0]:t,r),e},addCommand:function e(t,n,r,a){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return O(t,function(e,t,n,r){return function(a){for(var i=arguments.length,o=Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];var c=t.apply(void 0,o);if(c)return c;var u=p.create(),l=Object.assign({TwineScript_TypeID:"command",TwineScript_ObjectName:"a ("+e+":) command",TwineScript_TypeName:"a ("+e+":) command",TwineScript_Print:function(){return"`[A ("+e+":) command]`"},TwineScript_ToSource:function(){return"("+e+":"+o.map(T)+")"},TwineScript_is:function(e){return T(this)===T(e)}},r?{TwineScript_Attach:function(e,t){return u.section=e,t.run(u),l},TwineScript_Run:function(e){return n.apply(void 0,[u,e].concat(o))}}:{TwineScript_Run:function(e){return n.apply(void 0,[e].concat(o))}});return l}}([].concat(t)[0],n,r,i),a),e},TypeSignature:{optional:function(e){return{pattern:"optional",innerType:e}},zeroOrMore:function(e){return{pattern:"zero or more",innerType:e}},either:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{pattern:"either",innerType:t}},rest:function(e){return{pattern:"rest",innerType:e}},insensitiveSet:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{pattern:"insensitive set",innerType:t}},numberRange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return{pattern:"range",min:e,max:t,range:function(n){return"number"==typeof n&&!Number.isNaN(n)&&n>=e&&n<=t}}},nonNegativeInteger:{pattern:"range",integer:!0,min:0,max:1/0,range:function(e){return"number"==typeof e&&!Number.isNaN(e)&&e>=0&&!(e+"").includes(".")}},positiveInteger:{pattern:"range",integer:!0,min:1,max:1/0,range:function(e){return"number"==typeof e&&!Number.isNaN(e)&&e>=1&&!(e+"").includes(".")}},wrapped:function(e,t){return{pattern:"wrapped",innerType:e,message:t}},Any:{TwineScript_TypeName:"anything"},Everything:{TwineScript_TypeName:"everything"}},run:function(e,t){return S.has(e)?k(e,S.get(e),t):f.create("macrocall","I can't run the macro '"+e+"' because it doesn't exist.","Did you mean to run a macro? If you have a word written like (this:), it is regarded as a macro name.")},runCustom:function(e,t){return i.isPrototypeOf(e)?k("",e,t):f.create("macrocall","I can't call "+v(e)+" because it isn't a custom macro.")}},Object.assign(S.TypeSignature,{positiveNumber:S.TypeSignature.numberRange(Math.pow(2,-52),1/0),nonNegativeNumber:S.TypeSignature.numberRange(0,1/0),percent:S.TypeSignature.numberRange(0,1)}),Object.freeze(S)}),define("datatypes/varbind",["jquery","utils","utils/operationutils","internaltypes/varref","internaltypes/twineerror"],function(e,t,n,r,a){var i=n.objectName;return r.on("set",function(n,r){n.TwineScript_VariableStore&&e(t.storyElement).find("[data-2bind]").each(function(t,a){var i=(a=e(a)).data("twoWayBindEvent");"function"==typeof i&&i(a,n,r)})}),Object.freeze({TwineScript_TypeName:"a bound variable",TwineScript_ObjectName:"a bound variable",TwineScript_Unstorable:!0,TwineScript_ToSource:function(){return("two way"===this.bind?"2":"")+"bind "+this.varRef.TwineScript_ToSource()},set:function(e){var t,n=this.varRef.set(e);if(t=a.containsError(n))return t},create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"one way";return r.isPrototypeOf(e)?e.error?e.error:Object.assign(Object.create(this),{varRef:e,bind:t}):a.create("operation","I can only 'bind' a variable, not "+i(e)+".")}})}),define("datatypes/assignmentrequest",["utils/operationutils","datatypes/typedvar","datatypes/datatype","internaltypes/varref","internaltypes/twineerror"],function(e,t,n,r,a){var i=e.objectName,o=e.matches;return Object.freeze({assignmentRequest:!0,TwineScript_TypeName:"a 'to' or 'into' expression",TwineScript_ObjectName:"a 'to' or 'into' expression",TwineScript_Unstorable:!0,set:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=void 0,c=[],u=function e(s,c){var u,l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],p=[],f=void 0;if(f=c&&r.isPrototypeOf(c)?c.get():c,u=a.containsError(f))return u;if(Array.isArray(f)&&Array.isArray(s)){for(var d=0,h=0;d<s.length&&h<f.length;){var y=s[d],m=f[h];if(t.isPrototypeOf(y)&&y.datatype.rest||n.isPrototypeOf(y)&&y.rest){for(var g=h;h<f.length&&o(y,m);)m=f[h+=1];t.isPrototypeOf(y)?y.datatype=[y.datatype]:n.isPrototypeOf(y)&&(y=n.create("array")),p=p.concat(e(y,r.isPrototypeOf(c)?r.create(c,{first:g+1,last:h+1}):f.slice(g,h)))}else p=p.concat(e(y,r.isPrototypeOf(c)?r.create(c,h+1):m)),h+=1;d+=1}return d<s.length?l&&a.create("operation","I can't unpack this array because it needs "+(s.length-d)+" more value"+(s.length-d>0?"s":"")+"."):p}if(s instanceof Map&&f instanceof Map){var v=!0,b=!1,w=void 0;try{for(var T,S=s.entries()[Symbol.iterator]();!(v=(T=S.next()).done);v=!0){var x=_slicedToArray(T.value,2),k=x[0],O=x[1];if(!f.has(k))return l&&a.create("operation","I can't unpack this datamap because it needs a '"+k+"' data name.");p=p.concat(e(O,r.isPrototypeOf(c)?r.create(c,k):f.get(k)))}}catch(e){b=!0,w=e}finally{try{!v&&S.return&&S.return()}finally{if(b)throw w}}return p}if(t.isPrototypeOf(s)){if("function"==typeof s.datatype.destructure)return[{dest:s,value:f,src:c}].concat(s.datatype.destructure(f));if(!o(f,s.datatype))return[l&&a.create("operation","I can't unpack "+i(f)+" into "+s.varRef.TwineScript_ToSource()+" because it doesn't match "+i(s.datatype)+".")];p=p.concat(e(s.datatype,f))}return r.isPrototypeOf(s)||t.isPrototypeOf(s)?p.concat({dest:s,value:f,src:c}):"function"==typeof s.destructure?p.concat(s.destructure(f)):o(f,s)?p:l&&a.create("operation","I tried to unpack, but "+i(s)+" in the pattern didn't match "+i(f)+".")}(this.dest,this.src);if(s=a.containsError(u))return s;if(!u.length)return a.create("operation","I can't store a new value inside "+i(this.dest)+" that isn't in a variable.","You need a variable, or a data structure containing variables at certain positions, to store the value.");var l=!0,p=!1,f=void 0;try{for(var d,h=u.reverse()[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var y=d.value,m=y.dest,g=y.value,v=y.src;if(t.isPrototypeOf(m)){if(s=a.containsError(m.defineType()))return s;m=m.varRef}if(s=m.set(g),a.isPrototypeOf(s))return s;e&&v&&v.delete(),c.shift(i(m)+" is now "+i(g))}}catch(e){p=!0,f=e}finally{try{!l&&h.return&&h.return()}finally{if(p)throw f}}return c.join("; ")},create:function(e,t,n){return Object.assign(Object.create(this),{dest:e,src:t,operator:n})}})}),define("twinescript/operations",["jquery","state","datatypes/assignmentrequest","utils/operationutils","internaltypes/varref","datatypes/typedvar","datatypes/datatype","internaltypes/twineerror"],function(e,t,n,r,a,i,o,s){var c=r.isObject,u=r.collectionType,l=r.is,p=r.isA,f=r.clone,d=r.unique,h=r.contains,y=r.matches,m=r.objectName,g=void 0,v=0;function b(e,t,n,r){return n=n||"do this to",function(a,i){1===t.length&&(i=a);var o;return(o=s.containsError(a,i))?o:(void 0===a?"undefined":_typeof(a))!==e||(void 0===i?"undefined":_typeof(i))!==e?s.create("operation","I can only "+n+" "+e+"s, not "+m((void 0===a?"undefined":_typeof(a))!==e?a:i)+".",r):t(a,i)}}function w(e){return function(t,n){var r;if(r=s.containsError(t,n))return r;if((void 0===t?"undefined":_typeof(t))!==(void 0===n?"undefined":_typeof(n))||c(t)&&"TwineScript_TypeName"in t&&c(n)&&"TwineScript_TypeName"in n&&t.TwineScript_TypeName!==n.TwineScript_TypeName||u(t)!==u(n)){var a=m(t)+" isn't the same type of data as "+m(n);return s.create("operation",a[0].toUpperCase()+a.slice(1))}return e(t,n)}}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function r(a,i){var o=void 0;if(o=s.containsError(a,i))return o;v=a;var c=a.determiner?[a,i]:i.determiner?[i,a]:[],u=_slicedToArray(c,2),l=u[0],p=u[1];if(l){var f=l.determiner;if("start"===f||"end"===f){if(t)return s.create("operation","I can't use '"+t+"' with the 'start' or 'end' of "+m(l)+".");if(p.determiner){if("start"===p.determiner||"end"===p.determiner)return s.create("operation","I can't compare one value's 'start' or 'end' with another value's 'start' or 'end'.","Please change one of them to use an exact range, such as '1stto4th' or '2ndlasttolast'.");var d=[p,l];l=d[0],p=d[1]}for(var h=l.string||l.array,y=0;y<h.length+1;y+=1){var g=y?"end"===f?h.slice(-y):h.slice(0,y):h.constructor(),b=l===a?r(g,i):r(a,g);if(o=s.containsError(b))return o;if(b!==n)return b}return n}var w="all"===f;return l.array.reduce(function(e,t){var n,o=l===a?r(t,i):r(a,t);return(n=s.containsError(e,o))?n:w?e&&o:e||o},w)}return e(a,i)}}function S(e,t){return T(function(t,n){var r=e(t,n);return s.containsError(r)?r:!r},t,!0)}var x="If one of these values is a number, you may want to write a check that it 'is not 0'. Also, if one is a string, you may want to write a check that it 'is not \"\" '.";return g={create:function(n){var r=Object.create(this);return r.Identifiers={TwineScript_Identifiers:!0,get it(){return v},get time(){return n.stackTop&&n.stackTop.evaluateOnly?s.create("operation","'time' can't be used in "+n.stackTop.evaluateOnly+"."):Date.now()-n.timestamp},get visits(){var e=n.stackTop.speculativePassage,r=function(n){return n===(e||t.passage)};return t.pastPassageNames().filter(r).length+t.mockVisits.filter(r).length+(!e||e===t.passage)},get visit(){return r.Identifiers.visits},get exits(){return n.stackTop&&n.stackTop.evaluateOnly?s.create("operation","'exit' and 'exits' can't be used in "+n.stackTop.evaluateOnly+"."):n.dom.find("tw-enchantment, tw-link").filter(function(t,n){return e(n).data("enchantmentEvent")||e(n).parent().data("linkPassageName")||e(n).parent().data("clickEvent")}).length},get exit(){return r.Identifiers.exits},get pos(){return n.stackTop&&!n.stackTop.evaluateOnly&&n.stackTop.lambdaPos?+n.stackTop.lambdaPos||1:s.create("operation","'pos' can only be used in lambdas that aren't 'when' lambdas.")}},r},elidedComparisonOperator:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return r.reduce(function(n,r){return"boolean"==typeof r?r:g[e](n,g[t](v,r))},"and"===e)},and:b("boolean",w(function(e,t){return e&&t}),"use 'and' to join",x),or:b("boolean",w(function(e,t){return e||t}),"use 'or' to join",x),not:b("boolean",function(e){return!e},"use 'not' to invert",x),"+":w(function(e,t){if(Array.isArray(e))return[].concat(_toConsumableArray(e),_toConsumableArray(t));var n=void 0;return e instanceof Map?(n=new Map(e),t.forEach(function(e,t){return n.set(t,e)}),n):e instanceof Set?new Set([].concat(_toConsumableArray(e),_toConsumableArray(t)).filter(d).map(f)):"function"==typeof e["TwineScript_+"]?e["TwineScript_+"](t):"string|number|boolean".includes(void 0===e?"undefined":_typeof(e))?e+t:s.create("operation","I can't use + on "+m(e)+".")}),"-":w(function(e,t){if(Array.isArray(e))return e.filter(function(e){return!t.some(function(t){return l(e,t)})});if(e instanceof Set){var n=[].concat(_toConsumableArray(t));return new Set([].concat(_toConsumableArray(e)).filter(function(e){return!n.some(function(t){return l(e,t)})}))}return"string"==typeof e?e.split(t).join(""):"number"==typeof e?e-t:s.create("operation","I can't use - on "+m(e)+".")}),"*":b("number",w(function(e,t){return e*t}),"multiply"),"/":b("number",w(function(e,t){return 0===t?s.create("operation","I can't divide "+m(e)+" by zero."):e/t}),"divide"),"%":b("number",w(function(e,t){return 0===t?s.create("operation","I can't modulo "+m(e)+" by zero."):e%t}),"modulus"),"<":T(b("number",w(function(e,t){return e<t}),"do < to"),"<"),">":T(b("number",w(function(e,t){return e>t}),"do > to"),">"),"<=":T(b("number",w(function(e,t){return e<=t}),"do <= to"),"<="),">=":T(b("number",w(function(e,t){return e>=t}),"do >= to"),">="),is:T(l),isNot:S(l),contains:T(h,"contains"),doesNotContain:S(h,"does not contain"),isIn:T(function(e,t){return h(t,e)},"is in"),isNotIn:S(function(e,t){return h(t,e)},"is not in"),isA:T(p,"is a"),isNotA:S(p,"is not a"),typifies:T(function(e,t){return p(t,e)}),untypifies:S(function(e,t){return p(t,e)}),matches:T(y),doesNotMatch:S(y),where:function(e,t,n){var r;return(r=s.containsError(e))?r:"boolean"!=typeof e?s.create("operation","This lambda's 'where' clause must evaluate to true or false, not "+m(e)+"."):e?t:n},makeSpreader:function(e){if(i.isPrototypeOf(e)||o.isPrototypeOf(e)){var t=f(e);return(i.isPrototypeOf(e)?t.datatype:t).rest=!0,t}return{value:e,spreader:!0,TwineScript_TypeName:"a spreaded '...' value",TwineScript_ObjectName:"a spreaded '...' value",TwineScript_Unstorable:!0}},makeAssignmentRequest:function(e,t,r){var a=s.containsError(e,t);return a||n.create(e,t,r)},setIt:function(e){return a.isPrototypeOf(e)||i.isPrototypeOf(e)?(v=e.get(),e):e},initialiseIt:function(e){v=e}},Object.freeze(g)}),define("twinescript/environ",["macros","state","utils","datatypes/colour","datatypes/hookset","datatypes/lambda","datatypes/datatype","datatypes/varbind","datatypes/codehook","datatypes/typedvar","internaltypes/varref","internaltypes/twineerror","twinescript/operations"],function(Macros,State,Utils,Colour,HookSet,Lambda,Datatype,VarBind,CodeHook,TypedVar,VarRef,TwineError,OperationsProto){return function(section){"object"===(void 0===section?"undefined":_typeof(section))&&section||Utils.impossible("TwineScript.environ","no Section argument was given!");var Operations=OperationsProto.create(section);return section.eval=function(){try{return eval(arguments[0])}catch(e){return e}},section}}),define("section",["jquery","utils","renderer","twinescript/environ","twinescript/operations","state","utils/operationutils","utils/renderutils","datatypes/changercommand","datatypes/hookset","datatypes/colour","datatypes/lambda","internaltypes/changedescriptor","internaltypes/varscope","internaltypes/twineerror","internaltypes/twinenotifier"],function(e,t,n,r,a,i,o,s,c,u,l,p,f,d,h,y){var m,g=o.printBuiltinValue,v=o.objectName,b=o.typeID,w=s.collapse;function T(e,n,r){if(n&&"object"===(void 0===n?"undefined":_typeof(n))&&c.isPrototypeOf(n)){if(r.data("originalSource",r.popAttr("source")),!this.renderInto(r.data("originalSource"),r,n)){var a=t.insensitiveName(e.attr("name"));if(["if","elseif","unless","else","testfalse"].includes(a)&&(e.addClass("false"),"elseif"!==a&&(this.stackTop.lastHookShown=!1)),r.data("live")){var i=r.data("live"),o=i.delay,s=i.event;(function(e,n){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;i&&t.assertMustHave(i,["when"]);var o=n.data("originalSource")||"",s=_slicedToArray(this.stack,1)[0].tempVariables,c=this.whenUnblocked.bind(this,function(){if(r.inDOM()){var t=i&&i.filter(r,[!0],s);h.containsError(t)?t.render(e.attr("title")).replaceAll(e):!i||t[0]?(r.renderInto(o,n,{append:"replace"}),t||n.find("tw-expression[name='stop']").length||r.inDOM()&&setTimeout(c,a)):setTimeout(c,a)}});setTimeout(c,a)}).call(this,e,r,o,s)}return}}else{if(!1===n)return r.attr("source")&&(r.data("originalSource",r.popAttr("source")),r.data("hidden",!0)),e.addClass("false"),void(this.stackTop.lastHookShown=!1);!0!==n&&e.replaceWith(h.create("datatype",v(n)+" cannot be attached to this hook.","Only Booleans and changers can be attached to hooks.").render(e.attr("title")))}this.stackTop.lastHookShown=!0}function S(t){var n=(t instanceof e?t[0]:t).nextSibling;if(n&&(n instanceof Text&&!n.textContent.trim()||["br","tw-consecutive-br"].includes((n.tagName||"").toLowerCase()))){var r=S(n),a=r.whitespace,i=r.nextElem;return{whitespace:e(n).add(a),nextElem:i}}return{whitespace:e(),nextElem:e(n)}}var x={add:[],remove:[]};return m={create:function(e){var n=Object.assign(Object.create(this),{timestamp:Date.now(),dom:e||t.storyElement,stack:[],enchantments:[],unblockCallbacks:[]});return n=r(n)},get stackTop(){return this.stack[0]},inDOM:function(){return e(t.storyElement).find(this.dom).length>0},evaluateTwineMarkup:function(t,n){var r=e("<p>");this.stack.unshift({desc:f.create({target:r,source:t,section:this,append:"append"}),tempVariables:this.stackTop.tempVariables,evaluateOnly:n,finalIter:!0}),this.execute();var a;return(a=r.find("tw-error")).length>0?a:r},speculate:function(e,t,n){this.stack.unshift({evaluateOnly:n,finalIter:!0,tempVariables:Object.assign(Object.create(d),{TwineScript_VariableStoreName:n}),speculativePassage:t});var r=void 0;return r=p.isPrototypeOf(e)?e.apply(this,{fail:!1,pass:!0}):this.eval(e),this.stack.shift(),r},renderInto:function(t,n,r){var a=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=f.create({target:n,source:t,section:this,append:"append"});if(r)if(c.isPrototypeOf(r)){var s=r.run(o);if(h.containsError(s))return s.render(n.attr("title")).replaceAll(n),!1}else Object.assign(o,r);if((n=o.target,this.stack.length>=50)&&this.stack.reduce(function(e,t){return e+!!t.finalIter},0)>=50)return h.create("infinite","Printing this expression may have trapped me in an infinite loop.").render(n.attr("title")).replaceAll(n),!1;var u=function(t,r,i){var o=n instanceof e&&n.is("tw-hook")&&n.parents("tw-collapsed,[collapsing=true]").length>0;a.stack.unshift({desc:t,finalIter:i,tempVariables:r,collapses:o,evaluateOnly:a.stackTop&&a.stackTop.evaluateOnly})};if(i||(i=Object.create(this.stack.length?this.stackTop.tempVariables:d)),!i.hasOwnProperty("TwineScript_VariableStoreName")){var l=n&&n.tag();i.TwineScript_VariableStoreName="tw-hook"===l?n.attr("name")?"?"+n.attr("name"):"an unnamed hook":"tw-expression"===l?"a "+n.attr("type")+" expression":"tw-passage"===l?"this passage":"an unknown scope"}return Object.keys(o.loopVars).length?function(){var e=Object.assign({},o.loopVars),t=Math.min.apply(Math,_toConsumableArray(Object.keys(e).map(function(t){return e[t].length})));if(y.create(t+" loop"+(1!==t?"s":"")).render().prependTo(n),t){for(var r=function(n){u(o,Object.keys(e).reduce(function(t,r){return t[r]=e[r][n],t},Object.create(i),n===t-1))},s=t-1;s>=0;s-=1)r(s);for(s=t-1;s>=0&&!a.stackTop.blocked;s-=1)a.execute()}}():(u(o,i,!0),this.execute()),0===this.stack.length&&this.updateEnchantments(),o.enabled},execute:function(){var n=this,r=this.stackTop,i=r.desc,o=r.dom,s=r.collapses,u=r.evaluateOnly;i&&!o&&(o=i.render(),this.stackTop.dom=o,this.stackTop.desc=void 0),o.findAndFilter("tw-hook,tw-expression").each(function(r,i){if(n.stackTop.blocked)return!1;switch((i=e(i)).tag()){case"tw-hook":var o=i.popAttr("source")||"";if(o&&i.data("originalSource",o),i.data("tempVariables",n.stackTop.tempVariables),i.popAttr("hidden")){i.data("hidden",!0);break}o&&n.renderInto(o,i);break;case"tw-expression":if(i.attr("blockers")){if(u)return void i.removeAttr("blockers").removeAttr("js").replaceWith(h.create("syntax","I can't use a macro like (prompt:) or (confirm:) in "+u+".","Please rewrite this without putting such macros here.").render(i.attr("title"),i));var s=[];try{s=JSON.parse(i.popAttr("blockers")),i.data("blockers",s)}catch(e){t.impossible("Section.execute","JSON.parse blockers failed.")}}if(i.data("blockers")){var p=i.data("blockers");if(p.length){n.stackTop.blocked=!0;var d=n.eval(p.shift());return h.containsError(d)&&(n.stackTop.blocked=!1,i.removeData("blockers").replaceWith(d.render(i.attr("title"),i))),!1}i.removeData("blockers")}i.attr("js")&&function(n){var r=this.eval(n.popAttr("js")||"");this.stackTop.evaluateOnly&&r&&(c.isPrototypeOf(r)||"function"==typeof r.TwineScript_Run)&&(r=h.create("syntax","I can't work out what "+this.stackTop.evaluateOnly+" should evaluate to, because it contains a "+(c.isPrototypeOf(r)?"changer.":"command."),"Please rewrite this without putting changers or commands here."));var i=void 0,o=void 0,s=e();for(o=n;c.isPrototypeOf(r);){var u=S(o);if(i=u.whitespace,(o=u.nextElem)[0]instanceof Text&&"+"===o[0].textContent.trim()){var p,d=o,m=S(d);if(p=m.whitespace,(o=m.nextElem).is("tw-expression")){var w=this.eval(o.popAttr("js"));if(h.containsError(w)){r=w;break}var x=a["+"](r,w);e(i).add(d).add(p).remove(),r=h.containsError(x)?h.create("operation","I can't combine "+v(r)+" with "+v(w)+".","function"==typeof w.TwineScript_Run?"If you want to attach this changer to "+v(w)+", remove the + between them.":"Changers can only be added to other changers."):x;continue}}if(o.is("tw-expression")){var k=this.eval(o.popAttr("js"));if(h.containsError(k)){r=k;break}if(k&&"object"===(void 0===k?"undefined":_typeof(k))&&"function"==typeof k.TwineScript_Attach){r=k.TwineScript_Attach(this,r);break}return c.isPrototypeOf(k)?void n.replaceWith(h.create("operation","Changers like ("+r.macroName+":) need to be combined using + between them.","Place the + between the changer macros, or the variables holding them. The + is absent only between a changer and its attached hook or command.").render(n.attr("title"))):void n.replaceWith(h.create("operation",v(k)+" can't have changers like ("+r.macroName+":) attached.","Changers placed just before hooks, links and commands will attempt to attach, but in this case it didn't work.").render(n.attr("title")))}if(o.is("tw-hook")){i.remove(),s=o;break}r.macroName||t.impossible("Section.runExpression","changer has no macroName");var O=n.attr("title")||"("+r.macroName+": ...)";return void n.replaceWith(h.create("syntax","The ("+r.macroName+":) changer should be stored in a variable or attached to a hook.","Macros like this should appear before a hook: "+O+"[Some text]").render(n.attr("title")))}n.attr("return",b(r)),s=s.length?s:S(n).nextElem.filter("tw-hook");var j=void 0;if(j=h.containsError(r))j instanceof Error&&(j=h.fromError(j)),n.replaceWith(j.render(n.attr("title"),n));else if(y.isPrototypeOf(r))n.append(r.render());else if(r&&"function"==typeof r.TwineScript_Run)if(r=r.TwineScript_Run(this),h.containsError(r))n.replaceWith(r.render(n.attr("title")));else if(f.isPrototypeOf(r)){if(r.data&&r.data.live)return void n.replaceWith(h.create("unimplemented","I currently can't attach (live:) or (event:) macros to commands - only hooks.").render(n.attr("title")));r.section=this,r.target=o,this.renderInto("",o,r)}else{if("blocked"===r)return this.stackTop.blocked=!0,void n.attr("js","section.blockedValue()");r&&t.impossible("Section.runExpression","TwineScript_Run() returned a non-ChangeDescriptor "+(void 0===r?"undefined":_typeof(r))+': "'+r+'"')}else!s.length&&("string"==typeof r||"number"==typeof r||r instanceof Map||r instanceof Set||Array.isArray(r)||l.isPrototypeOf(r))||r&&"function"==typeof r.TwineScript_Print&&!c.isPrototypeOf(r)?(r=g(r),h.containsError(r)?(r instanceof Error&&(r=h.fromError(r)),n.replaceWith(r.render(n.attr("title")))):"string"!=typeof r?t.impossible("printBuiltinValue() produced a non-string "+(void 0===r?"undefined":_typeof(r))):this.renderInto(r,n)):s.length?T.call(this,n,r,s):c.isPrototypeOf(r)||"boolean"==typeof r||t.impossible("Section.runExpression","The expression evaluated to an unknown value: "+r)}.call(n,i)}}),this.stackTop.blocked||(o.length&&s&&w(o),o.findAndFilter("tw-collapsed,[collapsing=true]").each(function(){w(e(this))}),this.stack.shift())},updateEnchantments:function(){this.enchantments.forEach(function(e){e.disenchant(),e.enchantScope()})},on:function(e,t){return x[e].push(t),this},addEnchantment:function(e){var t=this;this.enchantments.push(e),x.add.forEach(function(n){return n(t,e)})},removeEnchantment:function(e){var t=this,n=this.enchantments.indexOf(e);this.enchantments.splice(n,1),e.disenchant(),x.remove.forEach(function(n){return n(t,e)})},unblock:function(e){for(this.stack.length||t.impossible("Section.unblock","stack is empty"),this.stackTop.blocked=!1,void 0!==e&&(this.stackTop.blockedValues=(this.stackTop.blockedValues||[]).concat(e));this.stack.length&&!this.stackTop.blocked;)this.execute();if(!this.stack.length)for(;this.unblockCallbacks.length>0;){if(this.unblockCallbacks.shift()(),this.stackTop&&this.stackTop.blocked)return}},whenUnblocked:function(e){this.stack.length&&this.stackTop.blocked?this.unblockCallbacks=this.unblockCallbacks.concat(e):e()},blockedValue:function(){var e=this.stackTop;return e||t.impossible("Section.blockedValue","stack is empty"),e.blockedValues&&e.blockedValues.length||t.impossible("Section.blockedValue","blockedValues is missing or empty"),e.blockedValues.shift()}},Object.preventExtensions(m)}),define("engine",["jquery","utils","state","section","passages"],function(e,t,n,r,a){var i,o=t.escape,s=t.impossible,c=t.passageSelector,u=t.transitionOut,l=Object.create(null);function p(e,t){return"<tw-include type="+e+" title='"+o(t.get("name"))+"'>"+t.get("source")+"</tw-include>"}function f(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.assertOnlyHas(o,["stretch","transition"]);var f=a.get(i),d=t.storyElement,h=d.parent(),y=o.stretch,m=o.transition,g=(m=void 0===m?{}:m).depart,v=void 0===g?"instant":g,b=m.arrive,w=void 0===b?"dissolve":b,T=m.departOrigin,S=m.arriveOrigin,x=m.time;h.findAndFilter("tw-enchantment").each(function(t,n){var r=(n=e(n)).data("enchantedProperties");r&&d.css(r.reduce(function(e,t){return e[t]="",e},{})),n[0]===h[0]&&(h=d.unwrap().parent())}),a.hasValid(i)||s("Engine.showPassage","There's no passage with the name \""+i+'"!');var k,O,j,A,C=d.children(c).not(".transition-out, .transition-out *"),E=(f.get("tags")||[]).join(" "),_=(k=e("<tw-passage><tw-sidebar>"),O=k.children("tw-sidebar"),j=e('<tw-icon tabindex=0 alt="Undo" title="Undo">&#8630;</tw-icon>'),A=e('<tw-icon tabindex=0 alt="Redo" title="Redo">&#8631;</tw-icon>'),n.pastLength<=0&&j.css("visibility","hidden"),n.futureLength<=0&&A.css("visibility","hidden"),O.append(j,A),k);"function"==typeof T&&(T=T.call(C)),"function"==typeof S&&(S=S.call(_)),d.detach(),_.appendTo(d).attr({tags:E}),!y&&v&&(u(C,v,x,0,0,0,T),C.css("position","absolute")),d.attr({tags:E});var N=r.create(_),P=f.get("source");P=a.getTagged("header").map(p.bind(0,"header")).join("")+(l.debug?a.getTagged("debug-header").map(p.bind(0,"debug-header")).join(""):"")+P+a.getTagged("footer").map(p.bind(0,"footer")).join("")+(l.debug?a.getTagged("debug-footer").map(p.bind(0,"debug-footer")).join(""):""),n.pastLength<=0&&(l.debug&&(P=a.getTagged("debug-startup").map(p.bind(0,"debug-startup")).join("")+P),P=a.getTagged("startup").map(p.bind(0,"startup")).join("")+P),N.renderInto(P,_,{transition:w,transitionTime:x,transitionOrigin:S}),h.append(d.parents().length?d.parents().last():d),scroll(0,y?_.offset().top-.05*e(window).height():d.offset().top)}return i={goBack:function(e){n.rewind()&&f(n.passage,e)},goForward:function(e){n.fastForward()&&f(n.passage,e)},goToPassage:function(e,t){n.play(e),f(e,t)},toggleFullscreen:function(){var e=document.documentElement;document.fullscreenElement?document.exitFullscreen():document.msFullscreenElement?document.msExitFullscreen():(e.msRequestFullscreen||e.requestFullscreen).call(e)},showPassage:f,options:l},Object.freeze(i)}),define("debugmode/panel",["jquery"],function(e){return Object.freeze({create:function(t){var n=t.className,r=t.rowAdd,a=t.rowCheck,i=t.columnHead,o=t.tabName,s=t.tabUpdate,c=e("<div class='panel panel-"+n+"' hidden><table class='panel-rows'></table></div>"),u=e("<button class='tab tab-"+n+"'>0 "+o+"s</button>");return u.click(function(){u.toggleClass("enabled"),u.parent().siblings(".panel").attr("hidden",""),u.is(".enabled")&&(u.siblings(".tab:not(.tab-"+n+")").removeClass("enabled"),c.removeAttr("hidden"))}),s||(s=function(e){return u.text(e+" "+o+(1!==e?"s":""))}),Object.assign(Object.create(this),{tabName:o,tab:u,panel:c,panelRows:c.find(".panel-rows"),rowAdd:r,rowCheck:a,columnHead:i,tabUpdate:s})},update:function(t,n){var r=this.rowCheck,a=this.rowAdd,i=this.panelRows,o=this.columnHead,s=[],c=i.children();t.forEach(function(t){var n=c.filter(function(n,a){return r(t,e(a))}),o=a(t);n.length?n.replaceWith(o):i.append(o),s.push(o[0])}),c.filter(function(e,t){return!s.includes(t)}).remove(),this.tabUpdate(n),n>0&&!i.find(".panel-head").length?i.prepend(o()):0===n&&i.find(".panel-head").remove()}})}),define("debugmode/mode",["jquery","utils","state","internaltypes/varref","internaltypes/twineerror","utils/operationutils","engine","passages","section","debugmode/panel"],function(e,t,n,r,a,i,o,s,c,u){var l=t.escape,p=t.nth,f=t.storyElement,d=t.debounce,h=i.objectName,y=i.isObject,m=i.toSource;return function(t,i){var g=e(document.documentElement),v=e("<tw-debugger>\n\t\t<div class='panel panel-errors' hidden><table></table></div>\n\t\t<div class='tabs'></div>\n\t\t<label style='user-select:none'>Turns: </label><select class='turns' disabled></select><button class='show-invisibles'>Debug View</button><button class='show-dom'>DOM View</button>\n\t\t<div class='resizer'>\n\t\t</tw-debugger>"),b=v.find(".tabs"),w=v.find(".show-dom"),T=v.find(".show-invisibles"),S=v.find(".turns");v.find(".resizer").mousedown(function(e){if(1!==e.which)return!0;e.stopPropagation();var t=e.pageX,n=v.width();g.on("mousemove.debugger-resizer",function(e){var r=e.pageX;v.width((n+t-r|0)+"px")}).on("mouseup.debugger-resizer",function(){g.off(".debugger-resizer")})}),T.click(function(){g.toggleClass("debug-mode").removeClass("dom-debug-mode"),T.toggleClass("enabled"),w.removeClass("enabled")}),w.click(function(){g.toggleClass("dom-debug-mode").removeClass("debug-mode"),w.toggleClass("enabled"),T.removeClass("enabled")}),n.timelinePassageNames().forEach(function(e,t){S.append("<option value="+t+">"+(t+1)+": "+e+"</option>")}),S.val(n.pastLength),n.pastLength>0&&S.removeAttr("disabled"),S.change(function(e){var t=e.target.value-n.pastLength;0!==t&&(n[t<0?"rewind":"fastForward"](Math.abs(t)),o.showPassage(n.passage))}),n.on("forward",function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=n.pastLength;a>=1&&S.removeAttr("disabled"),r?(S.find("[selected]").removeAttr("selected"),S.val(a)):(S.children().each(function(t,n){t>=a&&e(n).remove()}),S.append("<option value="+a+">"+(a+1)+": "+t+"</option>").val(a))}).on("back",function(){n.pastLength<=1&&S.attr("disabled"),S.find("[selected]").removeAttr("selected"),S.val(n.pastLength)}).on("load",function(e){S.empty(),S[e.length<=1?"attr":"removeAttr"]("disabled"),e.forEach(function(e,t){return S.append("<option value="+t+">"+(t+1)+": "+e.passage+"</option>")})});var x=new Set,k=u.create({className:"variables",tabName:"Variable",rowAdd:function(t){var n=t.name,r=t.dataset,a=t.path,i=t.value,o=t.tempScope,s=t.type,c=y(i)&&i.TwineScript_DebugName?i.TwineScript_DebugName():l(h(i)),u="";a.length&&(u=a.reduce(function(e,t){return e+t+"'s "},"")),r&&(n="???");var p=s?m(s):"",f=c.length>48&&!i.TwineScript_DebugName,d="object"===(void 0===i?"undefined":_typeof(i))||f,g=f?c.slice(0,48)+"\u2026":c;return e('<div class="variable-row">').attr("data-name",n).attr("data-path",a+"").attr("data-scope",o||"").css("padding-left",Math.min(5,a.length)+"em").append("<td class='variable-type'>"+(p?p+"-type ":"")+"</td>","<td class='variable-name'>"+(u?"<span class='variable-path'>"+(o?"_":"$")+l(u)+"</span> ":"")+(u?"":o?"_":"$")+l(n+"")+"</td>","<td class='temporary-variable-scope'>"+(o||"")+"</td>","<td class='variable-value'>"+g+"</td><td class='panel-row-buttons'>"+(d?"<tw-folddown tabindex=0>(source:) </tw-folddown>":"")+"</td>").add(d?"<tr class='variable-row panel-row-source' style='display:none'><td colspan='5'>"+l(m(i))+"</td></tr>":"")},rowCheck:function(e,t){var n=e.name,r=e.path;e.tempScope;return t.attr("data-name")===n&&t.attr("data-path")===r+""},columnHead:function(){return'<tr class="panel-head"><th>Type</th><th>Name</th><th>Scope</th><th>Value</th></tr>'}}),O=d(function(){var e=[],t=n.variables,r=e.length;function a(t){if(!(e.length>500)){e.push(t);var n=t.path.concat(t.name),r=t.value,i=t.tempScope;Array.isArray(r)?r.forEach(function(e,t){return a({name:p(t+1),path:n,value:e,tempScope:i})}):r instanceof Map?[].concat(_toConsumableArray(r)).forEach(function(e){var t=_slicedToArray(e,2),r=t[0],o=t[1];return a({name:r,path:n,value:o,tempScope:i})}):r instanceof Set&&[].concat(_toConsumableArray(r)).forEach(function(e,t){return a({name:t,dataset:!0,path:n,value:e,tempScope:i})})}}for(var i in t)i.startsWith("TwineScript")||(r+=1,a({name:i,path:[],value:t[i],tempScope:"",type:t.TwineScript_TypeDefs&&t.TwineScript_TypeDefs[i]}));e.push.apply(e,_toConsumableArray(x)),r+=x.size,k.update(e,r),k.panel[(r?"remove":"add")+"Class"]("panel-variables-empty")}),j=void 0;r.on("set",function(e,t,r){if(e!==n.variables&&e.TwineScript_VariableStoreName&&!e.TwineScript_VariableStoreName.match(/#\d+$/)){var a=e.TwineScript_VariableStoreName,i=e.TwineScript_TypeDefs&&e.TwineScript_TypeDefs[t],o=[].concat(_toConsumableArray(x)).find(function(e){return e.name===t&&e.tempScope===a});o?o.value=r:x.add({name:t,path:[],value:r,tempScope:a,type:i})}O(),j()}).on("delete",function(){O(),j()}),k.panel.append("<div class='panel-variables-bottom'>\n\t\t\t<button class='panel-variables-copy'>Copy $ variables as (set:) call</button>\n\t\t\t<input class='clipboard' type=\"text\" style='opacity:0;pointer-events:none;position:absolute;'></input>\n\t\t</div>").removeAttr("hidden"),k.tab.addClass("enabled");var A=k.panel.find(".clipboard");g.on("click",".panel-variables-copy",function(){var e=[];for(var t in n.variables)t.startsWith("TwineScript")||e.push("$"+t+" to "+m(n.variables[t]));A.val("(set:"+e+")")[0].select(),document.execCommand("copy")});var C=u.create({className:"enchantments",tabName:"Enchantment",rowAdd:function(t){var n=t.scope,r=t.changer,a=t.name,i=t.localHook,o=void 0;return o=r?l(h(r)):"<em>enchanted via ("+a+":)</em>",e('<div class="enchantment-row">').data("enchantment",t).append("<td><span class='enchantment-name'>"+m(n)+(i?"</span><span class=enchantment-local>"+("function"==typeof i.TwineScript_ToSource?i.TwineScript_ToSource():i.attr("name")?"?"+i.attr("name"):"an unnamed hook"):"")+"</span></td><td class='enchantment-value'>"+o+"</td>"+(r?"<td class='panel-row-buttons'><tw-folddown tabindex=0>(source:)</tw-folddown></td>":"")).add(r?"<tr class='panel-row-source' style='display:none'><td colspan='3'>"+l(m(r))+"</td></tr>":"")},rowCheck:function(e,t){return t.data("enchantment")===e},columnHead:function(){return'<tr class="panel-head"><th>Scope</th><th>Value</th></div>'}}),E=d(function(e){C.update(e.enchantments,e.enchantments.length)});c.on("add",E).on("remove",E);var _=c.create(f),N=u.create({className:"storylets",tabName:"Storylet",rowAdd:function(t){var n=t.name,r=t.active,a=t.storyletSource,i=t.exclusive,o=t.urgent;return e('<tr class="storylet-row '+(r?"":"storylet-closed")+'">').attr("data-name",n).append("<td class='storylet-name'>"+n+"</td><td class='storylet-lambda'>"+a+"</td><td class='storylet-exclusive'>"+i+"</td><td class='storylet-urgent'>"+o+"</td>")},rowCheck:function(e,t){var n=e.name;return t.attr("data-name")===l(n+"")},columnHead:function(){return"<tr class=\"panel-head\"><th>Name</th><th>Condition</th><th class='storylet-exclusive'>Exclusivity</th><th class='storylet-urgent'>Urgency</th></tr>"}});N.tab.hide(),j=d(function(){var e=s.getStorylets(_),t=a.containsError(e),n=s.allStorylets();N.update(n.map(function(n){return{name:n.get("name"),storyletSource:n.get("storylet").TwineScript_ToSource(),active:!t&&e.some(function(e){return e.get("name")===n.get("name")}),exclusive:"number"==typeof n.get("exclusivity")?n.get("exclusivity"):0,urgent:"number"==typeof n.get("urgency")?n.get("urgency"):0}}),t?0:e.length),N.panel[(t?"add":"remove")+"Class"]("storylet-error");var r=n.some(function(e){return e.get("exclusivity")&&"number"==typeof e.get("exclusivity")}),i=n.some(function(e){return e.get("urgency")&&"number"==typeof e.get("urgency")});N.panel[(r?"add":"remove")+"Class"]("panel-exclusive"),N.panel[(i?"add":"remove")+"Class"]("panel-urgent"),n.length&&N.tab.show()});var P=u.create({className:"source",tabName:"Source",rowAdd:e.noop,rowCheck:e.noop,tabUpdate:e.noop,columnHead:e.noop});P.tab.text("Source");var I=u.create({className:"errors",tabName:"Error",rowAdd:e.noop,rowCheck:e.noop,columnHead:e.noop}),M=function(t,r){if("propagated"!==t.type){I.panelRows.children().length>500&&I.panelRows.children(":first-child").remove();var a=e('<tr class="error-row"><td class="error-passage">'+n.passage+'</td><td class="error-message">'+t.message+"</td></tr>");a.find(".error-message").attr("title",r),I.panelRows.append(a),I.tabUpdate(I.panelRows.children().length)}};function D(){if(x=new Set,O(),j(),C.panelRows.empty(),C.tabUpdate(0),n.passage){var e=s.get(n.passage);e&&P.panelRows.text(e.get("source"))}}a.on("error",M),v.prepend(k.panel,C.panel,I.panel,N.panel,P.panel),b.prepend(k.tab,C.tab,I.tab,N.tab,P.tab),n.on("forward",D).on("back",D).on("load",D),t&&(M(t,i),D()),e(document.body).append(v)}}),define("macrolib/values",["macros","utils","utils/operationutils","datatypes/colour","datatypes/gradient","datatypes/datatype","datatypes/hookset","internaltypes/twineerror"],function(e,t,n,r,a,i,o,s){var c=t.realWhitespace,u=t.nth,l=t.anyRealLetter,p=n.subset,f=n.objectName,d=n.clone,h=n.toSource,y=e.TypeSignature,m=y.rest,g=y.zeroOrMore,v=y.either,b=y.optional,w=y.insensitiveSet,T=y.numberRange,S=y.percent,x=y.nonNegativeInteger,k=y.positiveInteger,O=y.Any,j=Math.max,A=Math.min,C=Math.round,E=Math.floor,_=Math.ceil;function N(e){return function(){var t=e.apply(void 0,arguments);return"number"!=typeof t||isNaN(t)?s.create("macrocall","This mathematical expression doesn't compute!"):t}}e.add(["str","string","text"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.join("")},[g(e.TypeSignature.either(String,Number,Boolean,Array))])("source",function(e,t){return t&&"command"===t.TwineScript_TypeID&&!t.TwineScript_ToSource?s.create("datatype","I can't construct the source code of a command created by a custom macro."):h(t)},[O])("substring",function(e,t,n,r){return p(t,n,r)},[String,parseInt,parseInt])("lowercase",function(e,t){return t.toLowerCase()},[String])("uppercase",function(e,t){return t.toUpperCase()},[String])("lowerfirst",function(e,t){return t.replace(RegExp(l+"+"),function(e){return(e=Array.from(e))[0].toLowerCase()+e.slice(1).join("").toLowerCase()})},[String])("upperfirst",function(e,t){return t.replace(RegExp(l+"+"),function(e){return(e=Array.from(e))[0].toUpperCase()+e.slice(1).join("").toLowerCase()})},[String])("words",function(e,t){return t.split(RegExp(c+"+")).filter(Boolean)},[String])(["str-repeated","string-repeated"],function(e,t,n){return 0===n.length?s.create("macrocall","I can't repeat an empty string."):n.repeat(t)},[x,String])(["str-reversed","string-reversed"],function(e,t){return[].concat(_toConsumableArray(t)).reverse().join("")},[String])("joined",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return r.join(t)},[m(String)])("plural",function(e,t,n,r){return n&&""!==r?t+" "+(1!==Math.abs(t)?r||n+"s":n):s.create("macrocall","The (plural:) macro can't be given empty strings.")},[parseInt,String,b(String)])(["str-nth","string-nth"],function(e,t){return u(t)},[parseInt])(["num","number"],function(e,t){return Number.isNaN(+t)?s.create("macrocall","I couldn't convert "+f(t)+" to a number."):+t},[String])("datatype",function(e,t){return i.from(t)},[O])("datapattern",function(e,t){return function e(t){var n,r=void 0;return Array.isArray(t)?r=t.map(e):t instanceof Map?(r=new Map,[].concat(_toConsumableArray(t)).forEach(function(t){var n=_slicedToArray(t,2),a=n[0],i=n[1];return r.set(a,e(i))})):r=i.from(t),(n=s.containsError(r))?n:r}(t)},[O])(["rgb","rgba"],function(e){return r.create({r:arguments.length<=1?void 0:arguments[1],g:arguments.length<=2?void 0:arguments[2],b:arguments.length<=3?void 0:arguments[3],a:arguments.length<=4?void 0:arguments[4]})},[T(0,255),T(0,255),T(0,255),b(S)])(["hsl","hsla"],function(e,t,n,a,i){return(t=C(t)%360)<0&&(t+=360),r.create({h:t,s:n,l:a,a:i})},[Number,S,S,b(S)])(["lch","lcha"],function(e,t,n,a,i){return(a=C(a)%360)<0&&(a+=360),r.create({l:t,c:n,h:a,a:i})},[S,T(0,132),Number,b(S)])("complement",function(e,t){return t.LCHRotate(180)},[r])("palette",function(e,t,n){var a=n.toLCHA(),i=a.l,o={l:i<=.75?.75+i/3:.75-3*(1-i),c:80,h:a.h,a:1},s=void 0,c=void 0,u=void 0;return s=r.create(o),o.l+=i<=.75?-.1:.1,o.l<.5&&(o.l*=.5/o.l),c=r.create(o),o.l+=i<=.85?.15:-.15,u=r.create(o),"adjacent"===t?(c=(s=s.LCHRotate(-30)).LCHRotate(30),u=s.LCHRotate(60)):"triad"===t&&(u=s.LCHRotate(180),c=s.LCHRotate(140),s=s.LCHRotate(-140)),[n,s,c,u]},[w("mono","adjacent","triad"),r])("gradient",function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];if((t=C(t)%360)<0&&(t+=360),i.length<4)return s.create("datatype","(gradient:) must be given at least 2 colour-stop pairs of numbers and colours.");var c=void 0,u=[],l=i.reduce(function(e,t){if(s.containsError(e))return e;if(void 0===c)c=t;else{if("number"!=typeof c||!r.isPrototypeOf(t))return s.create("datatype","(gradient:) colour-stops should be pairs of numbers and colours, not colours and numbers.");u.push({stop:c,colour:d(t)}),c=void 0}return e},!0);return s.containsError(l)?l:void 0!==c?s.create("macrocall","This gradient has a colour-stop percent without a colour."):a.create(t,u)},[Number,m(v(S,r))])("stripes",function(e,t,n){for(var r=arguments.length,i=Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];(t=C(t)%360)<0&&(t+=360);var s=0,c=[];return i.forEach(function(e){c.push({stop:s,colour:d(e)}),s+=n,c.push({stop:s,colour:d(e)})}),a.create(t,c,!0)},[Number,k,r,m(r)])("hooks-named",function(e,t){return t?o.create({type:"name",data:t}):s.create("datatype","(hooks-named:) can't be given an empty string.")},[String])("cond",function(e){for(var t=0;t<(arguments.length<=1?0:arguments.length-1);t+=2){var n=arguments.length<=t+1?void 0:arguments[t+1];if(t===(arguments.length<=1?0:arguments.length-1)-1||s.containsError(n))return n;if("boolean"!=typeof n)return s.create("datatype","(cond:)'s "+u(t+1)+" value is "+f(n)+", but should be a boolean.");if(n)return arguments.length<=t+1+1?void 0:arguments[t+1+1]}return s.create("macrocall","An odd number of values must be given to (cond:), not "+(arguments.length<=1?0:arguments.length-1),"(cond:) must be given one or more pairs of booleans and values, as well as one final value.")},[Boolean,O,m(O)]),{weekday:[function(){return["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur"][(new Date).getDay()]+"day"},null],monthday:[function(){return(new Date).getDate()},null],currenttime:[function(){var e=new Date,t=e.getHours()<12;return(e.getHours()%12||12)+":"+((e.getMinutes()<10?"0":"")+e.getMinutes())+" "+(t?"A":"P")+"M"},null],currentdate:[function(){return(new Date).toDateString()},null],min:[A,m(Number)],max:[j,m(Number)],abs:[Math.abs,Number],sign:[Math.sign,Number],sin:[Math.sin,Number],cos:[Math.cos,Number],tan:[Math.tan,Number],floor:[E,Number],round:[C,Number],trunc:[function(e){return e>0?E(e):_(e)},Number],ceil:[_,Number],pow:[N(Math.pow),[Number,Number]],exp:[Math.exp,Number],sqrt:[N(Math.sqrt),Number],log:[N(Math.log),Number],log10:[N(Math.log10),Number],log2:[N(Math.log2),Number],random:[function(e,t){var n=void 0,r=void 0;return t?(n=A(e,t),r=j(e,t)):(n=0,r=e),r+=1,~~(Math.random()*(r-n))+n},[parseInt,e.TypeSignature.optional(parseInt)]],either:[function(){var e;return e=~~(Math.random()*arguments.length),arguments.length<=e?void 0:arguments[e]},m(O)],nth:[function(e){var t;return e<=0?s.create("datatype","(nth:)'s first value should be a positive whole number, not "+e):(t=(e-1)%(arguments.length<=1?0:arguments.length-1)+1,arguments.length<=t?void 0:arguments[t])},[parseInt,m(O)]],"":function(){var t=this;Object.keys(this).forEach(function(n){if(n){var r=t[n][0],a=t[n][1];e.add(n,function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return r.apply(void 0,n)},a)}})}}[""]()}),define("macrolib/commands",["jquery","macros","utils","state","passages","renderer","engine","internaltypes/twineerror","internaltypes/twinenotifier","datatypes/assignmentrequest","datatypes/hookset","datatypes/codehook","datatypes/lambda","datatypes/colour","datatypes/gradient","internaltypes/varref","datatypes/typedvar","datatypes/varbind","utils/operationutils","utils/renderutils"],function(e,t,n,r,a,i,o,s,c,u,l,p,f,d,h,y,m,g,v,b){var w=v.printBuiltinValue,T=v.objectName,S=v.clone,x=v.toSource,k=b.dialog,O=b.geomParse,j=b.geomStringRegExp,A=t.TypeSignature,C=A.Any,E=A.Everything,_=A.rest,N=A.either,P=A.optional,I=A.zeroOrMore,M=A.positiveInteger,D=A.positiveNumber,R=Object.assign,L=Math.floor,q=Math.ceil,F=Math.abs,V=Math.max,H=Math.min,z=e.noop;function $(e){return"("+e+" "+o.options.ifid+") "}["set","put","unpack"].forEach(function(e){return t.add(e,function(t){for(var n=0;n<(arguments.length<=1?0:arguments.length-1);n+=1){var r=arguments.length<=n+1?void 0:arguments[n+1];if("into"===r.operator&&"set"===e)return s.create("macrocall","Please say 'to' when using the (set:) macro.");if("to"===r.operator&&"set"!==e)return s.create("macrocall","Please say 'into' when using the (put:) or (unpack:) macro.");if((y.isPrototypeOf(r.dest)||m.isPrototypeOf(r.dest))===("unpack"===e))return s.create("macrocall","unpack"===e?"Please use the (unpack:) macro with arrays, datamaps or (p:) patterns containing variables to the right of 'into'.":"Please use the ("+e+":) macro with just single variables and typed variables to the "+("set"===e?"left of 'to'.":"right of 'into'."));var a=r.set();if(s.containsError(a))return a}return{TwineScript_TypeID:"instant",TwineScript_TypeName:"a ("+e+":) operation",TwineScript_ObjectName:"a ("+e+":) operation",TwineScript_Unstorable:!0,TwineScript_Print:function(){return o.options.debug,""}}},[_(u)])}),t.add("move",function(e){for(var t=0;t<(arguments.length<=1?0:arguments.length-1);t+=1){var n=arguments.length<=t+1?void 0:arguments[t+1];if("into"!==n.operator)return s.create("macrocall","Please say 'into' when using the (move:) macro.");var r=n.set(!0);if(s.containsError(r))return r}return{TwineScript_TypeID:"instant",TwineScript_TypeName:"a (move:) operation",TwineScript_ObjectName:"a (move:) operation",TwineScript_Unstorable:!0,TwineScript_Print:function(){return o.options.debug,""}}},[_(u)]),t.addCommand("display",function(e){if(!a.hasValid(e))return s.create("macrocall","I can't (display:) the passage '"+e+"' because it doesn't exist.")},function(e,t,r){return R(e,{source:n.unescape(a.get(r).get("source"))})},[String])("print",z,function(e,t,n){return R(e,{source:w(n)})},[C])(["verbatim-print","v6m-print"],z,function(e,t,n){return R(e,{verbatim:!0,source:w(n)})},[C])(["verbatim-source","v6m-source"],function(e){if(e&&"command"===e.TwineScript_TypeID&&!e.TwineScript_ToSource)return s.create("datatype","I can't construct the source code of a command created by a custom macro.")},function(e,t,n){return R(e,{verbatim:!0,source:w(x(n))})},[C])("go-to",function(e){if(!a.hasValid(e))return s.create("macrocall","I can't (go-to:) the passage '"+e+"' because it doesn't exist.")},function(e,t,n){return requestAnimationFrame(function(){return o.goToPassage(n,{transition:e.data.passageT8n})}),"blocked"},[String])("undo",z,function(e){return r.pastLength<1?s.create("macrocall","I can't (undo:) on the first turn."):(requestAnimationFrame(function(){return o.goBack({transition:e.data.passageT8n})}),"blocked")},[]),n.onStartup(function(){return e(n.storyElement).on("click.icon","tw-icon",function(t){var n=e(this),a=n.data("clickEvent"),i=n.attr("alt");a&&a(n),"Undo"===i&&(t.stopPropagation(),o.goBack()),"Redo"===i&&(t.stopPropagation(),o.goForward()),"Fullscreen"===i&&(t.stopPropagation(),o.toggleFullscreen()),"Restart"===i&&(r.hasSessionStorage&&sessionStorage.removeItem("Saved Session"),window.location.reload())})}),[["Undo","&#8630;",function(){return r.pastLength>0}],["Redo","&#8631;",function(){return r.futureLength>0}],["Fullscreen","&#9974;",function(){return document.fullscreenEnabled||document.msFullscreenEnabled}],["Restart","&#10226;",Object]].forEach(function(e){var n=_slicedToArray(e,3),r=n[0],a=n[1],i=n[2];t.addCommand("icon-"+r.toLowerCase(),function(e,t){if("string"==typeof e&&"string"==typeof t){var n=[].concat(_toConsumableArray(e)).length,a=[].concat(_toConsumableArray(t)).length;if(n>1&&a>1)return s.create("datatype","One of the two strings given to (icon-"+r.toLowerCase()+":) should be 1 character long, for its icon.");if(1===n&&1===a)return s.create("datatype","One of the two strings given to (icon-"+r.toLowerCase()+":) should be 2 or more characters long, for its label.")}},function(e,t,n,o){if("string"==typeof o&&1===[].concat(_toConsumableArray(o)).length||"string"==typeof n&&[].concat(_toConsumableArray(n)).length>1){var s=[o,n];n=s[0],o=s[1]}return R(e,{source:'<tw-icon tabindex=0 alt="'+r+'" '+(o?'data-label="'+o.replace('"',"&quot;")+'"':"")+' title="'+r+'" '+(i()?"":'style="visibility:hidden"')+">"+(n||a)+"</tw-icon>"})},[P(String),P(String)])}),t.addCommand("icon-counter",function(e,t,n){var r=" label string given to (icon-counter:) can't be empty or only whitespace.";return t&&t.trim()?"string"!=typeof n||n.trim()?void 0:s.create("datatype","The 2nd "+r):s.create("datatype","The 1st "+r)},function(e,t,r,a,i){e.attr.push({"data-2bind":!0}),e.data.twoWayBindEvent=function(t,n,o){if(r.varRef.matches(n,o)){var s=r.varRef.get();if("number"==typeof s)e.target.children("tw-icon").text(s>0?L(s):q(s)).attr("data-label",1!==F(s)&&void 0!==i?i:a)}};var o=r.varRef.get();return"number"!=typeof o?s.create("datatype","(icon-counter:) can only be bound to a variable holding a number, not "+T(o)+"."):R(e,{source:'<tw-icon data-label="'+n.escape(1!==F(o)&&void 0!==i?i:a)+'">'+(o>0?L(o):q(o))+"</tw-icon>"})},[g,String,P(String)]),t.addCommand("meter",function(e,t,n,r){return"string"!=typeof r||r.trim()?-1===n.search(j)||!n.includes("=")&&n.length>1?s.create("datatype",'The (meter:) macro requires a sizing line("==X==", "==X", "=XXXX=" etc.) be provided, not '+JSON.stringify(n)+"."):void 0:s.create("datatype","The label string given to (meter:) can't be empty or only whitespace.")},function(e,t,n,r,a,i,o){i&&"string"!=typeof i&&(o=i,i=void 0),o||(o=d.create({h:0,s:0,l:.5,a:.5})),d.isPrototypeOf(o)&&(o=h.create(90,[{colour:o,stop:0},{colour:o,stop:1}]));var c=O(a),u=c.marginLeft,l=c.size,p=u>0&&Math.ceil(u+l)<100,f=function(e){var t=V(0,H(1,e/r)),n=o.repeating?o:o.multiply(r/e);return"height:100%;background-repeat:no-repeat;background-image:"+(p?R(n,n.repeating?{}:{angle:270}).toLinearGradientString()+", ":"")+R(n,n.repeating?{}:{angle:p||0===u?90:270}).toLinearGradientString()+";background-size:"+(p?Array(2).fill(50*t+"%"):100*t+"%")+";background-position-x:"+(p?-100/(2-t)+100+"%,"+100/(2-t)+"%":0===u?"left":"right")+";text-align:"+(p?"center":0===u?"left":"right")};e.styles.push({"margin-left":u+"%",width:l+"%",height:"1.5em",display:"block"}),e.attr.push({"data-2bind":!0});var y=i&&t.stackTop.tempVariables;e.data.twoWayBindEvent=function(t,r,a){if(n.varRef.matches(r,a)){var o=n.varRef.get();if("number"==typeof o){var s=e.target.children("tw-meter");s.attr("style",f(o)),i&&e.section.renderInto("",null,{source:i,target:s,append:"replace",transitionDeferred:!1},y)}}};var m=n.varRef.get();return"number"!=typeof m?s.create("datatype","(meter:) can only be bound to a variable holding a number, not "+T(m)+"."):R(e,{source:'<tw-meter style="'+f(m)+'">'+(i||"")+"</tw-meter>"})},[g,D,String,P(N(String,d,h)),P(N(d,h))]),[["cycling-link"],["seq-link","sequence-link"]].forEach(function(e,n){return t.addCommand(e,function(){return""===(arguments.length<=0?void 0:arguments[0])?s.create("datatype","The first string in a ("+e[0]+":) can't be empty."):arguments.length<=(g.isPrototypeOf(arguments.length<=0?void 0:arguments[0])?2:1)?s.create("datatype","I need two or more strings to "+(n?"sequence":"cycle")+" through, not just '"+(t=arguments.length-1,arguments.length<=t?void 0:arguments[t])+"'."):void 0;var t},function(e,t){for(var r=arguments.length,a=Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];var o=void 0;g.isPrototypeOf(a[0])&&(o=a.shift());var c=0;if(o&&"two way"===o.bind){e.attr.push({"data-2bind":!0});var u=a.indexOf(o.varRef.get());u>-1&&(c=u)}var l=t.stackTop.tempVariables;function p(t,r){var i=c>=a.length-1&&n,u=""===a[c]?"":i?a[c]:"<tw-link>"+a[c]+"</tw-link>";if(i&&(e.data.clickEvent=void 0),o&&!r){var p=o.set(a[c]);if(s.containsError(p))return void t.replaceWith(p.render(a[c]))}var f=R({},e,{source:u,transitionDeferred:!1});e.section.renderInto("",null,f,l)}a[c]&&(e.data.clickEvent=function(e){c=(c+1)%a.length,p(e,!1)})&&(e.data.twoWayBindEvent=function(e,t,n){if(o.varRef.matches(t,n)){var r=o.varRef.get(),i=a.indexOf(r);i>-1&&i!==c&&(c=i,p(e,!0))}});var f="<tw-link>"+a[c]+"</tw-link>";if(o){var d=o.set(a[c]);if(s.containsError(d))return d}return R(e,{source:f,append:"replace",transitionDeferred:!0})},[N(g,String),_(String)])}),n.onStartup(function(){return e(n.storyElement).on("change.dropdown-macro","select",function(){var t=e(this),n=t.closest("tw-expression, tw-hook").data("dropdownEvent");n&&n(t)})}),t.addCommand("dropdown",function(e){var t;return""===(arguments.length<=1?void 0:arguments[1])||""===(t=(arguments.length<=1?0:arguments.length-1)-1+1,arguments.length<=t?void 0:arguments[t])?s.create("datatype","The first or last strings in a (dropdown:) can't be empty.","Because empty strings create separators within (dropdown:)s, having them at the start or end doesn't make sense."):(arguments.length<=1?0:arguments.length-1)<=1?s.create("datatype","I need two or more strings to create a (dropdown:) menu, not just "+(arguments.length<=1?0:arguments.length-1)+"."):void 0},function(t,r,a){for(var i=arguments.length,o=Array(i>3?i-3:0),c=3;c<i;c++)o[c-3]=arguments[c];var u=0;if("two way"===a.bind){t.attr.push({"data-2bind":!0});var l=o.indexOf(a.varRef.get());l>-1&&(u=l)}var p=Math.max.apply(Math,_toConsumableArray(o.map(function(e){return[].concat(_toConsumableArray(e)).length}))),f="<select>"+o.map(function(e,t){return"<option"+(t===u?" selected":"")+(""===e?" disabled":"")+">"+n.escape(e||"\u2500".repeat(p))+"</option>"}).join("\n")+"</select>";t.data.dropdownEvent=function(e){var t=e.val(),n=a.set(t);s.containsError(n)&&e.replaceWith(n.render(t))},t.data.twoWayBindEvent=function(e,t,n){if(a.varRef.matches(t,n)){var r=a.varRef.get(),i=o.indexOf(r);i>-1&&i!==u&&(e.find("select").val(r),u=i)}},t.styles.push({"background-color":function(){return n.parentColours(e(this)).backgroundColour}});var d=a.set(o[u]);return s.containsError(d)?d:R(t,{source:f,append:"replace"})},[g,String,_(String)]),n.onStartup(function(){return e(n.storyElement).on("input.checkbox-macro","input[type=checkbox]",function(){var t=e(this),n=t.closest("tw-expression").data("checkboxEvent");n&&n(t)})});var B=1;t.addCommand("checkbox",function(){},function(e,t,n,r){var a=!1,i="checkbox-"+ ++B;if("two way"===n.bind){e.attr.push({"data-2bind":!0});var o=n.varRef.get();"boolean"==typeof o&&(a=o),e.data.twoWayBindEvent=function(e,t,r){if(n.varRef.matches(t,r)){var a=n.varRef.get();"boolean"==typeof a&&e.children("input[type=checkbox]").prop("checked",a)}}}return e.data.checkboxEvent=function(e){var t=e.is(":checked"),r=n.set(t);s.containsError(r)&&e.replaceWith(r.render(""))},R(e,{source:'<input id="'+i+'" type="checkbox" '+(a?"checked":"")+'><label for="'+i+'">'+r+"</label>",append:"replace"})},[g,String]),n.onStartup(function(){return e(document).on("fullscreenchange",function(){e("input[type=checkbox][id^=fullscreen]",n.storyElement).each(function(t,n){(e(n).closest("tw-expression").data("fullscreenEvent")||Object)(n)})})}),t.addCommand("checkbox-fullscreen",function(){},function(t,n,r){var a="fullscreenCheckbox-"+ ++B;return t.data.fullscreenEvent=function(t){return e(t).prop("checked",!(!document.fullscreenElement&&!document.msFullscreenElement))},t.data.checkboxEvent=function(){return o.toggleFullscreen()},R(t,{source:'<input id="'+a+'" type="checkbox" '+(document.fullscreenEnabled||document.msFullscreenEnabled?" ":"disabled ")+(document.fullscreenElement||document.msFullscreenElement?"checked":"")+'><label for="'+a+'">'+r+"</label>",append:"replace"})},[String]),n.onStartup(function(){return e(n.storyElement).on("input.input-box-macro","textarea",function(){var t=e(this),n=t.closest("tw-expression").data("inputBoxEvent");n&&n(t)})}),["input-box","force-input-box"].forEach(function(e){return t.addCommand(e,function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=g.isPrototypeOf(n[0]),i="number"==typeof n[1+a],o="string"==typeof n[1+a+i],c=n[+a];if("string"!=typeof c||-1===c.search(j)||!c.includes("=")&&c.length>1)return s.create("datatype","The ("+e+':) macro requires a sizing line("==X==", "==X", "=XXXX=" etc.) be provided, not '+JSON.stringify(c)+".");if("force-input-box"===e&&!o)return s.create("datatype","The ("+e+":) macro requires a string of text to forcibly input.");var u=1+a+i+o;return n.length>u?s.create("datatype","An incorrect combination of values was given to this ("+e+":) macro."):void 0},function(t,r){for(var a=arguments.length,i=Array(a>2?a-2:0),o=2;o<a;o++)i[o-2]=arguments[o];var c="force-input-box"===e,u=g.isPrototypeOf(i[0]),l="number"==typeof i[1+u],p=u&&i[0],f=l?i[1+u]:3,d=O(i[+u]),h=d.marginLeft,y=d.size,m="string"==typeof i[1+u+l]?i[1+u+l]:"",v=c?"":m;if("two way"===p.bind){t.attr.push({"data-2bind":!0});var b=p.varRef.get();if("string"==typeof b){v=c?m.slice(0,b.length):b;var w=p.set(v);if(s.containsError(w))return w}t.data.twoWayBindEvent=function(e,t,n){if(p.varRef.matches(t,n)){var r=p.varRef.get();"string"==typeof r&&e.find("textarea").val(c?m.slice(0,r.length):r)}}}else if(p){var T=p.set(c?"":m);if(s.containsError(T))return T}!c&&p&&(t.data.inputBoxEvent=function(e){var t=e.val(),n=p.set(t);s.containsError(n)&&e.replaceWith(n.render(""))});var S='<textarea style="width:100%" rows='+f+">"+n.escape(v)+"</textarea>";if(c){var x=Array.from(m);t.data.inputBoxEvent=function(e){var t=e.val().length,n=x.slice(0,t).join("");if(e.val(n),p){var r=p.set(n);s.containsError(r)&&e.replaceWith(r.render(""))}return!0}}return t.styles.push({display:"block","margin-left":h+"%",width:y+"%","border-style":function(){return this.style.borderStyle||"solid"}}),R(t,{source:S,append:"replace"})},[N(g,String),P(N(M,String)),P(N(M,String)),P(String)])}),["show","rerun"].forEach(function(n){return t.addCommand(n,z,function(t,r){for(var a=arguments.length,i=Array(a>2?a-2:0),o=2;o<a;o++)i[o-2]=arguments[o];return i.forEach(function(a){return a.forEach(r,function(a){var i=a.data("hidden");if(void 0!==i!=("rerun"===n))if(a.removeData("hidden"),i instanceof e)a.empty().append(i);else{var o=a.data("tempVariables");r.renderInto("",null,R({},t,{append:"replace",source:a.data("originalSource")||"",target:a}),o&&Object.create(o))}})}),t},[_(l)])});var W=function(e){return["I can't use a dialog macro in "+e+".","Please rewrite this without putting such macros here."]};t.addCommand("hide",z,function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach(function(t){return t.forEach(e,function(e){Boolean(e.data("hidden"))||e.data("hidden",e.contents().detach())})})},[_(l)],!1)("stop",z,z,[],!1)("load-game",z,function(e,t){var n=localStorage.getItem($("Saved Game")+t);if(!n)return s.create("saving","I can't find a save slot named '"+t+"'!");var a=r.deserialise(e,n);if(a instanceof Error){var i=k({message:"Sorry to interrupt... The story tried to load saved data, but there was a problem.\n"+a.message+"\n\nThat data might have been saved from a different version of this story. Should I delete it?\n(Type 'delete' and choose Yes to delete it.)\n\nEither way, the story will now continue without loading the data.",defaultValue:"",buttons:[{name:"Yes",confirm:!0,callback:function(){"delete"===i.find("input").last().val()&&localStorage.removeItem($("Saved Game")+t),e.unblock("")}},{name:"No",cancel:!0,callback:function(){return e.unblock()}}]});return"blocked"}requestAnimationFrame(o.showPassage.bind(o,r.passage,!1))},[String],!1)("mock-visits",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!o.options.debug)return s.create("operation","(mock-visits:) cannot be used outside of debug mode.","This macro is not meant to be used outside of debugging your story.");var r=t.find(function(e){return!a.hasValid(e)});return r?s.create("datatype","I can't mock-visit '"+r+"' because no passage with that name exists."):void 0},function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];r.mockVisits=S(n)},[_(String)],!1)(["dialog","alert"],function(e,t){for(var r=arguments.length,a=Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];if(g.isPrototypeOf(e)){if("two way"===e.bind)return s.create("datatype","(dialog:) shouldn't be given two-way bound variables.");if(void 0===t)return s.create("datatype","(dialog:) needs a message string to display.")}else void 0!==t&&a.unshift(t);var o=a.findIndex(function(e){return""===e});if(o>-1)return s.create("datatype","(dialog:)'s "+n.nth(o+1)+" link text shouldn't be an empty string.")},function(e,t,n,r){for(var a=arguments.length,i=Array(a>4?a-4:0),o=4;o<a;o++)i[o-4]=arguments[o];return g.isPrototypeOf(n)||(void 0!==r&&i.unshift(r),r=n,n=void 0),i.length||(i=["OK"]),k({section:t,message:r,cd:e,buttons:i.map(function(e){return{name:e,callback:function(){t.unblock(n&&n.set(e)||"")}}})}),"blocked"},[N(g,String),I(String)])("open-url",z,function(e,t){window.open(t,"")},[String],!1)(["restart","reload"],z,function(){if(r.pastLength<1)return s.create("infinite","I mustn't (restart:) the story in the starting passage.");r.hasSessionStorage&&sessionStorage.removeItem("Saved Session"),window.location.reload()},[],!1)("goto-url",z,function(e,t){window.location.assign(t)},[String],!1)("ignore",z,z,[I(E)])("assert-exists",function(e){if(""===e)return s.create("datatype","(assert-exists:) mustn't be given an empty string.")},function(e,t,n){var r=0;return("string"==typeof n?l.create({type:"string",data:n}):n).forEach(t,function(){++r}),r?e:s.create("assertion","I didn't see any "+("string"==typeof n?"text occurrences of":"hooks matching")+" "+x(n)+" in this passage.")},[N(l,String)]),t.add("assert",function(e,t){return t?{TwineScript_TypeID:"instant",TwineScript_TypeName:"an (assert:) operation",TwineScript_ObjectName:"an (assert:) operation",TwineScript_Unstorable:!0,TwineScript_Print:function(){return""}}:R(s.create("assertion","An assertion failed: "),{appendTitleText:!0})},[Boolean])("save-game",function(e,t,n){if(n=n||"",!r.hasStorage)return!1;var a=r.serialise();if(s.containsError(a))return a;if(!1===a)return!1;try{return localStorage.setItem($("Saved Game")+t,a),localStorage.setItem($("Saved Game Filename")+t,n),!0}catch(e){return!1}},[String,P(String)])("prompt",function(e,t,n,r,a){if(e.stackTop&&e.stackTop.evaluateOnly)return s.create.apply(s,["macrocall"].concat(_toConsumableArray(W(e.stackTop.evaluateOnly))));if(""===a)return s.create("datatype","The text for (prompt:)'s confirm link can't be blank.");var i=k({section:e,message:t,defaultValue:n,buttons:[{name:a||"OK",confirm:!0,callback:function(){return e.unblock(i.find("input").last().val())}}].concat(""===r?[]:{name:r||"Cancel",cancel:!0,callback:function(){return e.unblock(n)}})});setTimeout(function(){return i.find("input").last().focus()},100)},[String,String,P(String),P(String)])("confirm",function(e,t,n,r){return e.stackTop&&e.stackTop.evaluateOnly?s.create.apply(s,["macrocall"].concat(_toConsumableArray(W(e.stackTop.evaluateOnly)))):""===r?s.create("datatype","The text for (confirm:)'s confirm link can't be blank."):void k({section:e,message:t,defaultValue:!1,buttons:[{name:r||"OK",confirm:!0,callback:function(){return e.unblock(!0)}}].concat(""===n?[]:{name:n||"Cancel",cancel:!0,callback:function(){return e.unblock(!1)}})})},[String,P(String),P(String)])("page-url",function(){return window.location.href},[]),i.options.blockerMacros.push("prompt","confirm")}),define("macrolib/datastructures",["jquery","utils","utils/naturalsort","macros","utils/operationutils","state","engine","passages","datatypes/lambda","datatypes/datatype","datatypes/typedvar","internaltypes/varref","internaltypes/twineerror"],function(e,t,n,r,a,i,o,s,c,u,l,p,f){var d=t.shuffled,h=t.permutations,y=a.objectName,m=a.subset,g=a.collectionType,v=a.isValidDatamapName,b=a.is,w=a.unique,T=a.clone,S=a.range,x=r.TypeSignature,k=x.optional,O=x.rest,j=x.either,A=x.zeroOrMore,C=x.Any,E=x.nonNegativeInteger;r.add(["a","array"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n},A(j(l,C)))("range",function(e,t,n){return S(t,n)},[parseInt,parseInt])("subarray",function(e,t,n,r){return m(t,n,r)},[Array,parseInt,parseInt])("reversed",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reverse().map(T)},A(C))("shuffled",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return d.apply(void 0,n).map(T)},[C,O(C)])("sorted",function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return r.sort(n("en"))},[j(Number,String),O(j(Number,String))])("rotated",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return 0===(t*=-1)?f.create("macrocall","I can't rotate these values by 0 positions."):Math.abs(t)>=r.length?f.create("macrocall","I can't rotate these "+r.length+" values by "+t+" positions."):r.slice(t).concat(r.slice(0,t)).map(T)},[parseInt,C,O(C)])("rotated-to",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i=t.filter(e,r);if(f.containsError(i))return i;if(!i.length)return f.create("macrocall","None of these "+r.length+" values matched the lambda, so I can't rotate them.");var o=r.indexOf(i[0]);return r.slice(o).concat(r.slice(0,o)).map(T)},[c.TypeSignature("where"),C,O(C)])("repeated",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];for(var i=[];t-- >0;)i.push.apply(i,r);return i.map(T)},[E,O(C)])("interlaced",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a=Math.min.apply(Math,_toConsumableArray(n.map(function(e){return e.length}))),i=[],o=0;o<a;o+=1)for(var s=0;s<n.length;s+=1)i.push(T(n[s][o]));return i},[Array,O(Array)])("permutations",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.length?h.apply(void 0,n):[]},[A(C)]),r.add("altered",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return r.map(function(n,r){return t.apply(e,{loop:n,pos:r+1})})},[c.TypeSignature("via"),A(C)])("find",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return t.filter(e,r)},[c.TypeSignature("where"),A(C)])(["all-pass","pass"],function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i=t.filter(e,r);return f.containsError(i)||i.length===r.length},[c.TypeSignature("where"),A(C)])("some-pass",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i=t.filter(e,r);return f.containsError(i)||i.length>0},[c.TypeSignature("where"),A(C)])("none-pass",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i=t.filter(e,r);return f.containsError(i)||0===i.length},[c.TypeSignature("where"),A(C)])("folded",function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return"where"in t&&(r=t.filter(e,r)),f.containsError(r)||r.reduce(function(n,r,a){return t.apply(e,{making:n,loop:r,pos:a+1})})},[j(c.TypeSignature("where","via","making"),c.TypeSignature("via","making")),O(C)]),r.add("datanames",function(e,t){return Array.from(t.keys()).sort(n("en"))},[Map])("datavalues",function(e,t){return Array.from(t.entries()).sort(n("en",function(e){return String(e[0])})).map(function(e){return T(e[1])})},[Map])("dataentries",function(e,t){return Array.from(t.entries()).sort(function(e,t){return[e[0],t[0]].sort(n("en"))[0]===e[0]?-1:1}).map(function(e){return new Map([["name",e[0]],["value",T(e[1])]])})},[Map])("history",function(e,t){var n=i.mockVisits.concat(i.pastPassageNames());if(!t)return n;var r=t.filter(e,n.map(function(e){return s.get(e)}));return f.containsError(r)?r:r.map(function(e){return e.get("name")})},[k(c.TypeSignature("where"))])("passage",function(e,t){return T(s.get(t||i.passage))||f.create("macrocall","There's no passage named '"+t+"' in this story.")},[k(String)])("passages",function(e,t){var r=n("en"),a=[].concat(_toConsumableArray(s.values())).map(function(e){return T(e)}),i=t?t.filter(e,a):a,o=f.containsError(i);return o||i.sort(function(e,t){return r(e.get("name"),t.get("name"))})},[k(c.TypeSignature("where"))])("open-storylets",function(e,t){if(e.stackTop.evaluateOnly)return f.create("macrocall","(open-storylets:) can't be used in "+e.stackTop.evaluateOnly+".");var n=s.getStorylets(e,t),r=f.containsError(n);return r||n.map(T)},[k(c.TypeSignature("where"))])("savedgames",function(){function e(e){return"("+e+" "+o.options.ifid+") "}var t=0,n=void 0,r=new Map;do{if(!i.hasStorage)break;n=localStorage.key(t),t+=1;var a=e("Saved Game");n&&n.startsWith(a)&&(n=n.slice(a.length),r.set(n,localStorage.getItem(e("Saved Game Filename")+n)))}while(n);return r},[])(["datamap","dm"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=void 0,i=new Map,o=n.reduce(function(e,t){var n=void 0;if(f.containsError(e))return e;if(void 0===a)a=t;else{if(n=f.containsError(v(i,a)))return n;if(i.has(a))return f.create("macrocall","You used the same data name ("+y(a)+") twice in the same (datamap:) call.");i.set(a,T(t)),a=void 0}return e},!0);return f.containsError(o)?o:void 0!==a?f.create("macrocall","This datamap has a data name without a value."):i},A(j(l,C)))(["dataset","ds"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Set(n.filter(w).map(T))},A(C))("count",function e(t,n){for(var r=arguments.length,a=Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];if(a.length>1){var o,s=a.map(function(r){return e(t,n,r)});return(o=f.containsError(s))?o:s.reduce(function(e,t){return e+t},0)}var c=a[0];switch(g(n)){case"dataset":case"datamap":return f.create("macrocall","(count:) shouldn't be given a datamap or dataset.","You should use the 'contains' operator instead. For instance, write: $variable contains 'value'.");case"string":return"string"!=typeof c?f.create("macrocall",y(n)+" can't contain  "+y(c)+" because it isn't also a string."):c?n.split(c).length-1:0;case"array":return n.reduce(function(e,t){return e+b(t,c)},0);default:return f.create("macrocall",y(n)+" can't contain values, let alone "+y(c)+".")}},[C,O(C)])}),define("macrolib/stylechangers",["jquery","macros","utils","utils/renderutils","datatypes/colour","datatypes/hookset","datatypes/gradient","datatypes/changercommand","datatypes/lambda","internaltypes/changedescriptor","internaltypes/twineerror"],function(e,t,n,r,a,i,o,s,c,u,l){var p=r.geomParse,f=r.geomStringRegExp,d=Object.assign,h=t.TypeSignature,y=h.either,m=h.wrapped,g=h.optional,v=h.Any,b=h.Everything,w=h.zeroOrMore,T=h.rest,S=h.insensitiveSet,x=h.positiveNumber,k=h.positiveInteger,O=h.nonNegativeNumber,j=h.percent,A=[m(Boolean,'If you gave a number, you may instead want to check that the number is not 0. If you gave a string, you may instead want to check that the string is not "".')];n.onStartup(function(){return e(n.storyElement).on("mouseenter.hover-macro","[hover=false]",function(){var t=e(this),n=t.data("hoverChanger");t.data({mouseoutStyle:t.attr("style")||""}),u.create({target:t},n).update(),t.attr("hover",!0)}).on("mouseleave.hover-macro","[hover=true]",function(){var t=e(this),n=t.data("mouseoutStyle");t.attr("style",n).removeData("mouseoutStyle").attr("hover",!1)})});var C,E,_=S("instant","dissolve","fade","rumble","shudder","pulse","zoom","flicker","slideleft","slideright","slideup","slidedown","fadeleft","faderight","fadeup","fadedown","blur"),N=S("dotted","dashed","solid","double","groove","ridge","inset","outset","none");t.addChanger("if",function(e,t){return s.create("if",[t])},function(e,t){return e.enabled=e.enabled&&t},A)("unless",function(e,t){return s.create("unless",[t])},function(e,t){return e.enabled=e.enabled&&!t},A)("elseif",function(e,t){return"lastHookShown"in e.stack[0]?s.create("elseif",[!1===e.stack[0].lastHookShown&&!!t]):l.create("macrocall","There's no (if:) or something else before this to do (else-if:) with.")},function(e,t){return e.enabled=e.enabled&&t},A)("else",function(e){return"lastHookShown"in e.stack[0]?s.create("else",[!1===e.stack[0].lastHookShown]):l.create("macrocall","There's nothing before this to do (else:) with.")},function(e,t){return e.enabled=e.enabled&&t},null)("hidden",function(){return s.create("hidden")},function(e){return e.enabled=!1},null)(["verbatim","v6m"],function(){return s.create("verbatim")},function(e){return e.verbatim=!0},null)("live",function(e,t){return s.create("live",[t])},function(e,t){e.enabled=!1,e.data.live={delay:t}},g(Number))("event",function(e,t){return s.create("event",[t])},function(e,t){e.enabled=!1,e.data.live={event:t}},c.TypeSignature("when"))("more",function(){return s.create("more")},function(e){e.enabled=!1,e.data.live={event:{when:!0,filter:function(e){return 0!==e.eval("Operations").Identifiers.exits?[]:[!0]}}}},null)("after",function(e,t,n){return s.create("after",[t].concat(void 0!==n?[n]:[]))},function(e,t,r){e.enabled=!1,e.data.live={event:{when:!0,filter:function(e){return n.anyInputDown()&&(t-=r),e.eval("Operations").Identifiers.time>t?[!0]:[]}}}},[x,g(O)])("hook",function(e,t){return t?s.create("hook",[t]):l.create("datatype","(hook:) names can't be empty strings.")},function(e,t){return e.attr.push({name:t})},[String])(["for","loop"],function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return t.loop?s.create("for",[t].concat(r)):l.create("datatype","The lambda provided to (for:) must refer to a temp variable, not just 'it'.")},function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i,o=t.filter(e.section,r);if(i=l.containsError(o))return i;e.loopVars[t.loop.getName()]=o||[]},[c.TypeSignature("where"),w(v)])(["transition","t8n"],function(e,t){return s.create("transition",[n.insensitiveName(t)])},function(t,r){return t.transition=r,"zoom"===r&&(t.transitionOrigin=function(){var t=e(this).offset(),r=t.left,a=t.top;return n.mouseCoords.x-r+"px "+(n.mouseCoords.y-a)+"px"}),t},[_])(["transition-time","t8n-time"],function(e,t){return s.create("transition-time",[t])},function(e,t){return e.transitionTime=t,e.data.passageT8n=d(e.data.passageT8n||{},{time:t}),e},[x])(["transition-delay","t8n-delay"],function(e,t){return s.create("transition-delay",[t])},function(e,t){return e.transitionDelay=t,e},[O])(["transition-skip","t8n-skip"],function(e,t){return s.create("transition-skip",[t])},function(e,t){return e.transitionSkip=t,e},[x])(["transition-depart","t8n-depart"],function(e,t){return s.create("transition-depart",[n.insensitiveName(t)])},function(t,r){return t.data.passageT8n=d(t.data.passageT8n||{},{depart:r}),"zoom"===r&&(t.data.passageT8n.departOrigin=function(){var t=e(this).offset(),r=t.left,a=t.top;return n.mouseCoords.x-r+"px "+(n.mouseCoords.y-a)+"px"}),t},[_])(["transition-arrive","t8n-arrive"],function(e,t){return s.create("transition-arrive",[n.insensitiveName(t)])},function(t,r){return t.data.passageT8n=d(t.data.passageT8n||{},{arrive:r}),"zoom"===r&&(t.data.passageT8n.arriveOrigin=function(){var t=e(this),r=t.offset(),a=r.left,i=r.top,o=t.height();return{"transform-origin":100*(n.mouseCoords.x-a)/t.width()+"% "+100*(n.mouseCoords.y-i)/o+"%",height:o+"px"}}),t},[_])("button",function(){return s.create("button",[])},function(e){return e.attr.push({class:function(){return this.className+(this.classList.contains("enchantment-button")?"":" ".repeat(this.className.length>0)+"enchantment-button")}}),e},[])(["border","b4r"],function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return s.create("border",r.map(n.insensitiveName))},function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return t.styles.push({display:function(){var t=e(this).css("display");return r.every(function(e){return"none"===e})||!t.includes("inline")?t:"inline-block"},"border-style":r.join(" "),"border-width":function(){return this.style.borderWidth||"2px"}}),t},[N].concat(_toConsumableArray(Array(3).fill(g(N)))))(["border-size","b4r-size"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return s.create("border-size",n)},function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.styles.push({"border-width":n.map(function(e){return e+"px"}).join(" ")}),e},[O].concat(_toConsumableArray(Array(3).fill(g(O)))))("corner-radius",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return s.create("corner-radius",n)},function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.styles.push({"border-radius":n.map(function(e){return e+"px"}).join(" "),padding:function(){return this.style.padding||n.map(function(e){return e+"px"}).join(" ")}}),e},[O].concat(_toConsumableArray(Array(3).fill(g(O)))))(["border-colour","b4r-colour","border-color","b4r-color"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return s.create("border-colour",n.map(function(e){return a.isPrototypeOf(e)?e.toRGBAString(e):e}))},function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.styles.push({"border-color":n.join(" ")}),e},[y(String,a)].concat(_toConsumableArray(Array(3).fill(g(y(String,a))))))("opacity",function(e,t){return s.create("opacity",[t])},function(e,t){return e.styles.push({opacity:t})},[j])("font",function(e,t){return s.create("font",[t])},function(e,t){return e.styles.push({"font-family":t}),e},[String])("align",function(e,t){var n=void 0,r=t.indexOf("><");if(!/^(==+>|<=+|=+><=+|<==+>)$/.test(t))return l.create("datatype",'The (align:) macro requires an alignment arrow ("==>", "<==", "==><=" etc.) be provided, not "'+t+'"');if(~r){var a=Math.round(r/(t.length-2)*50);n=d({"text-align":"center","max-width":"50%"},25===a?{"margin-left":"auto","margin-right":"auto"}:{"margin-left":a+"%"})}else n="<"===t[0]&&">"===t.slice(-1)?{"text-align":"justify","max-width":"50%"}:t.includes(">")?{"text-align":"right"}:{"text-align":"left"};return n.display="inline-block",s.create("align",[n])},function(e,t){e.styles.push(t)},[String])(["text-colour","text-color","color","colour"],function(e,t){return s.create("text-colour",[t])},function(e,t){return a.isPrototypeOf(t)&&(t=t.toRGBAString(t)),e.styles.push({color:t}),e},[y(String,a)])(["text-size","size"],function(e,t){return s.create("text-size",[t])},function(e,t){return e.styles.push({"font-size":24*t+"px","line-height":36*t+"px"}),e},[O])("text-indent",function(e,t){return s.create("text-indent",[t])},function(e,t){return e.styles.push({"text-indent":t+"px",display:"inline-block"}),e},[O])(["text-rotate-z","text-rotate"],function(e,t){return s.create("text-rotate-z",[t])},function(t,n){return t.styles.push({display:"inline-block",transform:function(){var t=e(this).css("transform")||"";return"none"===t&&(t=""),t+" rotate("+n+"deg)"}}),t},[Number])("text-rotate-y",function(e,t){return s.create("text-rotate-y",[t])},function(t,n){return t.styles.push({display:"inline-block",transform:function(){var t=e(this).css("transform")||"";return"none"===t&&(t=""),t+" perspective(50vw) rotateY("+n+"deg)"}}),t},[Number])("text-rotate-x",function(e,t){return s.create("text-rotate-x",[t])},function(t,n){return t.styles.push({display:"inline-block",transform:function(){var t=e(this).css("transform")||"";return"none"===t&&(t=""),t+" perspective(50vw) rotateX("+n+"deg)"}}),t},[Number])(["background","bg"],function(e,t){return s.create("background",[t])},function(t,r){var i=void 0;return a.isPrototypeOf(r)?r=r.toRGBAString(r):o.isPrototypeOf(r)&&(r=r.toLinearGradientString(r)),i=a.isHexString(r)||a.isCSS3Function(r)?{"background-color":r}:r.startsWith("linear-gradient(")||r.startsWith("repeating-linear-gradient(")?{"background-image":r}:{"background-size":"cover","background-image":"url("+r+")"},t.styles.push(i,{display:function(){var t=e(this);return!t.children().length||n.childrenProbablyInline(t)?e(this).css("display"):"block"}}),t},[y(String,a,o)]).apply(void 0,_toConsumableArray((C={color:function(){return"transparent"}},E=d(Object.create(null),{none:{},bold:{"font-weight":"bold"},italic:{"font-style":"italic"},underline:{"text-decoration":"underline"},doubleunderline:{"text-decoration":"underline","text-decoration-style":"double"},wavyunderline:{"text-decoration":"underline","text-decoration-style":"wavy"},strike:{"text-decoration":"line-through"},doublestrike:{"text-decoration":"line-through","text-decoration-style":"double"},wavystrike:{"text-decoration":"line-through","text-decoration-style":"wavy"},superscript:{"vertical-align":"super","font-size":".83em"},subscript:{"vertical-align":"sub","font-size":".83em"},blink:{animation:"fade-in-out 1s steps(1,end) infinite alternate"},shudder:{animation:"shudder linear 0.1s 0s infinite"},mark:{"background-color":"hsla(60, 100%, 50%, 0.6)"},condense:{"letter-spacing":"-0.08em"},expand:{"letter-spacing":"0.1em"},outline:[{"text-shadow":function(){var t=e(this).css("color");return"-1px -1px 0 "+t+", 1px -1px 0 "+t+",-1px  1px 0 "+t+", 1px  1px 0 "+t}},{color:function(){return n.parentColours(e(this)).backgroundColour}}],shadow:{"text-shadow":function(){return"0.08em 0.08em 0.08em "+e(this).css("color")}},emboss:{"text-shadow":function(){return"0.04em 0.04em 0em "+e(this).css("color")}},smear:[{"text-shadow":function(){var t=e(this).css("color");return"0em   0em 0.02em "+t+",-0.2em 0em  0.5em "+t+", 0.2em 0em  0.5em "+t}},C],blur:[{"text-shadow":function(){return"0em 0em 0.08em "+e(this).css("color")}},C],blurrier:[{"text-shadow":function(){return"0em 0em 0.2em "+e(this).css("color")},"user-select":"none"},C],mirror:{display:"inline-block",transform:"scaleX(-1)"},upsidedown:{display:"inline-block",transform:"scaleY(-1)"},fadeinout:{animation:"fade-in-out 2s ease-in-out infinite alternate"},rumble:{animation:"rumble linear 0.1s 0s infinite"},sway:{animation:"sway linear 2.5s 0s infinite"},buoy:{animation:"buoy linear 2.5s 0s infinite"},fidget:{animation:function(){return"fidget step-end 60s "+60*-Math.random()+"s infinite"+(Math.random()<.5?" reverse":"")}}}),["text-style",function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return s.create("text-style",r.map(n.insensitiveName))},function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a=0;a<n.length;a+=1)"none"===n[a]?e.styles=[]:e.styles=e.styles.concat(E[n[a]]);return e},[T(S.apply(void 0,_toConsumableArray(Object.keys(E))))]])))("collapse",function(){return s.create("collapse")},function(e){return e.attr.push({collapsing:!0}),e},[])("hover-style",function(e,t){var n=u.create(),r=(t.run(n),n.summary());return r+""=="styles"||r.every(function(e){return"styles"===e||"attr"===e})&&n.attr.every(function(e){return Object.keys(e)+""=="style"})?s.create("hover-style",[t]):l.create("datatype","The changer given to (hover-style:) must only change the hook's style.")},function(e,t){return e.data.hoverChanger=t,e.attr.push({hover:function(e,t){return void 0!==t&&t}}),e},[s])("css",function(e,t){return t.trim().endsWith(";")||(t+=";"),s.create("css",[t])},function(t,n){return t.attr.push({style:function(){return(e(this).attr("style")||"")+n}}),t},[String])("test-true",function(){return s.create("test-true",[])},function(e){return e.enabled=!0},w(b))("test-false",function(){return s.create("test-false",[])},function(e){return e.enabled=!1},w(b)),t.addCommand("animate",e.noop,function(e,t,r,a,i){r.forEach(t,function(t){var r=void 0;if("zoom"===name){var o=t.offset(),s=o.left,c=o.top;r=n.mouseCoords.x-s+"px "+(n.mouseCoords.y-c)+"px"}n.transitionIn(t,a,e.transitionTime||i,e.transitionDelay,e.transitionSkip,0,r)})},[T(i),S.apply(void 0,_toConsumableArray(_.innerType.filter(function(e){return"instant"!==e}))),g(x)]),["box","float-box"].forEach(function(r){return t.addChanger(r,function(e,t,n){var a=-1===t.search(f)||t.length>1&&!t.includes("="),i="float-box"===r&&(-1===n.search(f)||n.length>1&&!n.includes("="));return a||i?l.create("datatype","The ("+r+':) macro requires a sizing line("==X==", "==X", "=XXXX=" etc.) be provided, not "'+(a?t:n)+'".'):s.create(r,[t,n].filter(function(e){return void 0!==e}))},function(t,a,i){var o,s=p(a),c=s.marginLeft,u=s.size,l=void 0;if("float-box"===r){var f=p(i);l=f.marginLeft,i=f.size}var h="box"===r?"%":"vw",y=(_defineProperty(o={display:"block",width:u+h,"max-width":u+h},"box"===r?"margin-left":"left",c+h),_defineProperty(o,"box-sizing","content-box"),_defineProperty(o,"overflow-y","auto"),_defineProperty(o,"padding",function(){return e(this).css("padding")||"1em"}),o);return void 0!==i&&(y.height=i+("box"===r?"em":"vh")),"float-box"===r&&d(y,{position:"fixed",top:l+"vh","background-color":function(){return n.parentColours(e(this)).backgroundColour}}),t.styles.push(y),t},[String,"box"===r?g(k):String])})}),define("internaltypes/enchantment",["jquery","utils","internaltypes/changedescriptor","datatypes/changercommand","utils/operationutils","internaltypes/twineerror","utils/renderutils"],function(e,t,n,r,a,i,o){var s=a.objectName,c=o.collapse,u={create:function(n){return t.assertOnlyHas(n,["scope","localHook","section","attr","data","changer","functions","lambda","name"]),Object.assign(Object.create(this),{enchantments:e()},n)},enchantScope:function(){var a=this,o=this.attr,u=this.data,l=this.functions,p=this.section,f=this.scope,d=this.localHook,h=this.lambda,y=[];f.forEach(p,function(m,g){if(!d||(d.jquery?d:d.hooks(p)).has(m[0]).length){var v=void 0;if(h)if(v=h.apply(p,{loop:f.TwineScript_GetProperty(g),pos:g+1}),i.containsError(v))m.replaceWith(v.render("")),h=v=null;else if(r.isPrototypeOf(v)){var b=v.summary();(b.includes("newTargets")||b.includes("target"))&&(m.replaceWith(i.create("macrocall","The changer produced by the 'via' lambda given to enchantment macros can't include a revision or enchantment changer like (replace:) or (click:).").render("")),h=v=null)}else m.replaceWith(i.create("macrocall","The 'via' lambda given to enchantment macros must return a changer, not "+s(v)+".").render("")),h=v=null;else v=a.changer;var w=!o&&!u&&(!v||v.summary().every(function(e){return e.startsWith("transition")})),T=w?m:m.wrap("<tw-enchantment>").parent();if(o&&T.attr(o),u&&T.data(u),l&&l.forEach(function(e){return e(T)}),v){var S=n.create({section:p,target:T});if(v.run(S),S.update(),m.is(t.storyElement)){var x=Object.keys(Object.assign.apply(Object,[{}].concat(_toConsumableArray(S.styles))));m.css(x.reduce(function(e,t){return e[t]="inherit",e},{})),T.data({enchantedProperties:x})}else if(m.is("tw-passage")&&S.styles.some(function(e){return"margin-left"in e||"margin"in e||"margin-right"in e})){var k="padding-left",O="padding-right";t.storyElement.css(k,"0px").css(O,"0px"),T.data({enchantedProperties:[k,O]})}}m.is(t.storyElement)&&T.css({width:"100%",height:"100%"}),"true"===T.attr("collapsing")&&(T.find("[collapsing=false]").each(function(){e(this).removeAttr("collapsing")}),c(T)),w||y.push(T)}}),this.enchantments=e(y)},disenchant:function(){this.enchantments.each(function(){e(this).contents().unwrap();var n=e(this).data("enchantedProperties");n&&t.storyElement.css(n.reduce(function(e,t){return e[t]="",e},{}))})}};return Object.freeze(u)}),define("macrolib/enchantments",["jquery","utils","utils/operationutils","engine","state","passages","macros","datatypes/hookset","datatypes/changercommand","datatypes/lambda","internaltypes/changedescriptor","internaltypes/enchantment","internaltypes/twineerror"],function(e,t,n,r,a,i,o,s,c,u,l,p,f){var d=n.is,h=o.TypeSignature,y=h.either,m=h.rest,g=h.optional;function v(e,t){if(c.isPrototypeOf(t)){var n=t.summary();if(["newTargets","target","appendSource","functions"].some(function(e){return n.includes(e)}))return f.create("datatype","The changer given to ("+e+":) can't include a revision or enchantment changer like (replace:) or (click:).")}}["enchant","change"].forEach(function(e){o.addCommand(e,function(t,n){var r=v(e,n);if(r)return r},function(t,n,r){var a;n=s.from(n);var i=[];if(c.isPrototypeOf(r)){var o=l.create({section:t});if(r.run(o),(o.innerEnchantments||[]).length>0){var u=o.innerEnchantments.map(function(e){return e(n)});i.push.apply(i,_toConsumableArray(u))}}return i.push(p.create((_defineProperty(a={scope:n},c.isPrototypeOf(r)?"changer":"lambda",r),_defineProperty(a,"section",t),a))),i.forEach(function(n){"enchant"===e?(t.addEnchantment(n),t.updateEnchantments()):n.enchantScope()}),""},[y(s,String),y(c,u.TypeSignature("via"))],!1)}),o.addChanger("enchant-in",function(e,t,n){var r=v("enchant-in",n);return r||c.create("enchant-in",[t,n])},function(e,t,n){return e.innerEnchantments=(e.innerEnchantments||[]).concat(function(r){var a;return p.create((_defineProperty(a={scope:s.from(t),localHook:r},c.isPrototypeOf(n)?"changer":"lambda",n),_defineProperty(a,"section",e.section),a))}),e},[y(s,String),y(c,u.TypeSignature("via"))]),[["link-style",s.create({type:"name",data:"link"})],["line-style",s.create({type:"base",data:s.create({type:"name",data:"page"})},"lines",void 0)],["char-style",s.create({type:"base",data:s.create({type:"name",data:"page"})},"chars",void 0)]].forEach(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];o.addChanger(n,function(e,t){var r=v(n,t);return r||c.create(n,[t])},function(e,t){return e.innerEnchantments=(e.innerEnchantments||[]).concat(function(n){var a;return p.create((_defineProperty(a={scope:r,localHook:n},c.isPrototypeOf(t)?"changer":"lambda",t),_defineProperty(a,"section",e.section),a))}),e},[y(c,u.TypeSignature("via"))])});var b=["replace","append","prepend"];function w(n,a){return t.onStartup(function(){var r=n.classList.replace(/ /g,"."),a=n.blockClassList?n.blockClassList.replace(/ /g,"."):"",i="."+r+(a?",."+a:"");t.storyElement.on(n.event.map(function(e){return e+".enchantment"}).join(" "),i,function(){var t=e(Array.from(e(this).parents(i).add(this)).sort(function(e,t){return 8&e.compareDocumentPosition(t)?1:-1})[0]),n=t.data("enchantmentEvent");n&&n(t)})}),[function(e,t,n){if(!t)return f.create("datatype","A string given to this ("+a+":) macro was empty.");if(n){var r=v(a,n);if(r)return r}return c.create(a,[s.from(t)].concat(n?[n]:[]))},function(e,t,i){e.enabled=!1,e.transitionDeferred=!0,n.rerender&&(e.newTargets=(e.newTargets||[]).concat({target:t,append:n.rerender}));var o=e.section&&e.section.stackTop?e.section.stackTop.tempVariables:Object.create(null),s=p.create(_defineProperty({functions:[function(e){e.attr("class",e.children().is("tw-story, tw-sidebar, tw-passage")||"block"===e.children().css("display")?n.blockClassList:n.classList)}],attr:(n.classList+"").match(/\b(?:link|enchantment-clickblock)\b/)?{tabIndex:"0"}:{},data:{enchantmentEvent:function(){e.section.stackTop&&e.section.stackTop.blocked||(n.once&&e.section.removeEnchantment(s),n.goto?r.goToPassage(n.goto,{transition:n.transition}):n.undo?r.goBack({transition:n.transition}):e.section.renderInto(e.source,null,Object.assign({},e,{enabled:!0,transitionDeferred:!1}),o))}},scope:t,section:e.section,name:a},c.isPrototypeOf(i)?"changer":"lambda",i));return e.section&&(e.section.addEnchantment(s),s.enchantScope()),e},[y(s,String),g(y(c,u.TypeSignature("via")))]]}b.forEach(function(t){o.addChanger(t,function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.every(Boolean)?c.create(t,r.map(s.from)):f.create("datatype","A string given to this ("+t+":) macro was empty.")},function(n){for(var r,a=arguments.length,i=Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return e(n.target).parents().filter("tw-collapsed,[collapsing=true]").length>0||n.attr.some(function(e){return e.collapsing})||(n.attr=[].concat(_toConsumableArray(n.attr),[{collapsing:!1}])),n.newTargets=n.newTargets||[],(r=n.newTargets).push.apply(r,_toConsumableArray(i.filter(function(e){return!n.newTargets.some(function(n){var r=n.target,a=n.append;return d(e,r)&&t===a})}).map(function(e){return{target:e,append:t,before:!0}}))),n},m(y(s,String)))(t+"-with",function(e,n){return c.create(t+"-with",[n])},function(e,n){return e.appendSource=(e.appendSource||[]).concat({source:n,append:t}),e},String)});var T="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,S=[{name:"click",enchantDesc:{event:["click"],once:!0,rerender:"",classList:"link enchantment-link",blockClassList:"enchantment-clickblock"}},{name:"mouseover",enchantDesc:{event:["mouseenter",T?"click":""].filter(Boolean),once:!0,rerender:"",classList:"enchantment-mouseover",blockClassList:"enchantment-mouseoverblock"}},{name:"mouseout",enchantDesc:{event:["mouseleave",T?"click":""].filter(Boolean),once:!0,rerender:"",classList:"enchantment-mouseout",blockClassList:"enchantment-mouseoutblock"}}];S.forEach(function(e){return o.addChanger.apply(o,[e.name].concat(_toConsumableArray(w(e.enchantDesc,e.name))))}),t.onStartup(function(){S.forEach(function(n){var r=n.enchantDesc;r.blockClassList&&t.storyElement.on(r.event.map(function(e){return e+".enchantment"}).join(" "),function(){var t=e(Array.from(e(this).parents("."+r.blockClassList.replace(/ /g,"."))).sort(function(e,t){return 8&e.compareDocumentPosition(t)?1:-1})[0]),n=t.data("enchantmentEvent");n&&n(t)})})}),b.forEach(function(e){S.forEach(function(t){var n=Object.assign({},t.enchantDesc,{rerender:e}),r=t.name+"-"+e;o.addChanger.apply(o,[r].concat(_toConsumableArray(w(n,r))))})}),S.forEach(function(e){["goto","undo"].forEach(function(t){var n=e.name+"-"+t;o.addCommand(n,function(e,r){return!e||!r&&"goto"===t?f.create("datatype","A string given to this ("+n+":) macro was empty."):"goto"!==t||i.hasValid(r)?void 0:f.create("macrocall","I can't ("+n+":) the passage '"+r+"' because it doesn't exist.")},function(r,i,o,c){if("undo"===t&&a.pastLength<1)return f.create("macrocall","I can't (undo:) on the first turn.");var u=w(Object.assign({},e.enchantDesc,{transition:r.data.passageT8n},"undo"===t?{undo:!0}:{goto:c}),n);return(0,_slicedToArray(u,2)[1])({section:i},s.from(o)),Object.assign(r,{source:""})},[y(s,String)].concat("undo"===t?[]:String))})})}),define("macrolib/metadata",["macros","renderer","utils/operationutils","datatypes/lambda","internaltypes/twineerror"],function(e,t,n,r,a){var i=n.clone,o=n.objectName,s=n.isValidDatamapName,c=e.TypeSignature,u=c.zeroOrMore,l=c.Any,p=t.options.metadataMacros,f=function(e){return{TwineScript_TypeName:"a ("+e+":) macro",TwineScript_ObjectName:"a ("+e+":) macro",TwineScript_Unstorable:!0,TwineScript_Print:function(){return""}}};[["storylet",r.TypeSignature("when")],["urgency",Number],["exclusivity",Number]].forEach(function(t){var n=_slicedToArray(t,2),r=n[0],a=n[1];e.add(r,function(e,t){return e.stackTop.speculativePassage?t:f(r)},a),p.push(r)}),e.add("metadata",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var c=void 0,u=new Map,l=n.reduce(function(e,t){var n=void 0;if(a.containsError(e))return e;if(void 0===c)c=t;else{if(n=a.containsError(s(u,c)))return n;if(u.has(c))return a.create("macrocall","You used the same data name ("+o(c)+") twice in the same (metadata:) call.");u.set(c,i(t)),c=void 0}return e},!0);return a.containsError(l)?l:void 0!==c?a.create("macrocall","This (metadata:) macro has a data name without a value."):e.stackTop.speculativePassage?u:f("storylet")},u(l)),p.push("metadata")}),define("macrolib/patterns",["jquery","macros","utils","utils/operationutils","datatypes/datatype","datatypes/typedvar","internaltypes/twineerror"],function(e,t,n,r,a,i,o){var s=n.anyRealLetter,c=n.anyUppercase,u=n.anyLowercase,l=n.anyCasedLetter,p=n.realWhitespace,f=n.impossible,d=r.objectName,h=r.toSource,y=t.TypeSignature,m=y.rest,g=y.either,v=y.optional,b=y.nonNegativeInteger,w=Object.assign,T=Object.create,S=m(g(String,a,i)),x=function e(t){var n,r=t.name,y=t.fullArgs,m=t.args,g=t.makeRegExpString,v=void 0===g?function(e){return e.join("")}:g,b=t.insensitive,S=void 0!==b&&b,x=t.canContainTypedVars,k=void 0===x||x,O=t.canBeUsedAlone,j=void 0===O||O,A=m||y,C=A.map(function e(t){if(i.isPrototypeOf(t)){if(!k)return o.create("operation","Optional string patterns, like ("+r+":)"+("p-many"===r?" with min 0":"")+", can't have typed variables inside them.");var n=e(t.datatype);return o.containsError(n)?n:"("+n+")"}if(a.isPrototypeOf(t)){if(!k&&"typedVars"in t&&t.typedVars().length)return o.create("operation","("+r+":) can't have typed variables inside its pattern.");if(t.regExp)return(t.rest?"(?:":"")+(S?t.insensitive().regExp:t.regExp)+(t.rest?")*":"");var h=t.name,y=t.rest?"*":"";return"alnum"===h?s+y:"whitespace"===h?p+y:"uppercase"===h?(S?l:c)+y:"lowercase"===h?(S?l:u)+y:"anycase"===h?l+y:"digit"===h?"\\d"+y:"linebreak"===h?"(?:\\r|\\n|\\r\\n)"+y:"str"===h?".*?":["even","odd","int","num"].includes(h)?o.create("datatype","Please use string datatypes like 'digit' in ("+r+":) instead of number datatypes."):o.create("datatype","The ("+r+":) macro must only be given string-related datatypes, not "+d(t)+".")}return"string"==typeof t?(t=t.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),S&&(t=t.replace(RegExp("("+c+"|"+u+")","g"),function(e){return"["+e.toUpperCase()+e.toLowerCase()+"]"})),t):(f("createPattern","mapper() was given a non-string non-datatype "+t),"")});if(n=o.containsError(C))return n;var E=v(C),_=w(T(a),{name:r,regExp:E,insensitive:function(){return S?_:e({name:r,fullArgs:y,args:A.map(function(e){return a.isPrototypeOf(e)&&"function"==typeof e.insensitive?e.insensitive():e}),makeRegExpString:v,insensitive:!0,canContainTypedVars:k,canBeUsedAlone:j})},typedVars:function(){return A.reduce(function(t,n){return i.isPrototypeOf(n)&&(t=t.concat(S?i.create(e({name:"p-ins",fullArgs:[n.datatype],insensitive:!0}),n.varRef):n),n=n.datatype),a.isPrototypeOf(n)&&"function"==typeof n.typedVars&&(t=t.concat(n.typedVars())),t},[])},destructure:function(t){if("string"!=typeof t)return[o.create("operation","I can't unpack "+d(t)+" into "+this.TwineScript_ToSource()+" because it isn't a string.")];var n=this.typedVars();if(!n.length)return[];var r=(RegExp("^"+(this.rest?"(?:":"")+E+(this.rest?")*":"")+"$").exec(t)||[]).slice(1);return r.length?r.map(function(t,r){var a=n[r];if(a)return a.datatype.rest&&!a.datatype.regExp&&((a=a.TwineScript_Clone()).datatype=e({name:"p",fullArgs:[a.datatype]})),{dest:a,value:t||"",src:void 0}}).filter(Boolean):[o.create("operation","I can't unpack "+d(t)+" because it doesn't match the pattern "+this.TwineScript_ToSource()+".")]},TwineScript_IsTypeOf:function(e){return j?"string"==typeof e&&!!e.match("^"+(this.rest?"(?:":"")+E+(this.rest?")*":"")+"$"):o.create("operation","A ("+r+":) datatype must only be used with a (p:) macro.")},TwineScript_toTypeSignatureObject:function(){var e=this;return{pattern:"range",name:r,range:function(t){return e.TwineScript_IsTypeOf(t)}}},TwineScript_ToSource:function(){return(this.rest?"...":"")+"("+r+":"+y.map(h)+")"}});return Object.defineProperty(_,"TwineScript_ObjectName",{get:function(){return"a ("+r+":) datatype"}}),_};t.add(["p","pattern"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return x({name:"p",fullArgs:n})},S)(["p-either","pattern-either"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return x({name:"p-either",fullArgs:n,canContainTypedVars:!1,makeRegExpString:function(e){return"(?:"+e.join("|")+")"}})},S)(["p-opt","pattern-opt","p-optional","pattern-optional"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return x({name:"p-opt",fullArgs:n,canContainTypedVars:!1,makeRegExpString:function(e){return"(?:"+e.join("")+")?"}})},S)(["p-not","pattern-not"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.find(function(e){return"string"==typeof e?1!==[].concat(_toConsumableArray(e)).length:e.rest||e.regExp||["str","empty"].includes(e.name)})?o.create("datatype","(p-not:) should only be given single character"):x({name:"p-not",fullArgs:n,canContainTypedVars:!1,makeRegExpString:function(e){return"[^"+e.map(function(e){return e.startsWith("[")&&e.endsWith("]")?e.slice(1,-1):e}).join("")+"]"}})},S)(["p-many","pattern-many"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var s=n.slice(),c=void 0,u=void 0;if("number"==typeof n[0]&&(c=n.shift(),u="number"==typeof n[0]?n.shift():1/0),void 0!==u&&u<c)return o.create("datatype","The (p-many:) macro needs to be given string patterns, not just min and max numbers.");if(!n.length)return o.create("datatype","The (p-many:) macro needs to be given string patterns, not just min and max numbers.");var l=n.find(function(e){return"string"!=typeof e&&!a.isPrototypeOf(e)&&!i.isPrototypeOf(e)});return l?o.create("datatype","This (p-many:) macro can only be given a min and max number followed by datatypes or strings, but was also given "+d(l)+"."):x({name:"p-many",args:n,fullArgs:s,canContainTypedVars:c>0,makeRegExpString:function(e){return"(?:"+e.join("")+")"+(void 0!==c?"{"+c+(u===1/0?",":u!==c?","+u:"")+"}":"+")}})},[m(g(b,String,a,i))])(["p-ins","pattern-ins","p-insensitive","pattern-insensitive"],function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return x({name:"p-ins",fullArgs:n,insensitive:!0})},S)(["split","splitted"],function(e,t,n){if(t=x({name:"split",fullArgs:[t],canContainTypedVars:!1}),o.containsError(t))return t;if(!n)return[""];if(!t.regExp)return[].concat(_toConsumableArray(n));for(var r=RegExp(t.regExp),a=[],i=void 0;n&&(i=r.exec(n));){if(i.index+i[0].length===0)return a;a.push(n.slice(0,i.index)),n=n.slice(i.index+i[0].length)}return a.concat(n||[])},[g(String,a),String])("trimmed",function(e,t,n){return void 0===n||a.isPrototypeOf(t)&&"whitespace"===t.name?t.trim():(t=x({name:"trimmed",fullArgs:[t],canContainTypedVars:!1}),o.containsError(t)?t:t.regExp?n.replace(RegExp("^("+t.regExp+")*|("+t.regExp+")*$","g"),""):n)},[g(String,a),v(String)])}),define("macrolib/links",["jquery","macros","utils","state","passages","engine","datatypes/changercommand","internaltypes/changedescriptor","datatypes/hookset","datatypes/lambda","internaltypes/twineerror"],function(e,t,n,r,a,i,o,s,c,u,l){var p=t.TypeSignature,f=p.optional,d=p.rest,h=p.either,y=["Links can't have empty strings for their displayed text.","In the link syntax, a link's displayed text is inside the [[ and ]], and on the non-pointy side of the -> or <- arrow if it's there."],m=Object.assign;function g(e,t,r){r=r||t;var i=a.hasValid(t)&&t===r,o=e.evaluateTwineMarkup(n.unescape(r),"a link's passage name"),s=void 0;if(i){var c=o.children().length>0?"`".repeat((r.match(/`+/)||[]).reduce(function(e,t){return Math.max(e,t.length+1)},1)):"";t=c+"\0".repeat(!!c)+t+"\0".repeat(!!c)+c}else o.findAndFilter("tw-error").length&&(s=o.findAndFilter("tw-error").data("TwineError")),r=o.text();return{text:t,passage:r,error:s}}n.onStartup(function(){e(n.storyElement).on("click.passage-link","tw-link",function(t){var n=e(this),r=n.closest("tw-expression"),a=n.closest("tw-expression, tw-hook"),o=a.data("clickEvent"),s=a.data("section");if(!(s&&s.stackTop&&s.stackTop.blocked)){if(o){if(n.find("tw-error").length>0)return;return t.stopPropagation(),void o(n)}var c=r.data("linkPassageName"),u=Object.assign({},r.data("passageT8n")||{});return r.find("tw-enchantment").each(function(t,n){Object.assign(u,e(n).data("passageT8n")||{})}),c?(t.stopPropagation(),void i.goToPassage(c,{transition:u})):n.is("[undo]")?(t.stopPropagation(),void i.goBack({transition:u})):n.is("[fullscreen]")?(t.stopPropagation(),void i.toggleFullscreen()):void 0}}),e(document).on("fullscreenchange",function(){e("tw-link[fullscreen]",n.storyElement).each(function(t,n){(e(n).closest("tw-expression, tw-hook").data("fullscreenEvent")||Object)(n)})})}),[["link","link-replace"],["link-reveal"],["link-repeat"],["link-rerun"]].forEach(function(e){return t.addChanger(e,function(t,n,r){if(!n)return l.create("datatype",y[0]);if(r){var a=r.summary();if(["newTargets","target","appendSource","functions"].some(function(e){return a.includes(e)}))return l.create("datatype","The changer given to ("+e[0]+":) can't include a revision or enchantment changer like (replace:) or (click:).")}return o.create(e[0],[n].concat(r||[]))},function(t,n,r){var a=e[0],i=t.section&&t.section.stackTop?t.section.stackTop.tempVariables:Object.create(null),o=s.create({source:"<tw-link tabindex=0>"+n+"</tw-link>",target:function(){return t.target},append:"replace",data:{section:t.section,clickEvent:function(e){t.enablers=t.enablers.filter(function(e){return e.descriptor!==o}),"link-reveal"===a&&e.contents().unwrap();var n=e.parentsUntil(":not(tw-enchantment)").parent();if(n.length||(n=e.parent()),"link-rerun"===a){var r=e.parentsUntil(":not(tw-enchantment)");e.detach(),r.remove()}"link"!==a&&"link-rerun"!==a||n.empty(),t.section.renderInto("",null,t,i),"link-rerun"===a&&n.prepend(e)}}});return t.enablers=(t.enablers||[]).concat({descriptor:o,changer:r}),t},[String,f(o)])}),t.addCommand("link-goto",function(e){if(!e)return l.create.apply(l,["datatype"].concat(y))},function(e,t,i,o){var s,c=g(t,i,o);if(i=c.text,o=c.passage,s=c.error)return s;if(e.transition){var u="transition";return l.create("datatype","Please attach ("+u+"-depart:) or ("+u+"-arrive:) to a passage link, not ("+u+":).")}var p=void 0;return a.hasValid(o)||(p='<tw-broken-link passage-name="'+n.escape(o)+'">'+i+"</tw-broken-link>"),p=p||"<tw-link tabindex=0 "+(r.passageNameVisited(o)>0?'class="visited" ':"")+">"+i+"</tw-link>",e.data.linkPassageName=o,e.data.section=t,m(e,{source:p,transitionDeferred:!0})},[String,f(String)])("link-storylet",function(){var e,t=(e=1===arguments.length||"string"!=typeof(arguments.length<=0?void 0:arguments[0])?0:1,arguments.length<=e?void 0:arguments[e]);if(!t||"string"==typeof t)return l.create("datatype","(link-storylet:) should be given one index number or one 'where' lambda, after the optional link text string.")},function(e,t){var n,i,o,s=(n=2+(1==(arguments.length<=2?0:arguments.length-2)?0:3==(arguments.length<=2?0:arguments.length-2)||"string"==typeof(arguments.length<=2?void 0:arguments[2])?1:2),arguments.length<=n?void 0:arguments[n]),c="string"==typeof(arguments.length<=2?void 0:arguments[2])&&(arguments.length<=2?void 0:arguments[2]),p=(i=(arguments.length<=2?0:arguments.length-2)-1+2,(arguments.length<=i?void 0:arguments[i])!==s&&(o=(arguments.length<=2?0:arguments.length-2)-1+2,arguments.length<=o?void 0:arguments[o]));if(e.transition){var f="transition";return l.create("datatype","Please attach ("+f+"-depart:) or ("+f+"-arrive:) to (link-storylet:), not ("+f+":).")}var d=u.isPrototypeOf(s),h=a.getStorylets(t,d&&s),y=l.containsError(h);if(y)return y;var g=h[d?0:s<0?h.length+s:s-1],v=void 0;if(g)g=g.get("name"),c=c||g,v=v||"<tw-link tabindex=0 "+(r.passageNameVisited(g)>0?'class="visited" ':"")+">"+c+"</tw-link>",e.data.linkPassageName=g,e.data.section=t;else{if(!p)return e;v=p}return m(e,{source:v,transitionDeferred:!0})},[h(parseInt,String,u.TypeSignature("where")),f(h(parseInt,String,u.TypeSignature("where"))),f(String)])("link-undo",function(e){if(!e)return l.create("datatype",y[0])},function(e,t,n){return r.pastLength<1?l.create("macrocall","I can't use (link-undo:) on the first turn."):(e.data.section=t,m(e,{source:"<tw-link tabindex=0 undo>"+n+"</tw-link>",transitionDeferred:!0}))},[String])("link-show",function(e){if(!e)return l.create("datatype",y[0])},function(t,n,r){for(var a=arguments.length,i=Array(a>3?a-3:0),o=3;o<a;o++)i[o-3]=arguments[o];return t.data.section=n,t.data.clickEvent=function(r){r.contents().unwrap(),i.forEach(function(r){return r.forEach(n,function(r){var a=r.data("originalSource")||"",i=r.data("hidden");if(i)if(r.removeData("hidden"),i instanceof e)r.empty().append(i);else{var o=r.data("tempVariables");n.renderInto("",null,m({},t,{source:a,target:r,transitionDeferred:!1}),o&&Object.create(o))}})})},m(t,{source:"<tw-link tabindex=0>"+r+"</tw-link>",transitionDeferred:!0})},[String,d(c)])("link-fullscreen",function(e,t){if(!e||!t)return l.create("datatype",y[0])},function(e,t,n,r){var a=function(){return document.fullscreenEnabled||document.msFullscreenEnabled?"<tw-link tabindex=0 fullscreen>"+(document.fullscreenElement||document.msFullscreenElement?r:n)+"</tw-link>":r?"<tw-broken-link>"+r+"</tw-broken-link>":""},i=t.stackTop.tempVariables;return e.data.section=t,e.data.fullscreenEvent=function(){(document.fullscreenEnabled||document.msFullscreenEnabled)&&e.data.section.whenUnblocked(function(){var t=m({},e,{append:"replace",source:a(),transitionDeferred:!1});e.section.renderInto("",null,t,i)})},m(e,{source:a(),transitionDeferred:!0})},[String,String,f(String)]),t.addChanger(["link-reveal-goto"],function(e,t,n,r){if(!t)return l.create.apply(l,["datatype"].concat(y));if(o.isPrototypeOf(n)){if(o.isPrototypeOf(r))return l.create("datatype","You mustn't give two changers to (link-reveal-goto:)");r=n,n=void 0}if(r){var a=r.summary();if(["newTargets","target","appendSource","functions"].some(function(e){return a.includes(e)}))return l.create("datatype","The changer given to (link-reveal-goto:) can't include a revision or enchantment changer like (replace:) or (click:).")}var i=g(e,t,n);return t=i.text,n=i.passage,i.error||o.create("link-reveal-goto",[t,n,r].filter(function(e){return void 0!==e}))},function(e,t,o,c){if(a.hasValid(o)){var u=r.passageNameVisited(o),l=e.section&&e.section.stackTop?e.section.stackTop.tempVariables:Object.create(null),p=s.create({source:"<tw-link tabindex=0 "+(u>0?'class="visited" ':"")+">"+t+"</tw-link>",target:e.target,append:"replace",data:{section:e.section,append:"replace",clickEvent:function(t){e.enablers=e.enablers.filter(function(e){return e.descriptor!==p}),t.contents().unwrap(),e.section.renderInto("",null,e,l),e.section.whenUnblocked(function(){return i.goToPassage(o,{transition:e.data.passageT8n})})}}});return e.enablers=(e.enablers||[]).concat({descriptor:p,changer:c}),e}e.source='<tw-broken-link passage-name="'+n.escape(o)+'">'+t+"</tw-broken-link>"},[String,f(h(o,String)),f(o)])}),define("macrolib/custommacros",["utils","macros","state","utils/operationutils","datatypes/changercommand","datatypes/custommacro","datatypes/codehook","datatypes/typedvar","internaltypes/twineerror"],function(e,t,n,r,a,i,o,s,c){var u=t.add,l=t.addChanger,p=t.addCommand,f=t.TypeSignature,d=f.rest,h=f.either,y=f.Any,m=r.objectName;u("macro",function(t){for(var r=arguments.length,a=Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];var u=void 0,l=[];for(u=0;u<a.length;u+=1){var p=u===a.length-1;if(s.isPrototypeOf(a[u])===p)return c.create("datatype","The "+(p?"":e.nth(a.length-u+1)+"-")+"last value given to (macro:) should be a "+(p?"code hook":"datatyped variable")+", not "+m(a[u]));if(!p){var f="A custom macro";if(a[u].varRef.object===n.variables)return c.create("datatype",f+"'s typed variables must be temp variables (with a '_'), not global variables (with a '$').","Write them with a _ symbol at the start instead of a $ symbol.");if(a[u].varRef.propertyChain.length>1)return c.create("datatype",f+"'s typed variables can't be properties inside a data structure.");if(a[u].datatype.rest&&u!==a.length-2)return c.create("datatype",f+" can only have one spread variable, and it must be its last variable.");var d=a[u].varRef.propertyChain[0];if(l.includes(d))return c.create("datatype",f+"'s typed variables can't both be named '"+d+"'.");l.push(d)}}return i.create(a.slice(0,-1),a[a.length-1])},[d(h(s,o))]);var g=function(e,t,n){if(!t.some(function(e){if("function"==typeof e.output)return e.output(n),!0}))return c.create("macrocall","("+e+":) should only be used inside a code hook passed to (macro:).")};p(["output-data","out-data"],function(){},function(e,t){var n=e.stack;return g("output-data",n,t)||"blocked"},[y],!1),l(["output","out"],function(e){return Object.assign(a.create("output",[e]))},function(e,t){var n=t.stack,r=t.stackTop;return e.loopVars=Object.keys(r.tempVariables).reduce(function(e,t){return e[t]=[r.tempVariables[t]],e},{}),g("output",n,e),r.blocked=!0,e},[]),p("error",function(e){if(!e)return c.create("datatype","This (error:) macro was given an empty string.")},function(e,t){var n=e.stack;return g("error",n,c.create("user",t))||"blocked"},[String],!1)}),define("repl",["utils","engine","markup","twinescript/compiler","twinescript/environ"],function(e,t,n,r,a){e.onStartup(function(){return setTimeout(function(){t.options.debug&&(window.REPL=function(e){var t=r(n.lex("(print:"+e+")"));console.log(t);var i=a({}).eval(t);return i.TwineScript_Run?i.TwineScript_Run().source:i},window.LEX=function(e){var t=n.lex(e);return 1===t.length?t[0]:t})})})}),require.config({paths:{jquery:"../node_modules/jquery/dist/jquery",almond:"../node_modules/almond/almond","es6-shim":"../node_modules/es6-shim/es6-shim",jqueryplugins:"utils/jqueryplugins",markup:"./markup/markup",lexer:"./markup/lexer",patterns:"./markup/patterns"},deps:["es6-shim","jqueryplugins"]}),require(["jquery","debugmode/mode","renderer","state","section","engine","passages","utils","utils/renderutils","internaltypes/varscope","internaltypes/twineerror","macros","macrolib/values","macrolib/commands","macrolib/datastructures","macrolib/stylechangers","macrolib/enchantments","macrolib/metadata","macrolib/patterns","macrolib/links","macrolib/custommacros","repl"],function($,DebugMode,Renderer,State,Section,Engine,Passages,Utils,_ref118,VarScope,TwineError){var dialog=_ref118.dialog;function __HarloweEval(text){return eval(text+"")}var _installHandlers=function(){$(document.documentElement).on("keydown",function(e){13===e.which&&"0"===e.target.getAttribute("tabindex")&&$(e.target).trigger("click")}),Engine.options.debug?DebugMode():TwineError.on("error",function(e,t){return!$("tw-debugger").length&&DebugMode(e,t)}),_installHandlers=null},oldOnError;function printJSError(e){var t=e.name+": "+e.message;if(e.stack){var n=e.stack.split("\n"),r=n.findIndex(function(e){return e.includes("__HarloweEval")});t+="\n"+n.slice(0,r).join("\n").replace(/\([^\)]+\)/g,"")}return"<div style='font-family:monospace;overflow-y:scroll;max-height:30vh'>```"+t+"```</div>"}oldOnError=window.onerror,window.onerror=function(e,t,n,r,a){window.onerror=oldOnError,Utils.storyElement.parent().append(dialog({message:"Sorry to interrupt, but this page's code has got itself in a mess.\n\n"+printJSError(a)+"\n(This is probably due to a bug in the Harlowe game engine.)"})),"function"==typeof oldOnError&&oldOnError.apply(void 0,arguments)},Utils.onStartup(function(){var e=$("tw-storydata");if(0!==e.length){var t=e.attr("options");t&&t.split(/\s/).forEach(function(e){Renderer.options[e]=Engine.options[e]=!0});var n=e.attr("startnode");Renderer.options.ifid=Engine.options.ifid=e.attr("ifid"),n||(n=[].reduce.call($("tw-passagedata"),function(e,t){var n=t.getAttribute("pid");return n<e?n:e},1/0)),n=$("tw-passagedata[pid="+n+"]").attr("name"),_installHandlers();var r=!1;$("[role=script]").each(function(e){try{__HarloweEval($(this).html())}catch(t){r||(r=!0,dialog({parent:Utils.storyElement.parent(),message:"There is a problem with this story's "+Utils.nth(e+1)+" script:\n\n"+printJSError(t)}))}}),$("[role=stylesheet]").each(function(e){$(document.head).append('<style data-title="Story stylesheet '+(e+1)+'">'+$(this).html())});var a=Section.create();a.stack=[{tempVariables:Object.create(VarScope)}];var i=Passages.loadMetadata(a);if(i.length){var o=dialog({parent:Utils.storyElement.parent(),message:"These errors occurred when running the `(metadata:)` macro calls in this story's passages:<p></p>"});i.forEach(function(e){return o.find("p").append(e.render(""))})}var s=!Engine.options.debug&&State.hasSessionStorage&&sessionStorage.getItem("Saved Session");s&&!0===State.deserialise(a,s)?Engine.showPassage(State.passage,!1):Engine.goToPassage(n)}})}),define("harlowe",function(){}),require(["harlowe"])}();
</script>

</body>
</html>
